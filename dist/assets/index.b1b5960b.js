const xi=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=o(i);fetch(i.href,s)}};xi();var Mt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function yi(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function Oa(t,a,o,r,i,s){return{tag:t,key:a,attrs:o,children:r,text:i,dom:s,domSize:void 0,state:void 0,events:void 0,instance:void 0}}Oa.normalize=function(t){return Array.isArray(t)?Oa("[",void 0,void 0,Oa.normalizeChildren(t),void 0,void 0):t==null||typeof t=="boolean"?null:typeof t=="object"?t:Oa("#",void 0,void 0,String(t),void 0,void 0)};Oa.normalizeChildren=function(t){var a=[];if(t.length){for(var o=t[0]!=null&&t[0].key!=null,r=1;r<t.length;r++)if((t[r]!=null&&t[r].key!=null)!==o)throw new TypeError(o&&(t[r]!=null||typeof t[r]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var r=0;r<t.length;r++)a[r]=Oa.normalize(t[r])}return a};var Ta=Oa,wi=Ta,Yr=function(){var t=arguments[this],a=this+1,o;if(t==null?t={}:(typeof t!="object"||t.tag!=null||Array.isArray(t))&&(t={},a=this),arguments.length===a+1)o=arguments[a],Array.isArray(o)||(o=[o]);else for(o=[];a<arguments.length;)o.push(arguments[a++]);return wi("",t.key,t,o)},Do={}.hasOwnProperty,_i=Ta,Pi=Yr,ao=Do,Ei=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,jr={};function mr(t){for(var a in t)if(ao.call(t,a))return!1;return!0}function Mi(t){for(var a,o="div",r=[],i={};a=Ei.exec(t);){var s=a[1],c=a[2];if(s===""&&c!=="")o=c;else if(s==="#")i.id=c;else if(s===".")r.push(c);else if(a[3][0]==="["){var p=a[6];p&&(p=p.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),a[4]==="class"?r.push(p):i[a[4]]=p===""?p:p||!0}}return r.length>0&&(i.className=r.join(" ")),jr[t]={tag:o,attrs:i}}function Di(t,a){var o=a.attrs,r=ao.call(o,"class"),i=r?o.class:o.className;if(a.tag=t.tag,a.attrs={},!mr(t.attrs)&&!mr(o)){var s={};for(var c in o)ao.call(o,c)&&(s[c]=o[c]);o=s}for(var c in t.attrs)ao.call(t.attrs,c)&&c!=="className"&&!ao.call(o,c)&&(o[c]=t.attrs[c]);(i!=null||t.attrs.className!=null)&&(o.className=i!=null?t.attrs.className!=null?String(t.attrs.className)+" "+String(i):i:t.attrs.className!=null?t.attrs.className:null),r&&(o.class=null);for(var c in o)if(ao.call(o,c)&&c!=="key"){a.attrs=o;break}return a}function Ti(t){if(t==null||typeof t!="string"&&typeof t!="function"&&typeof t.view!="function")throw Error("The selector must be either a string or a component.");var a=Pi.apply(1,arguments);return typeof t=="string"&&(a.children=_i.normalizeChildren(a.children),t!=="[")?Di(jr[t]||Mi(t),a):(a.tag=t,a)}var Ur=Ti,Ai=Ta,ki=function(t){return t==null&&(t=""),Ai("<",void 0,void 0,t,void 0,void 0)},Si=Ta,Ci=Yr,Ii=function(){var t=Ci.apply(0,arguments);return t.tag="[",t.children=Si.normalizeChildren(t.children),t},rr=Ur;rr.trust=ki;rr.fragment=Ii;var Ni=rr,fo={exports:{}},St=function(t){if(!(this instanceof St))throw new Error("Promise must be called with 'new'.");if(typeof t!="function")throw new TypeError("executor must be a function.");var a=this,o=[],r=[],i=f(o,!0),s=f(r,!1),c=a._instance={resolvers:o,rejectors:r},p=typeof setImmediate=="function"?setImmediate:setTimeout;function f(S,k){return function v(E){var D;try{if(k&&E!=null&&(typeof E=="object"||typeof E=="function")&&typeof(D=E.then)=="function"){if(E===a)throw new TypeError("Promise can't be resolved with itself.");u(D.bind(E))}else p(function(){!k&&S.length===0&&console.error("Possible unhandled promise rejection:",E);for(var h=0;h<S.length;h++)S[h](E);o.length=0,r.length=0,c.state=k,c.retry=function(){v(E)}})}catch(h){s(h)}}}function u(S){var k=0;function v(D){return function(h){k++>0||D(h)}}var E=v(s);try{S(v(i),E)}catch(D){E(D)}}u(t)};St.prototype.then=function(t,a){var o=this,r=o._instance;function i(f,u,S,k){u.push(function(v){if(typeof f!="function")S(v);else try{s(f(v))}catch(E){c&&c(E)}}),typeof r.retry=="function"&&k===r.state&&r.retry()}var s,c,p=new St(function(f,u){s=f,c=u});return i(t,r.resolvers,s,!0),i(a,r.rejectors,c,!1),p};St.prototype.catch=function(t){return this.then(null,t)};St.prototype.finally=function(t){return this.then(function(a){return St.resolve(t()).then(function(){return a})},function(a){return St.resolve(t()).then(function(){return St.reject(a)})})};St.resolve=function(t){return t instanceof St?t:new St(function(a){a(t)})};St.reject=function(t){return new St(function(a,o){o(t)})};St.all=function(t){return new St(function(a,o){var r=t.length,i=0,s=[];if(t.length===0)a([]);else for(var c=0;c<t.length;c++)(function(p){function f(u){i++,s[p]=u,i===r&&a(s)}t[p]!=null&&(typeof t[p]=="object"||typeof t[p]=="function")&&typeof t[p].then=="function"?t[p].then(f,o):f(t[p])})(c)})};St.race=function(t){return new St(function(a,o){for(var r=0;r<t.length;r++)t[r].then(a,o)})};var Br=St,no=Br;typeof window!="undefined"?(typeof window.Promise=="undefined"?window.Promise=no:window.Promise.prototype.finally||(window.Promise.prototype.finally=no.prototype.finally),fo.exports=window.Promise):typeof Mt!="undefined"?(typeof Mt.Promise=="undefined"?Mt.Promise=no:Mt.Promise.prototype.finally||(Mt.Promise.prototype.finally=no.prototype.finally),fo.exports=Mt.Promise):fo.exports=no;var $o=Ta,Ri=function(t){var a=t&&t.document,o,r={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function i(d){return d.attrs&&d.attrs.xmlns||r[d.tag]}function s(d,n){if(d.state!==n)throw new Error("'vnode.state' must not be modified.")}function c(d){var n=d.state;try{return this.apply(n,arguments)}finally{s(d,n)}}function p(){try{return a.activeElement}catch{return null}}function f(d,n,l,A,F,ee,De){for(var Le=l;Le<A;Le++){var he=n[Le];he!=null&&u(d,he,F,De,ee)}}function u(d,n,l,A,F){var ee=n.tag;if(typeof ee=="string")switch(n.state={},n.attrs!=null&&Co(n.attrs,n,l),ee){case"#":S(d,n,F);break;case"<":v(d,n,A,F);break;case"[":E(d,n,l,A,F);break;default:D(d,n,l,A,F)}else T(d,n,l,A,F)}function S(d,n,l){n.dom=a.createTextNode(n.children),le(d,n.dom,l)}var k={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function v(d,n,l,A){var F=n.children.match(/^\s*?<(\w+)/im)||[],ee=a.createElement(k[F[1]]||"div");l==="http://www.w3.org/2000/svg"?(ee.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+n.children+"</svg>",ee=ee.firstChild):ee.innerHTML=n.children,n.dom=ee.firstChild,n.domSize=ee.childNodes.length,n.instance=[];for(var De=a.createDocumentFragment(),Le;Le=ee.firstChild;)n.instance.push(Le),De.appendChild(Le);le(d,De,A)}function E(d,n,l,A,F){var ee=a.createDocumentFragment();if(n.children!=null){var De=n.children;f(ee,De,0,De.length,l,null,A)}n.dom=ee.firstChild,n.domSize=ee.childNodes.length,le(d,ee,F)}function D(d,n,l,A,F){var ee=n.tag,De=n.attrs,Le=De&&De.is;A=i(n)||A;var he=A?Le?a.createElementNS(A,ee,{is:Le}):a.createElementNS(A,ee):Le?a.createElement(ee,{is:Le}):a.createElement(ee);if(n.dom=he,De!=null&&P(n,De,A),le(d,he,F),!Te(n)&&n.children!=null){var Ke=n.children;f(he,Ke,0,Ke.length,l,null,A),n.tag==="select"&&De!=null&&B(n,De)}}function h(d,n){var l;if(typeof d.tag.view=="function"){if(d.state=Object.create(d.tag),l=d.state.view,l.$$reentrantLock$$!=null)return;l.$$reentrantLock$$=!0}else{if(d.state=void 0,l=d.tag,l.$$reentrantLock$$!=null)return;l.$$reentrantLock$$=!0,d.state=d.tag.prototype!=null&&typeof d.tag.prototype.view=="function"?new d.tag(d):d.tag(d)}if(Co(d.state,d,n),d.attrs!=null&&Co(d.attrs,d,n),d.instance=$o.normalize(c.call(d.state.view,d)),d.instance===d)throw Error("A view cannot return the vnode it received as argument");l.$$reentrantLock$$=null}function T(d,n,l,A,F){h(n,l),n.instance!=null?(u(d,n.instance,l,A,F),n.dom=n.instance.dom,n.domSize=n.dom!=null?n.instance.domSize:0):n.domSize=0}function oe(d,n,l,A,F,ee){if(!(n===l||n==null&&l==null))if(n==null||n.length===0)f(d,l,0,l.length,A,F,ee);else if(l==null||l.length===0)Fe(d,n,0,n.length);else{var De=n[0]!=null&&n[0].key!=null,Le=l[0]!=null&&l[0].key!=null,he=0,Ke=0;if(!De)for(;Ke<n.length&&n[Ke]==null;)Ke++;if(!Le)for(;he<l.length&&l[he]==null;)he++;if(De!==Le)Fe(d,n,Ke,n.length),f(d,l,he,l.length,A,F,ee);else if(Le){for(var Yt=n.length-1,Dt=l.length-1,go,jt,pt,Ht,dt,Ro;Yt>=Ke&&Dt>=he&&(Ht=n[Yt],dt=l[Dt],Ht.key===dt.key);)Ht!==dt&&g(d,Ht,dt,A,F,ee),dt.dom!=null&&(F=dt.dom),Yt--,Dt--;for(;Yt>=Ke&&Dt>=he&&(jt=n[Ke],pt=l[he],jt.key===pt.key);)Ke++,he++,jt!==pt&&g(d,jt,pt,A,O(n,Ke,F),ee);for(;Yt>=Ke&&Dt>=he&&!(he===Dt||jt.key!==dt.key||Ht.key!==pt.key);)Ro=O(n,Ke,F),Z(d,Ht,Ro),Ht!==pt&&g(d,Ht,pt,A,Ro,ee),++he<=--Dt&&Z(d,jt,F),jt!==dt&&g(d,jt,dt,A,F,ee),dt.dom!=null&&(F=dt.dom),Ke++,Yt--,Ht=n[Yt],dt=l[Dt],jt=n[Ke],pt=l[he];for(;Yt>=Ke&&Dt>=he&&Ht.key===dt.key;)Ht!==dt&&g(d,Ht,dt,A,F,ee),dt.dom!=null&&(F=dt.dom),Yt--,Dt--,Ht=n[Yt],dt=l[Dt];if(he>Dt)Fe(d,n,Ke,Yt+1);else if(Ke>Yt)f(d,l,he,Dt+1,A,F,ee);else{var vi=F,ur=Dt-he+1,io=new Array(ur),Lo=0,mt=0,Fo=2147483647,Oo=0,go,Ho;for(mt=0;mt<ur;mt++)io[mt]=-1;for(mt=Dt;mt>=he;mt--){go==null&&(go=se(n,Ke,Yt+1)),dt=l[mt];var Ka=go[dt.key];Ka!=null&&(Fo=Ka<Fo?Ka:-1,io[mt-he]=Ka,Ht=n[Ka],n[Ka]=null,Ht!==dt&&g(d,Ht,dt,A,F,ee),dt.dom!=null&&(F=dt.dom),Oo++)}if(F=vi,Oo!==Yt-Ke+1&&Fe(d,n,Ke,Yt+1),Oo===0)f(d,l,he,Dt+1,A,F,ee);else if(Fo===-1)for(Ho=y(io),Lo=Ho.length-1,mt=Dt;mt>=he;mt--)pt=l[mt],io[mt-he]===-1?u(d,pt,A,ee,F):Ho[Lo]===mt-he?Lo--:Z(d,pt,F),pt.dom!=null&&(F=l[mt].dom);else for(mt=Dt;mt>=he;mt--)pt=l[mt],io[mt-he]===-1&&u(d,pt,A,ee,F),pt.dom!=null&&(F=l[mt].dom)}}else{var No=n.length<l.length?n.length:l.length;for(he=he<Ke?he:Ke;he<No;he++)jt=n[he],pt=l[he],!(jt===pt||jt==null&&pt==null)&&(jt==null?u(d,pt,A,ee,O(n,he+1,F)):pt==null?j(d,jt):g(d,jt,pt,A,O(n,he+1,F),ee));n.length>No&&Fe(d,n,he,n.length),l.length>No&&f(d,l,he,l.length,A,F,ee)}}}function g(d,n,l,A,F,ee){var De=n.tag,Le=l.tag;if(De===Le){if(l.state=n.state,l.events=n.events,gi(l,n))return;if(typeof De=="string")switch(l.attrs!=null&&Io(l.attrs,l,A),De){case"#":b(n,l);break;case"<":x(d,n,l,ee,F);break;case"[":R(d,n,l,A,F,ee);break;default:L(n,l,A,ee)}else te(d,n,l,A,F,ee)}else j(d,n),u(d,l,A,ee,F)}function b(d,n){d.children.toString()!==n.children.toString()&&(d.dom.nodeValue=n.children),n.dom=d.dom}function x(d,n,l,A,F){n.children!==l.children?(Y(d,n),v(d,l,A,F)):(l.dom=n.dom,l.domSize=n.domSize,l.instance=n.instance)}function R(d,n,l,A,F,ee){oe(d,n.children,l.children,A,F,ee);var De=0,Le=l.children;if(l.dom=null,Le!=null){for(var he=0;he<Le.length;he++){var Ke=Le[he];Ke!=null&&Ke.dom!=null&&(l.dom==null&&(l.dom=Ke.dom),De+=Ke.domSize||1)}De!==1&&(l.domSize=De)}}function L(d,n,l,A){var F=n.dom=d.dom;A=i(n)||A,n.tag==="textarea"&&n.attrs==null&&(n.attrs={}),zt(n,d.attrs,n.attrs,A),Te(n)||oe(F,d.children,n.children,l,null,A)}function te(d,n,l,A,F,ee){if(l.instance=$o.normalize(c.call(l.state.view,l)),l.instance===l)throw Error("A view cannot return the vnode it received as argument");Io(l.state,l,A),l.attrs!=null&&Io(l.attrs,l,A),l.instance!=null?(n.instance==null?u(d,l.instance,A,ee,F):g(d,n.instance,l.instance,A,F,ee),l.dom=l.instance.dom,l.domSize=l.instance.domSize):n.instance!=null?(j(d,n.instance),l.dom=void 0,l.domSize=0):(l.dom=n.dom,l.domSize=n.domSize)}function se(d,n,l){for(var A=Object.create(null);n<l;n++){var F=d[n];if(F!=null){var ee=F.key;ee!=null&&(A[ee]=n)}}return A}var re=[];function y(d){for(var n=[0],l=0,A=0,F=0,ee=re.length=d.length,F=0;F<ee;F++)re[F]=d[F];for(var F=0;F<ee;++F)if(d[F]!==-1){var De=n[n.length-1];if(d[De]<d[F]){re[F]=De,n.push(F);continue}for(l=0,A=n.length-1;l<A;){var Le=(l>>>1)+(A>>>1)+(l&A&1);d[n[Le]]<d[F]?l=Le+1:A=Le}d[F]<d[n[l]]&&(l>0&&(re[F]=n[l-1]),n[l]=F)}for(l=n.length,A=n[l-1];l-- >0;)n[l]=A,A=re[A];return re.length=0,n}function O(d,n,l){for(;n<d.length;n++)if(d[n]!=null&&d[n].dom!=null)return d[n].dom;return l}function Z(d,n,l){var A=a.createDocumentFragment();q(d,A,n),le(d,A,l)}function q(d,n,l){for(;l.dom!=null&&l.dom.parentNode===d;){if(typeof l.tag!="string"){if(l=l.instance,l!=null)continue}else if(l.tag==="<")for(var A=0;A<l.instance.length;A++)n.appendChild(l.instance[A]);else if(l.tag!=="[")n.appendChild(l.dom);else if(l.children.length===1){if(l=l.children[0],l!=null)continue}else for(var A=0;A<l.children.length;A++){var F=l.children[A];F!=null&&q(d,n,F)}break}}function le(d,n,l){l!=null?d.insertBefore(n,l):d.appendChild(n)}function Te(d){if(d.attrs==null||d.attrs.contenteditable==null&&d.attrs.contentEditable==null)return!1;var n=d.children;if(n!=null&&n.length===1&&n[0].tag==="<"){var l=n[0].children;d.dom.innerHTML!==l&&(d.dom.innerHTML=l)}else if(n!=null&&n.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function Fe(d,n,l,A){for(var F=l;F<A;F++){var ee=n[F];ee!=null&&j(d,ee)}}function j(d,n){var l=0,A=n.state,F,ee;if(typeof n.tag!="string"&&typeof n.state.onbeforeremove=="function"){var De=c.call(n.state.onbeforeremove,n);De!=null&&typeof De.then=="function"&&(l=1,F=De)}if(n.attrs&&typeof n.attrs.onbeforeremove=="function"){var De=c.call(n.attrs.onbeforeremove,n);De!=null&&typeof De.then=="function"&&(l|=2,ee=De)}if(s(n,A),!l)fe(n),ae(d,n);else{if(F!=null){var Le=function(){l&1&&(l&=2,l||he())};F.then(Le,Le)}if(ee!=null){var Le=function(){l&2&&(l&=1,l||he())};ee.then(Le,Le)}}function he(){s(n,A),fe(n),ae(d,n)}}function Y(d,n){for(var l=0;l<n.instance.length;l++)d.removeChild(n.instance[l])}function ae(d,n){for(;n.dom!=null&&n.dom.parentNode===d;){if(typeof n.tag!="string"){if(n=n.instance,n!=null)continue}else if(n.tag==="<")Y(d,n);else{if(n.tag!=="["&&(d.removeChild(n.dom),!Array.isArray(n.children)))break;if(n.children.length===1){if(n=n.children[0],n!=null)continue}else for(var l=0;l<n.children.length;l++){var A=n.children[l];A!=null&&ae(d,A)}}break}}function fe(d){if(typeof d.tag!="string"&&typeof d.state.onremove=="function"&&c.call(d.state.onremove,d),d.attrs&&typeof d.attrs.onremove=="function"&&c.call(d.attrs.onremove,d),typeof d.tag!="string")d.instance!=null&&fe(d.instance);else{var n=d.children;if(Array.isArray(n))for(var l=0;l<n.length;l++){var A=n[l];A!=null&&fe(A)}}}function P(d,n,l){d.tag==="input"&&n.type!=null&&d.dom.setAttribute("type",n.type);var A=n!=null&&d.tag==="input"&&n.type==="file";for(var F in n)H(d,F,null,n[F],l,A)}function H(d,n,l,A,F,ee){if(!(n==="key"||n==="is"||A==null||Ma(n)||l===A&&!Bt(d,n)&&typeof A!="object"||n==="type"&&d.tag==="input")){if(n[0]==="o"&&n[1]==="n")return cr(d,n,A);if(n.slice(0,6)==="xlink:")d.dom.setAttributeNS("http://www.w3.org/1999/xlink",n.slice(6),A);else if(n==="style")lr(d.dom,l,A);else if(ma(d,n,F)){if(n==="value"){if((d.tag==="input"||d.tag==="textarea")&&d.dom.value===""+A&&(ee||d.dom===p())||d.tag==="select"&&l!==null&&d.dom.value===""+A||d.tag==="option"&&l!==null&&d.dom.value===""+A)return;if(ee&&""+A!=""){console.error("`value` is read-only on file inputs!");return}}d.dom[n]=A}else typeof A=="boolean"?A?d.dom.setAttribute(n,""):d.dom.removeAttribute(n):d.dom.setAttribute(n==="className"?"class":n,A)}}function U(d,n,l,A){if(!(n==="key"||n==="is"||l==null||Ma(n)))if(n[0]==="o"&&n[1]==="n")cr(d,n,void 0);else if(n==="style")lr(d.dom,l,null);else if(ma(d,n,A)&&n!=="className"&&n!=="title"&&!(n==="value"&&(d.tag==="option"||d.tag==="select"&&d.dom.selectedIndex===-1&&d.dom===p()))&&!(d.tag==="input"&&n==="type"))d.dom[n]=null;else{var F=n.indexOf(":");F!==-1&&(n=n.slice(F+1)),l!==!1&&d.dom.removeAttribute(n==="className"?"class":n)}}function B(d,n){if("value"in n)if(n.value===null)d.dom.selectedIndex!==-1&&(d.dom.value=null);else{var l=""+n.value;(d.dom.value!==l||d.dom.selectedIndex===-1)&&(d.dom.value=l)}"selectedIndex"in n&&H(d,"selectedIndex",null,n.selectedIndex,void 0)}function zt(d,n,l,A){if(n&&n===l&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),l!=null){d.tag==="input"&&l.type!=null&&d.dom.setAttribute("type",l.type);var F=d.tag==="input"&&l.type==="file";for(var ee in l)H(d,ee,n&&n[ee],l[ee],A,F)}var De;if(n!=null)for(var ee in n)(De=n[ee])!=null&&(l==null||l[ee]==null)&&U(d,ee,De,A)}function Bt(d,n){return n==="value"||n==="checked"||n==="selectedIndex"||n==="selected"&&d.dom===p()||d.tag==="option"&&d.dom.parentNode===a.activeElement}function Ma(d){return d==="oninit"||d==="oncreate"||d==="onupdate"||d==="onremove"||d==="onbeforeremove"||d==="onbeforeupdate"}function ma(d,n,l){return l===void 0&&(d.tag.indexOf("-")>-1||d.attrs!=null&&d.attrs.is||n!=="href"&&n!=="list"&&n!=="form"&&n!=="width"&&n!=="height")&&n in d.dom}var bi=/[A-Z]/g;function hi(d){return"-"+d.toLowerCase()}function ko(d){return d[0]==="-"&&d[1]==="-"?d:d==="cssFloat"?"float":d.replace(bi,hi)}function lr(d,n,l){if(n!==l)if(l==null)d.style.cssText="";else if(typeof l!="object")d.style.cssText=l;else if(n==null||typeof n!="object"){d.style.cssText="";for(var A in l){var F=l[A];F!=null&&d.style.setProperty(ko(A),String(F))}}else{for(var A in l){var F=l[A];F!=null&&(F=String(F))!==String(n[A])&&d.style.setProperty(ko(A),F)}for(var A in n)n[A]!=null&&l[A]==null&&d.style.removeProperty(ko(A))}}function So(){this._=o}So.prototype=Object.create(null),So.prototype.handleEvent=function(d){var n=this["on"+d.type],l;typeof n=="function"?l=n.call(d.currentTarget,d):typeof n.handleEvent=="function"&&n.handleEvent(d),this._&&d.redraw!==!1&&(0,this._)(),l===!1&&(d.preventDefault(),d.stopPropagation())};function cr(d,n,l){if(d.events!=null){if(d.events._=o,d.events[n]===l)return;l!=null&&(typeof l=="function"||typeof l=="object")?(d.events[n]==null&&d.dom.addEventListener(n.slice(2),d.events,!1),d.events[n]=l):(d.events[n]!=null&&d.dom.removeEventListener(n.slice(2),d.events,!1),d.events[n]=void 0)}else l!=null&&(typeof l=="function"||typeof l=="object")&&(d.events=new So,d.dom.addEventListener(n.slice(2),d.events,!1),d.events[n]=l)}function Co(d,n,l){typeof d.oninit=="function"&&c.call(d.oninit,n),typeof d.oncreate=="function"&&l.push(c.bind(d.oncreate,n))}function Io(d,n,l){typeof d.onupdate=="function"&&l.push(c.bind(d.onupdate,n))}function gi(d,n){do{if(d.attrs!=null&&typeof d.attrs.onbeforeupdate=="function"){var l=c.call(d.attrs.onbeforeupdate,d,n);if(l!==void 0&&!l)break}if(typeof d.tag!="string"&&typeof d.state.onbeforeupdate=="function"){var l=c.call(d.state.onbeforeupdate,d,n);if(l!==void 0&&!l)break}return!1}while(!1);return d.dom=n.dom,d.domSize=n.domSize,d.instance=n.instance,d.attrs=n.attrs,d.children=n.children,d.text=n.text,!0}var ro;return function(d,n,l){if(!d)throw new TypeError("DOM element being rendered to does not exist.");if(ro!=null&&d.contains(ro))throw new TypeError("Node is currently being rendered to and thus is locked.");var A=o,F=ro,ee=[],De=p(),Le=d.namespaceURI;ro=d,o=typeof l=="function"?l:void 0;try{d.vnodes==null&&(d.textContent=""),n=$o.normalizeChildren(Array.isArray(n)?n:[n]),oe(d,d.vnodes,n,ee,null,Le==="http://www.w3.org/1999/xhtml"?void 0:Le),d.vnodes=n,De!=null&&p()!==De&&typeof De.focus=="function"&&De.focus();for(var he=0;he<ee.length;he++)ee[he]()}finally{o=A,ro=F}}},Vr=Ri(typeof window!="undefined"?window:null),pr=Ta,Li=function(t,a,o){var r=[],i=!1,s=-1;function c(){for(s=0;s<r.length;s+=2)try{t(r[s],pr(r[s+1]),p)}catch(u){o.error(u)}s=-1}function p(){i||(i=!0,a(function(){i=!1,c()}))}p.sync=c;function f(u,S){if(S!=null&&S.view==null&&typeof S!="function")throw new TypeError("m.mount expects a component, not a vnode.");var k=r.indexOf(u);k>=0&&(r.splice(k,2),k<=s&&(s-=2),t(u,[])),S!=null&&(r.push(u,S),t(u,pr(S),p))}return{mount:f,redraw:p}},Fi=Vr,ir=Li(Fi,typeof requestAnimationFrame!="undefined"?requestAnimationFrame:null,typeof console!="undefined"?console:null),qr=function(t){if(Object.prototype.toString.call(t)!=="[object Object]")return"";var a=[];for(var o in t)r(o,t[o]);return a.join("&");function r(i,s){if(Array.isArray(s))for(var c=0;c<s.length;c++)r(i+"["+c+"]",s[c]);else if(Object.prototype.toString.call(s)==="[object Object]")for(var c in s)r(i+"["+c+"]",s[c]);else a.push(encodeURIComponent(i)+(s!=null&&s!==""?"="+encodeURIComponent(s):""))}},Oi=Do,Jr=Object.assign||function(t,a){for(var o in a)Oi.call(a,o)&&(t[o]=a[o])},Hi=qr,$i=Jr,nr=function(t,a){if(/:([^\/\.-]+)(\.{3})?:/.test(t))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(a==null)return t;var o=t.indexOf("?"),r=t.indexOf("#"),i=r<0?t.length:r,s=o<0?i:o,c=t.slice(0,s),p={};$i(p,a);var f=c.replace(/:([^\/\.-]+)(\.{3})?/g,function(h,T,oe){return delete p[T],a[T]==null?h:oe?a[T]:encodeURIComponent(String(a[T]))}),u=f.indexOf("?"),S=f.indexOf("#"),k=S<0?f.length:S,v=u<0?k:u,E=f.slice(0,v);o>=0&&(E+=t.slice(o,i)),u>=0&&(E+=(o<0?"?":"&")+f.slice(u,k));var D=Hi(p);return D&&(E+=(o<0&&u<0?"?":"&")+D),r>=0&&(E+=t.slice(r)),S>=0&&(E+=(r<0?"":"&")+f.slice(S)),E},Yi=nr,fr=Do,ji=function(t,a,o){var r=0;function i(p){return new a(p)}i.prototype=a.prototype,i.__proto__=a;function s(p){return function(f,u){typeof f!="string"?(u=f,f=f.url):u==null&&(u={});var S=new a(function(D,h){p(Yi(f,u.params),u,function(T){if(typeof u.type=="function")if(Array.isArray(T))for(var oe=0;oe<T.length;oe++)T[oe]=new u.type(T[oe]);else T=new u.type(T);D(T)},h)});if(u.background===!0)return S;var k=0;function v(){--k===0&&typeof o=="function"&&o()}return E(S);function E(D){var h=D.then;return D.constructor=i,D.then=function(){k++;var T=h.apply(D,arguments);return T.then(v,function(oe){if(v(),k===0)throw oe}),E(T)},D}}}function c(p,f){for(var u in p.headers)if(fr.call(p.headers,u)&&u.toLowerCase()===f)return!0;return!1}return{request:s(function(p,f,u,S){var k=f.method!=null?f.method.toUpperCase():"GET",v=f.body,E=(f.serialize==null||f.serialize===JSON.serialize)&&!(v instanceof t.FormData||v instanceof t.URLSearchParams),D=f.responseType||(typeof f.extract=="function"?"":"json"),h=new t.XMLHttpRequest,T=!1,oe=!1,g=h,b,x=h.abort;h.abort=function(){T=!0,x.call(this)},h.open(k,p,f.async!==!1,typeof f.user=="string"?f.user:void 0,typeof f.password=="string"?f.password:void 0),E&&v!=null&&!c(f,"content-type")&&h.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof f.deserialize!="function"&&!c(f,"accept")&&h.setRequestHeader("Accept","application/json, text/*"),f.withCredentials&&(h.withCredentials=f.withCredentials),f.timeout&&(h.timeout=f.timeout),h.responseType=D;for(var R in f.headers)fr.call(f.headers,R)&&h.setRequestHeader(R,f.headers[R]);h.onreadystatechange=function(L){if(!T&&L.target.readyState===4)try{var te=L.target.status>=200&&L.target.status<300||L.target.status===304||/^file:\/\//i.test(p),se=L.target.response,re;if(D==="json"){if(!L.target.responseType&&typeof f.extract!="function")try{se=JSON.parse(L.target.responseText)}catch{se=null}}else(!D||D==="text")&&se==null&&(se=L.target.responseText);if(typeof f.extract=="function"?(se=f.extract(L.target,f),te=!0):typeof f.deserialize=="function"&&(se=f.deserialize(se)),te)u(se);else{var y=function(){try{re=L.target.responseText}catch{re=se}var O=new Error(re);O.code=L.target.status,O.response=se,S(O)};h.status===0?setTimeout(function(){oe||y()}):y()}}catch(O){S(O)}},h.ontimeout=function(L){oe=!0;var te=new Error("Request timed out");te.code=L.target.status,S(te)},typeof f.config=="function"&&(h=f.config(h,f,p)||h,h!==g&&(b=h.abort,h.abort=function(){T=!0,b.call(this)})),v==null?h.send():typeof f.serialize=="function"?h.send(f.serialize(v)):v instanceof t.FormData||v instanceof t.URLSearchParams?h.send(v):h.send(JSON.stringify(v))}),jsonp:s(function(p,f,u,S){var k=f.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+r++,v=t.document.createElement("script");t[k]=function(E){delete t[k],v.parentNode.removeChild(v),u(E)},v.onerror=function(){delete t[k],v.parentNode.removeChild(v),S(new Error("JSONP request failed"))},v.src=p+(p.indexOf("?")<0?"?":"&")+encodeURIComponent(f.callbackKey||"callback")+"="+encodeURIComponent(k),t.document.documentElement.appendChild(v)})}},Ui=fo.exports,Bi=ir,Vi=ji(typeof window!="undefined"?window:null,Ui,Bi.redraw);function br(t){try{return decodeURIComponent(t)}catch{return t}}var zr=function(t){if(t===""||t==null)return{};t.charAt(0)==="?"&&(t=t.slice(1));for(var a=t.split("&"),o={},r={},i=0;i<a.length;i++){var s=a[i].split("="),c=br(s[0]),p=s.length===2?br(s[1]):"";p==="true"?p=!0:p==="false"&&(p=!1);var f=c.split(/\]\[?|\[/),u=r;c.indexOf("[")>-1&&f.pop();for(var S=0;S<f.length;S++){var k=f[S],v=f[S+1],E=v==""||!isNaN(parseInt(v,10));if(k===""){var c=f.slice(0,S).join();o[c]==null&&(o[c]=Array.isArray(u)?u.length:0),k=o[c]++}else if(k==="__proto__")break;if(S===f.length-1)u[k]=p;else{var D=Object.getOwnPropertyDescriptor(u,k);D!=null&&(D=D.value),D==null&&(u[k]=D=E?[]:{}),u=D}}}return r},qi=zr,sr=function(t){var a=t.indexOf("?"),o=t.indexOf("#"),r=o<0?t.length:o,i=a<0?r:a,s=t.slice(0,i).replace(/\/{2,}/g,"/");return s?(s[0]!=="/"&&(s="/"+s),s.length>1&&s[s.length-1]==="/"&&(s=s.slice(0,-1))):s="/",{path:s,params:a<0?{}:qi(t.slice(a+1,r))}},Ji=sr,zi=function(t){var a=Ji(t),o=Object.keys(a.params),r=[],i=new RegExp("^"+a.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(s,c,p){return c==null?"\\"+s:(r.push({k:c,r:p==="..."}),p==="..."?"(.*)":p==="."?"([^/]+)\\.":"([^/]+)"+(p||""))})+"$");return function(s){for(var c=0;c<o.length;c++)if(a.params[o[c]]!==s.params[o[c]])return!1;if(!r.length)return i.test(s.path);var p=i.exec(s.path);if(p==null)return!1;for(var c=0;c<r.length;c++)s.params[r[c].k]=r[c].r?p[c+1]:decodeURIComponent(p[c+1]);return!0}},hr=Do,gr=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$"),Gr=function(t,a){var o={};if(a!=null)for(var r in t)hr.call(t,r)&&!gr.test(r)&&a.indexOf(r)<0&&(o[r]=t[r]);else for(var r in t)hr.call(t,r)&&!gr.test(r)&&(o[r]=t[r]);return o},Gi=Ta,Xi=Ur,Ki=fo.exports,vr=nr,xr=sr,Wi=zi,Zi=Jr,Qi=Gr,Yo={};function en(t){try{return decodeURIComponent(t)}catch{return t}}var tn=function(t,a){var o=t==null?null:typeof t.setImmediate=="function"?t.setImmediate:t.setTimeout,r=Ki.resolve(),i=!1,s=!1,c=0,p,f,u=Yo,S,k,v,E,D={onbeforeupdate:function(){return c=c?2:1,!(!c||Yo===u)},onremove:function(){t.removeEventListener("popstate",oe,!1),t.removeEventListener("hashchange",T,!1)},view:function(){if(!(!c||Yo===u)){var x=[Gi(S,k.key,k)];return u&&(x=u.render(x[0])),x}}},h=b.SKIP={};function T(){i=!1;var x=t.location.hash;b.prefix[0]!=="#"&&(x=t.location.search+x,b.prefix[0]!=="?"&&(x=t.location.pathname+x,x[0]!=="/"&&(x="/"+x)));var R=x.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,en).slice(b.prefix.length),L=xr(R);Zi(L.params,t.history.state);function te(re){console.error(re),g(f,null,{replace:!0})}se(0);function se(re){for(;re<p.length;re++)if(p[re].check(L)){var y=p[re].component,O=p[re].route,Z=y,q=E=function(le){if(q===E){if(le===h)return se(re+1);S=le!=null&&(typeof le.view=="function"||typeof le=="function")?le:"div",k=L.params,v=R,E=null,u=y.render?y:null,c===2?a.redraw():(c=2,a.redraw.sync())}};y.view||typeof y=="function"?(y={},q(Z)):y.onmatch?r.then(function(){return y.onmatch(L.params,R,O)}).then(q,R===f?null:te):q("div");return}if(R===f)throw new Error("Could not resolve default route "+f+".");g(f,null,{replace:!0})}}function oe(){i||(i=!0,o(T))}function g(x,R,L){if(x=vr(x,R),s){oe();var te=L?L.state:null,se=L?L.title:null;L&&L.replace?t.history.replaceState(te,se,b.prefix+x):t.history.pushState(te,se,b.prefix+x)}else t.location.href=b.prefix+x}function b(x,R,L){if(!x)throw new TypeError("DOM element being rendered to does not exist.");if(p=Object.keys(L).map(function(se){if(se[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(se))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:se,component:L[se],check:Wi(se)}}),f=R,R!=null){var te=xr(R);if(!p.some(function(se){return se.check(te)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof t.history.pushState=="function"?t.addEventListener("popstate",oe,!1):b.prefix[0]==="#"&&t.addEventListener("hashchange",T,!1),s=!0,a.mount(x,D),T()}return b.set=function(x,R,L){E!=null&&(L=L||{},L.replace=!0),E=null,g(x,R,L)},b.get=function(){return v},b.prefix="#!",b.Link={view:function(x){var R=Xi(x.attrs.selector||"a",Qi(x.attrs,["options","params","selector","onclick"]),x.children),L,te,se;return(R.attrs.disabled=Boolean(R.attrs.disabled))?(R.attrs.href=null,R.attrs["aria-disabled"]="true"):(L=x.attrs.options,te=x.attrs.onclick,se=vr(R.attrs.href,x.attrs.params),R.attrs.href=b.prefix+se,R.attrs.onclick=function(re){var y;typeof te=="function"?y=te.call(re.currentTarget,re):te==null||typeof te!="object"||typeof te.handleEvent=="function"&&te.handleEvent(re),y!==!1&&!re.defaultPrevented&&(re.button===0||re.which===0||re.which===1)&&(!re.currentTarget.target||re.currentTarget.target==="_self")&&!re.ctrlKey&&!re.metaKey&&!re.shiftKey&&!re.altKey&&(re.preventDefault(),re.redraw=!1,b.set(se,null,L))}),R}},b.param=function(x){return k&&x!=null?k[x]:k},b},an=ir,on=tn(typeof window!="undefined"?window:null,an),To=Ni,Xr=Vi,Kr=ir,Ct=function(){return To.apply(this,arguments)};Ct.m=To;Ct.trust=To.trust;Ct.fragment=To.fragment;Ct.Fragment="[";Ct.mount=Kr.mount;Ct.route=on;Ct.render=Vr;Ct.redraw=Kr.redraw;Ct.request=Xr.request;Ct.jsonp=Xr.jsonp;Ct.parseQueryString=zr;Ct.buildQueryString=qr;Ct.parsePathname=sr;Ct.buildPathname=nr;Ct.vnode=Ta;Ct.PromisePolyfill=Br;Ct.censor=Gr;var e=Ct;const rn={httpError:"Error en petici\xF3n HTTP. [HTTP ERROR] Comun\xEDcate son soporte."};var Wr={exports:{}};(function(t,a){(function(o,r){t.exports=r()})(Mt,function(){return(()=>{var o={d:(E,D)=>{for(var h in D)o.o(D,h)&&!o.o(E,h)&&Object.defineProperty(E,h,{enumerable:!0,get:D[h]})},o:(E,D)=>Object.prototype.hasOwnProperty.call(E,D)},r={};o.d(r,{default:()=>v});const i=(...E)=>{},s=E=>E!==null&&E.constructor.name==="Object";let c;const p=()=>{if(c!==void 0)return c;c=!0;try{localStorage||(c=!1)}catch{c=!1}return k(),c},f=String.fromCharCode(0),u=(E,D,h=!0)=>h?[...JSON.stringify(E)].map(T=>String.fromCharCode(T.charCodeAt(0)+D)).join(""):JSON.parse([...E].map(T=>String.fromCharCode(T.charCodeAt(0)-D)).join("")),S={ttl:null,encrypt:!1,encrypter:u,decrypter:(E,D)=>u(E,D,!1),secret:75},k=(E=!1)=>{if(!p())return!1;Object.keys(localStorage).forEach(D=>{const h=localStorage.getItem(D);if(!h)return;let T;try{T=JSON.parse(h)}catch{return}s(T)&&f in T&&(Date.now()>T.ttl||E)&&localStorage.removeItem(D)})},v={config:S,set:(E,D,h={})=>{if(!p())return!1;const T=Object.assign(Object.assign(Object.assign({},S),h),{encrypt:h.encrypt!==!1&&(h.encrypt||S.encrypt),ttl:h.ttl===null?null:h.ttl||S.ttl});try{const oe=T.ttl&&!isNaN(T.ttl)&&T.ttl>0;let g=oe?{[f]:D,ttl:Date.now()+1e3*T.ttl}:D;T.encrypt&&(oe?g[f]=(T.encrypter||i)(g[f],T.secret):g=(T.encrypter||i)(g,T.secret)),localStorage.setItem(E,JSON.stringify(g))}catch{return!1}},get:(E,D={})=>{if(!p())return null;const h=localStorage.getItem(E);if(!h)return null;const T=Object.assign(Object.assign(Object.assign({},S),D),{encrypt:D.encrypt!==!1&&(D.encrypt||S.encrypt),ttl:D.ttl===null?null:D.ttl||S.ttl});let oe=JSON.parse(h);const g=s(oe)&&f in oe;if(T.decrypt||T.encrypt)try{g?oe[f]=(T.decrypter||i)(oe[f],T.secret):oe=(T.decrypter||i)(oe,T.secret)}catch{}return g?Date.now()>oe.ttl?(localStorage.removeItem(E),null):oe[f]:oe},flush:k,clear:()=>{if(!p())return!1;localStorage.clear()},remove:E=>{if(!p())return!1;localStorage.removeItem(E)}};return r.default})()})})(Wr);var pa=Wr.exports,Zr={exports:{}},Ea={exports:{}};(function(t,a){(function(o,r){t.exports=r()})(Mt,function(){var o=o||function(r,i){var s;if(typeof window!="undefined"&&window.crypto&&(s=window.crypto),typeof self!="undefined"&&self.crypto&&(s=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window!="undefined"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof Mt!="undefined"&&Mt.crypto&&(s=Mt.crypto),!s&&typeof yi=="function")try{s=require("crypto")}catch{}var c=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},p=Object.create||function(){function g(){}return function(b){var x;return g.prototype=b,x=new g,g.prototype=null,x}}(),f={},u=f.lib={},S=u.Base=function(){return{extend:function(g){var b=p(this);return g&&b.mixIn(g),(!b.hasOwnProperty("init")||this.init===b.init)&&(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var g=this.extend();return g.init.apply(g,arguments),g},init:function(){},mixIn:function(g){for(var b in g)g.hasOwnProperty(b)&&(this[b]=g[b]);g.hasOwnProperty("toString")&&(this.toString=g.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),k=u.WordArray=S.extend({init:function(g,b){g=this.words=g||[],b!=i?this.sigBytes=b:this.sigBytes=g.length*4},toString:function(g){return(g||E).stringify(this)},concat:function(g){var b=this.words,x=g.words,R=this.sigBytes,L=g.sigBytes;if(this.clamp(),R%4)for(var te=0;te<L;te++){var se=x[te>>>2]>>>24-te%4*8&255;b[R+te>>>2]|=se<<24-(R+te)%4*8}else for(var re=0;re<L;re+=4)b[R+re>>>2]=x[re>>>2];return this.sigBytes+=L,this},clamp:function(){var g=this.words,b=this.sigBytes;g[b>>>2]&=4294967295<<32-b%4*8,g.length=r.ceil(b/4)},clone:function(){var g=S.clone.call(this);return g.words=this.words.slice(0),g},random:function(g){for(var b=[],x=0;x<g;x+=4)b.push(c());return new k.init(b,g)}}),v=f.enc={},E=v.Hex={stringify:function(g){for(var b=g.words,x=g.sigBytes,R=[],L=0;L<x;L++){var te=b[L>>>2]>>>24-L%4*8&255;R.push((te>>>4).toString(16)),R.push((te&15).toString(16))}return R.join("")},parse:function(g){for(var b=g.length,x=[],R=0;R<b;R+=2)x[R>>>3]|=parseInt(g.substr(R,2),16)<<24-R%8*4;return new k.init(x,b/2)}},D=v.Latin1={stringify:function(g){for(var b=g.words,x=g.sigBytes,R=[],L=0;L<x;L++){var te=b[L>>>2]>>>24-L%4*8&255;R.push(String.fromCharCode(te))}return R.join("")},parse:function(g){for(var b=g.length,x=[],R=0;R<b;R++)x[R>>>2]|=(g.charCodeAt(R)&255)<<24-R%4*8;return new k.init(x,b)}},h=v.Utf8={stringify:function(g){try{return decodeURIComponent(escape(D.stringify(g)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(g){return D.parse(unescape(encodeURIComponent(g)))}},T=u.BufferedBlockAlgorithm=S.extend({reset:function(){this._data=new k.init,this._nDataBytes=0},_append:function(g){typeof g=="string"&&(g=h.parse(g)),this._data.concat(g),this._nDataBytes+=g.sigBytes},_process:function(g){var b,x=this._data,R=x.words,L=x.sigBytes,te=this.blockSize,se=te*4,re=L/se;g?re=r.ceil(re):re=r.max((re|0)-this._minBufferSize,0);var y=re*te,O=r.min(y*4,L);if(y){for(var Z=0;Z<y;Z+=te)this._doProcessBlock(R,Z);b=R.splice(0,y),x.sigBytes-=O}return new k.init(b,O)},clone:function(){var g=S.clone.call(this);return g._data=this._data.clone(),g},_minBufferSize:0});u.Hasher=T.extend({cfg:S.extend(),init:function(g){this.cfg=this.cfg.extend(g),this.reset()},reset:function(){T.reset.call(this),this._doReset()},update:function(g){return this._append(g),this._process(),this},finalize:function(g){g&&this._append(g);var b=this._doFinalize();return b},blockSize:16,_createHelper:function(g){return function(b,x){return new g.init(x).finalize(b)}},_createHmacHelper:function(g){return function(b,x){return new oe.HMAC.init(g,x).finalize(b)}}});var oe=f.algo={};return f}(Math);return o})})(Ea);(function(t,a){(function(o,r){t.exports=r(Ea.exports)})(Mt,function(o){return o.enc.Utf8})})(Zr);var nn=Zr.exports,Qr={exports:{}},ei={exports:{}};(function(t,a){(function(o,r){t.exports=r(Ea.exports)})(Mt,function(o){return function(){var r=o,i=r.lib,s=i.WordArray,c=r.enc;c.Base64={stringify:function(f){var u=f.words,S=f.sigBytes,k=this._map;f.clamp();for(var v=[],E=0;E<S;E+=3)for(var D=u[E>>>2]>>>24-E%4*8&255,h=u[E+1>>>2]>>>24-(E+1)%4*8&255,T=u[E+2>>>2]>>>24-(E+2)%4*8&255,oe=D<<16|h<<8|T,g=0;g<4&&E+g*.75<S;g++)v.push(k.charAt(oe>>>6*(3-g)&63));var b=k.charAt(64);if(b)for(;v.length%4;)v.push(b);return v.join("")},parse:function(f){var u=f.length,S=this._map,k=this._reverseMap;if(!k){k=this._reverseMap=[];for(var v=0;v<S.length;v++)k[S.charCodeAt(v)]=v}var E=S.charAt(64);if(E){var D=f.indexOf(E);D!==-1&&(u=D)}return p(f,u,k)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function p(f,u,S){for(var k=[],v=0,E=0;E<u;E++)if(E%4){var D=S[f.charCodeAt(E-1)]<<E%4*2,h=S[f.charCodeAt(E)]>>>6-E%4*2,T=D|h;k[v>>>2]|=T<<24-v%4*8,v++}return s.create(k,v)}}(),o.enc.Base64})})(ei);var ti={exports:{}};(function(t,a){(function(o,r){t.exports=r(Ea.exports)})(Mt,function(o){return function(r){var i=o,s=i.lib,c=s.WordArray,p=s.Hasher,f=i.algo,u=[];(function(){for(var h=0;h<64;h++)u[h]=r.abs(r.sin(h+1))*4294967296|0})();var S=f.MD5=p.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(h,T){for(var oe=0;oe<16;oe++){var g=T+oe,b=h[g];h[g]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}var x=this._hash.words,R=h[T+0],L=h[T+1],te=h[T+2],se=h[T+3],re=h[T+4],y=h[T+5],O=h[T+6],Z=h[T+7],q=h[T+8],le=h[T+9],Te=h[T+10],Fe=h[T+11],j=h[T+12],Y=h[T+13],ae=h[T+14],fe=h[T+15],P=x[0],H=x[1],U=x[2],B=x[3];P=k(P,H,U,B,R,7,u[0]),B=k(B,P,H,U,L,12,u[1]),U=k(U,B,P,H,te,17,u[2]),H=k(H,U,B,P,se,22,u[3]),P=k(P,H,U,B,re,7,u[4]),B=k(B,P,H,U,y,12,u[5]),U=k(U,B,P,H,O,17,u[6]),H=k(H,U,B,P,Z,22,u[7]),P=k(P,H,U,B,q,7,u[8]),B=k(B,P,H,U,le,12,u[9]),U=k(U,B,P,H,Te,17,u[10]),H=k(H,U,B,P,Fe,22,u[11]),P=k(P,H,U,B,j,7,u[12]),B=k(B,P,H,U,Y,12,u[13]),U=k(U,B,P,H,ae,17,u[14]),H=k(H,U,B,P,fe,22,u[15]),P=v(P,H,U,B,L,5,u[16]),B=v(B,P,H,U,O,9,u[17]),U=v(U,B,P,H,Fe,14,u[18]),H=v(H,U,B,P,R,20,u[19]),P=v(P,H,U,B,y,5,u[20]),B=v(B,P,H,U,Te,9,u[21]),U=v(U,B,P,H,fe,14,u[22]),H=v(H,U,B,P,re,20,u[23]),P=v(P,H,U,B,le,5,u[24]),B=v(B,P,H,U,ae,9,u[25]),U=v(U,B,P,H,se,14,u[26]),H=v(H,U,B,P,q,20,u[27]),P=v(P,H,U,B,Y,5,u[28]),B=v(B,P,H,U,te,9,u[29]),U=v(U,B,P,H,Z,14,u[30]),H=v(H,U,B,P,j,20,u[31]),P=E(P,H,U,B,y,4,u[32]),B=E(B,P,H,U,q,11,u[33]),U=E(U,B,P,H,Fe,16,u[34]),H=E(H,U,B,P,ae,23,u[35]),P=E(P,H,U,B,L,4,u[36]),B=E(B,P,H,U,re,11,u[37]),U=E(U,B,P,H,Z,16,u[38]),H=E(H,U,B,P,Te,23,u[39]),P=E(P,H,U,B,Y,4,u[40]),B=E(B,P,H,U,R,11,u[41]),U=E(U,B,P,H,se,16,u[42]),H=E(H,U,B,P,O,23,u[43]),P=E(P,H,U,B,le,4,u[44]),B=E(B,P,H,U,j,11,u[45]),U=E(U,B,P,H,fe,16,u[46]),H=E(H,U,B,P,te,23,u[47]),P=D(P,H,U,B,R,6,u[48]),B=D(B,P,H,U,Z,10,u[49]),U=D(U,B,P,H,ae,15,u[50]),H=D(H,U,B,P,y,21,u[51]),P=D(P,H,U,B,j,6,u[52]),B=D(B,P,H,U,se,10,u[53]),U=D(U,B,P,H,Te,15,u[54]),H=D(H,U,B,P,L,21,u[55]),P=D(P,H,U,B,q,6,u[56]),B=D(B,P,H,U,fe,10,u[57]),U=D(U,B,P,H,O,15,u[58]),H=D(H,U,B,P,Y,21,u[59]),P=D(P,H,U,B,re,6,u[60]),B=D(B,P,H,U,Fe,10,u[61]),U=D(U,B,P,H,te,15,u[62]),H=D(H,U,B,P,le,21,u[63]),x[0]=x[0]+P|0,x[1]=x[1]+H|0,x[2]=x[2]+U|0,x[3]=x[3]+B|0},_doFinalize:function(){var h=this._data,T=h.words,oe=this._nDataBytes*8,g=h.sigBytes*8;T[g>>>5]|=128<<24-g%32;var b=r.floor(oe/4294967296),x=oe;T[(g+64>>>9<<4)+15]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,T[(g+64>>>9<<4)+14]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,h.sigBytes=(T.length+1)*4,this._process();for(var R=this._hash,L=R.words,te=0;te<4;te++){var se=L[te];L[te]=(se<<8|se>>>24)&16711935|(se<<24|se>>>8)&4278255360}return R},clone:function(){var h=p.clone.call(this);return h._hash=this._hash.clone(),h}});function k(h,T,oe,g,b,x,R){var L=h+(T&oe|~T&g)+b+R;return(L<<x|L>>>32-x)+T}function v(h,T,oe,g,b,x,R){var L=h+(T&g|oe&~g)+b+R;return(L<<x|L>>>32-x)+T}function E(h,T,oe,g,b,x,R){var L=h+(T^oe^g)+b+R;return(L<<x|L>>>32-x)+T}function D(h,T,oe,g,b,x,R){var L=h+(oe^(T|~g))+b+R;return(L<<x|L>>>32-x)+T}i.MD5=p._createHelper(S),i.HmacMD5=p._createHmacHelper(S)}(Math),o.MD5})})(ti);var dr={exports:{}},ai={exports:{}};(function(t,a){(function(o,r){t.exports=r(Ea.exports)})(Mt,function(o){return function(){var r=o,i=r.lib,s=i.WordArray,c=i.Hasher,p=r.algo,f=[],u=p.SHA1=c.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(S,k){for(var v=this._hash.words,E=v[0],D=v[1],h=v[2],T=v[3],oe=v[4],g=0;g<80;g++){if(g<16)f[g]=S[k+g]|0;else{var b=f[g-3]^f[g-8]^f[g-14]^f[g-16];f[g]=b<<1|b>>>31}var x=(E<<5|E>>>27)+oe+f[g];g<20?x+=(D&h|~D&T)+1518500249:g<40?x+=(D^h^T)+1859775393:g<60?x+=(D&h|D&T|h&T)-1894007588:x+=(D^h^T)-899497514,oe=T,T=h,h=D<<30|D>>>2,D=E,E=x}v[0]=v[0]+E|0,v[1]=v[1]+D|0,v[2]=v[2]+h|0,v[3]=v[3]+T|0,v[4]=v[4]+oe|0},_doFinalize:function(){var S=this._data,k=S.words,v=this._nDataBytes*8,E=S.sigBytes*8;return k[E>>>5]|=128<<24-E%32,k[(E+64>>>9<<4)+14]=Math.floor(v/4294967296),k[(E+64>>>9<<4)+15]=v,S.sigBytes=k.length*4,this._process(),this._hash},clone:function(){var S=c.clone.call(this);return S._hash=this._hash.clone(),S}});r.SHA1=c._createHelper(u),r.HmacSHA1=c._createHmacHelper(u)}(),o.SHA1})})(ai);var oi={exports:{}};(function(t,a){(function(o,r){t.exports=r(Ea.exports)})(Mt,function(o){(function(){var r=o,i=r.lib,s=i.Base,c=r.enc,p=c.Utf8,f=r.algo;f.HMAC=s.extend({init:function(u,S){u=this._hasher=new u.init,typeof S=="string"&&(S=p.parse(S));var k=u.blockSize,v=k*4;S.sigBytes>v&&(S=u.finalize(S)),S.clamp();for(var E=this._oKey=S.clone(),D=this._iKey=S.clone(),h=E.words,T=D.words,oe=0;oe<k;oe++)h[oe]^=1549556828,T[oe]^=909522486;E.sigBytes=D.sigBytes=v,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var S=this._hasher,k=S.finalize(u);S.reset();var v=S.finalize(this._oKey.clone().concat(k));return v}})})()})})(oi);(function(t,a){(function(o,r,i){t.exports=r(Ea.exports,ai.exports,oi.exports)})(Mt,function(o){return function(){var r=o,i=r.lib,s=i.Base,c=i.WordArray,p=r.algo,f=p.MD5,u=p.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:f,iterations:1}),init:function(S){this.cfg=this.cfg.extend(S)},compute:function(S,k){for(var v,E=this.cfg,D=E.hasher.create(),h=c.create(),T=h.words,oe=E.keySize,g=E.iterations;T.length<oe;){v&&D.update(v),v=D.update(S).finalize(k),D.reset();for(var b=1;b<g;b++)v=D.finalize(v),D.reset();h.concat(v)}return h.sigBytes=oe*4,h}});r.EvpKDF=function(S,k,v){return u.create(v).compute(S,k)}}(),o.EvpKDF})})(dr);var ri={exports:{}};(function(t,a){(function(o,r,i){t.exports=r(Ea.exports,dr.exports)})(Mt,function(o){o.lib.Cipher||function(r){var i=o,s=i.lib,c=s.Base,p=s.WordArray,f=s.BufferedBlockAlgorithm,u=i.enc;u.Utf8;var S=u.Base64,k=i.algo,v=k.EvpKDF,E=s.Cipher=f.extend({cfg:c.extend(),createEncryptor:function(y,O){return this.create(this._ENC_XFORM_MODE,y,O)},createDecryptor:function(y,O){return this.create(this._DEC_XFORM_MODE,y,O)},init:function(y,O,Z){this.cfg=this.cfg.extend(Z),this._xformMode=y,this._key=O,this.reset()},reset:function(){f.reset.call(this),this._doReset()},process:function(y){return this._append(y),this._process()},finalize:function(y){y&&this._append(y);var O=this._doFinalize();return O},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function y(O){return typeof O=="string"?re:L}return function(O){return{encrypt:function(Z,q,le){return y(q).encrypt(O,Z,q,le)},decrypt:function(Z,q,le){return y(q).decrypt(O,Z,q,le)}}}}()});s.StreamCipher=E.extend({_doFinalize:function(){var y=this._process(!0);return y},blockSize:1});var D=i.mode={},h=s.BlockCipherMode=c.extend({createEncryptor:function(y,O){return this.Encryptor.create(y,O)},createDecryptor:function(y,O){return this.Decryptor.create(y,O)},init:function(y,O){this._cipher=y,this._iv=O}}),T=D.CBC=function(){var y=h.extend();y.Encryptor=y.extend({processBlock:function(Z,q){var le=this._cipher,Te=le.blockSize;O.call(this,Z,q,Te),le.encryptBlock(Z,q),this._prevBlock=Z.slice(q,q+Te)}}),y.Decryptor=y.extend({processBlock:function(Z,q){var le=this._cipher,Te=le.blockSize,Fe=Z.slice(q,q+Te);le.decryptBlock(Z,q),O.call(this,Z,q,Te),this._prevBlock=Fe}});function O(Z,q,le){var Te,Fe=this._iv;Fe?(Te=Fe,this._iv=r):Te=this._prevBlock;for(var j=0;j<le;j++)Z[q+j]^=Te[j]}return y}(),oe=i.pad={},g=oe.Pkcs7={pad:function(y,O){for(var Z=O*4,q=Z-y.sigBytes%Z,le=q<<24|q<<16|q<<8|q,Te=[],Fe=0;Fe<q;Fe+=4)Te.push(le);var j=p.create(Te,q);y.concat(j)},unpad:function(y){var O=y.words[y.sigBytes-1>>>2]&255;y.sigBytes-=O}};s.BlockCipher=E.extend({cfg:E.cfg.extend({mode:T,padding:g}),reset:function(){var y;E.reset.call(this);var O=this.cfg,Z=O.iv,q=O.mode;this._xformMode==this._ENC_XFORM_MODE?y=q.createEncryptor:(y=q.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==y?this._mode.init(this,Z&&Z.words):(this._mode=y.call(q,this,Z&&Z.words),this._mode.__creator=y)},_doProcessBlock:function(y,O){this._mode.processBlock(y,O)},_doFinalize:function(){var y,O=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(O.pad(this._data,this.blockSize),y=this._process(!0)):(y=this._process(!0),O.unpad(y)),y},blockSize:128/32});var b=s.CipherParams=c.extend({init:function(y){this.mixIn(y)},toString:function(y){return(y||this.formatter).stringify(this)}}),x=i.format={},R=x.OpenSSL={stringify:function(y){var O,Z=y.ciphertext,q=y.salt;return q?O=p.create([1398893684,1701076831]).concat(q).concat(Z):O=Z,O.toString(S)},parse:function(y){var O,Z=S.parse(y),q=Z.words;return q[0]==1398893684&&q[1]==1701076831&&(O=p.create(q.slice(2,4)),q.splice(0,4),Z.sigBytes-=16),b.create({ciphertext:Z,salt:O})}},L=s.SerializableCipher=c.extend({cfg:c.extend({format:R}),encrypt:function(y,O,Z,q){q=this.cfg.extend(q);var le=y.createEncryptor(Z,q),Te=le.finalize(O),Fe=le.cfg;return b.create({ciphertext:Te,key:Z,iv:Fe.iv,algorithm:y,mode:Fe.mode,padding:Fe.padding,blockSize:y.blockSize,formatter:q.format})},decrypt:function(y,O,Z,q){q=this.cfg.extend(q),O=this._parse(O,q.format);var le=y.createDecryptor(Z,q).finalize(O.ciphertext);return le},_parse:function(y,O){return typeof y=="string"?O.parse(y,this):y}}),te=i.kdf={},se=te.OpenSSL={execute:function(y,O,Z,q){q||(q=p.random(64/8));var le=v.create({keySize:O+Z}).compute(y,q),Te=p.create(le.words.slice(O),Z*4);return le.sigBytes=O*4,b.create({key:le,iv:Te,salt:q})}},re=s.PasswordBasedCipher=L.extend({cfg:L.cfg.extend({kdf:se}),encrypt:function(y,O,Z,q){q=this.cfg.extend(q);var le=q.kdf.execute(Z,y.keySize,y.ivSize);q.iv=le.iv;var Te=L.encrypt.call(this,y,O,le.key,q);return Te.mixIn(le),Te},decrypt:function(y,O,Z,q){q=this.cfg.extend(q),O=this._parse(O,q.format);var le=q.kdf.execute(Z,y.keySize,y.ivSize,O.salt);q.iv=le.iv;var Te=L.decrypt.call(this,y,O,le.key,q);return Te}})}()})})(ri);(function(t,a){(function(o,r,i){t.exports=r(Ea.exports,ei.exports,ti.exports,dr.exports,ri.exports)})(Mt,function(o){return function(){var r=o,i=r.lib,s=i.BlockCipher,c=r.algo,p=[],f=[],u=[],S=[],k=[],v=[],E=[],D=[],h=[],T=[];(function(){for(var b=[],x=0;x<256;x++)x<128?b[x]=x<<1:b[x]=x<<1^283;for(var R=0,L=0,x=0;x<256;x++){var te=L^L<<1^L<<2^L<<3^L<<4;te=te>>>8^te&255^99,p[R]=te,f[te]=R;var se=b[R],re=b[se],y=b[re],O=b[te]*257^te*16843008;u[R]=O<<24|O>>>8,S[R]=O<<16|O>>>16,k[R]=O<<8|O>>>24,v[R]=O;var O=y*16843009^re*65537^se*257^R*16843008;E[te]=O<<24|O>>>8,D[te]=O<<16|O>>>16,h[te]=O<<8|O>>>24,T[te]=O,R?(R=se^b[b[b[y^se]]],L^=b[b[L]]):R=L=1}})();var oe=[0,1,2,4,8,16,32,64,128,27,54],g=c.AES=s.extend({_doReset:function(){var b;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var x=this._keyPriorReset=this._key,R=x.words,L=x.sigBytes/4,te=this._nRounds=L+6,se=(te+1)*4,re=this._keySchedule=[],y=0;y<se;y++)y<L?re[y]=R[y]:(b=re[y-1],y%L?L>6&&y%L==4&&(b=p[b>>>24]<<24|p[b>>>16&255]<<16|p[b>>>8&255]<<8|p[b&255]):(b=b<<8|b>>>24,b=p[b>>>24]<<24|p[b>>>16&255]<<16|p[b>>>8&255]<<8|p[b&255],b^=oe[y/L|0]<<24),re[y]=re[y-L]^b);for(var O=this._invKeySchedule=[],Z=0;Z<se;Z++){var y=se-Z;if(Z%4)var b=re[y];else var b=re[y-4];Z<4||y<=4?O[Z]=b:O[Z]=E[p[b>>>24]]^D[p[b>>>16&255]]^h[p[b>>>8&255]]^T[p[b&255]]}}},encryptBlock:function(b,x){this._doCryptBlock(b,x,this._keySchedule,u,S,k,v,p)},decryptBlock:function(b,x){var R=b[x+1];b[x+1]=b[x+3],b[x+3]=R,this._doCryptBlock(b,x,this._invKeySchedule,E,D,h,T,f);var R=b[x+1];b[x+1]=b[x+3],b[x+3]=R},_doCryptBlock:function(b,x,R,L,te,se,re,y){for(var O=this._nRounds,Z=b[x]^R[0],q=b[x+1]^R[1],le=b[x+2]^R[2],Te=b[x+3]^R[3],Fe=4,j=1;j<O;j++){var Y=L[Z>>>24]^te[q>>>16&255]^se[le>>>8&255]^re[Te&255]^R[Fe++],ae=L[q>>>24]^te[le>>>16&255]^se[Te>>>8&255]^re[Z&255]^R[Fe++],fe=L[le>>>24]^te[Te>>>16&255]^se[Z>>>8&255]^re[q&255]^R[Fe++],P=L[Te>>>24]^te[Z>>>16&255]^se[q>>>8&255]^re[le&255]^R[Fe++];Z=Y,q=ae,le=fe,Te=P}var Y=(y[Z>>>24]<<24|y[q>>>16&255]<<16|y[le>>>8&255]<<8|y[Te&255])^R[Fe++],ae=(y[q>>>24]<<24|y[le>>>16&255]<<16|y[Te>>>8&255]<<8|y[Z&255])^R[Fe++],fe=(y[le>>>24]<<24|y[Te>>>16&255]<<16|y[Z>>>8&255]<<8|y[q&255])^R[Fe++],P=(y[Te>>>24]<<24|y[Z>>>16&255]<<16|y[q>>>8&255]<<8|y[le&255])^R[Fe++];b[x]=Y,b[x+1]=ae,b[x+2]=fe,b[x+3]=P},keySize:256/32});r.AES=s._createHelper(g)}(),o.AES})})(Qr);var yr=Qr.exports;const Qe={oninit:()=>{pa.config.encrypt=!0,pa.config.secret="v4.Metrovirtual",pa.config.encrypter=(t,a)=>yr.encrypt(JSON.stringify(t),a).toString(),pa.config.decrypter=(t,a)=>{try{return JSON.parse(yr.decrypt(t,a).toString(nn))}catch{return t}}},setDataNotificaciones:t=>(Qe.oninit(),pa.set("updatesNotificaciones",t)),getDataNotificaciones:()=>(Qe.oninit(),pa.get("updatesNotificaciones")),setData:t=>(Qe.oninit(),pa.set("updates",t)),setDataUser:t=>(Qe.oninit(),pa.set("dataUser",t)),getData:t=>(Qe.oninit(),pa.get("updates")),getDataUser:t=>(Qe.oninit(),pa.get("dataUser"))},W={user:[],rol:null,labelRol:null,modulesAccess:[],username:"",password:"",messageError:"",statusHide:" d-none",statusError:"warning",imputDisabled:!1,setUsername:t=>{W.username=t},setPassword:t=>{W.password=t},canSubmit:()=>W.username!==""&&W.password!=="",setError:t=>{W.statusHide="",W.statusError="danger",W.messageError=t},setSuccess:t=>{W.statusHide="",W.statusError="success",W.messageError=t},setProcess:()=>{W.statusHide="",W.statusError="warning",W.messageError="Procesando..."},login:()=>(W.imputDisabled=!0,W.setProcess(),e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/auth",body:{user:W.username,pass:W.password}}).then(function(t){t.status?(window.localStorage.accessToken=t.jwt,W.user=t.data.user,W.rol=t.data.rol,W.user.rol=W.rol,W.modulesAccess=t.data.modulesAccess,Qe.setDataUser({user:W.user,modulesAccess:W.modulesAccess}),W.setSuccess("\xA1Bienvenido!"),setTimeout(function(){W.imputDisabled=!1,W.statusHide="d-none",W.statusError="warning",W.messageError="",W.username="",W.password="",e.route.set("/inicio")},900)):(W.imputDisabled=!1,W.statusHide="d-none",W.statusError="warning",W.messageError="",W.setError(t.message))}).catch(function(t){W.imputDisabled=!1,W.statusHide="d-none",W.statusError="warning",W.messageError="",W.username="",W.password="",W.setError(rn.httpError)})),isLogin:()=>!!(window.localStorage.getItem("accessToken")!==void 0&&window.localStorage.getItem("accessToken"))},ii={view:()=>[e("div.text-center.mg-t-300",e(".spinner-grow.text-dark[role='status']",e("span.sr-only","Cargando...")))]},C={title:"MetroPlus v1.0.0",oninit:()=>{document.title="Cargando..."},oncreate:()=>{document.title="Bienvenido | "+C.title},isShow:(t="",a=0)=>{let o=Qe.getDataUser();if(W.user=o.user,W.rol=o.user.rol,W.modulesAccess=o.modulesAccess,a!==0){let r=0;return W.modulesAccess[t].map(function(i,s,c){i.idModulo==a&&r++}),r!=0}return!0},isAuth:(t="",a=0)=>{let o=Qe.getDataUser();if(!W.isLogin()||o==null)return e.route.set("/auth");if(W.user=o.user,W.rol=o.user.rol,W.modulesAccess=o.modulesAccess,a!==0){let r=0;W.modulesAccess[t].map(function(i,s,c){i.idModulo==a&&r++}),r==0&&e.route.set("/inicio")}},view:()=>[e(ii),setTimeout(function(){C.isAuth(),e.route.set("/inicio")},300)]},sn={oncreate:t=>{},view:t=>{window.location.href="http://172.16.253.18/report-executor/mvreport?name=USR_VALIDACION_EMERGENCIA&cdMultiEmpresa=1&V_ATENCION="+t.attrs.idAtencion}},dn={oncreate:()=>(window.localStorage.removeItem("accessToken"),m.route.set("/auth")),view:()=>{}},ln={view:()=>[e("header.navbar.navbar-header.navbar-header-fixed",[e("div.navbar-brand",e(e.route.Link,{href:"/",class:"df-logo"},["Metro",e("span","Plus+")]))])]},cn={view:()=>[e("div.content.content-fixed.content-auth",e("div.container",e("div.media.align-items-stretch.justify-content-center.ht-100p.pos-relative",[e("div.mg-t-55.pd-50.media-body.align-items-center.d-none.d-lg-flex",[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2 "},e("i",{class:"fas fa-first-aid tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-pills tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-file-prescription tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-microscope  tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-procedures   tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-h-square tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-user-md tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-heartbeat      tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-notes-medical      tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-hospital tx-30 tx-white"}))]),e("div.sign-wrapper.mg-lg-l-50.mg-xl-l-60",e("div.wd-100p",[e("h3.tx-color-01.mg-b-5.mg-t-20","Entrar"),e("p.tx-color-03.tx-16.mg-b-40","\xA1Bienvenido! Por favor, inicie sesi\xF3n para continuar."),e(".tx-semibold.alert.alert-solid.alert-"+W.statusError+"."+W.statusHide+"[role='alert']",W.messageError),e("div.form-group",[e("label","Usuario:"),e("input.form-control[type='text'][placeholder='mpaez']",{oninput:function(t){W.setUsername(t.target.value)},value:W.username})]),e("div.form-group",[e("div.d-flex.justify-content-between.mg-b-5",[e("label.mg-b-0-f","Contrase\xF1a:")]),e("input.form-control[type='password'][placeholder='Contrase\xF1a']",{oninput:function(t){W.setPassword(t.target.value)},value:W.password})]),e("button.btn.btn-brand-02.btn-block "+W.buttonDisabled,{disabled:!W.canSubmit(),onclick:W.login},"Entrar"),e("div.text-center.tx-gray-500.mg-t-20","MetroPlus Beta v1.0.0"),e("div.text-center.tx-gray-500","Created by Hospital Metropolitano"),e("div.ht-80")]))])))]},un={oninit:()=>{if(W.isLogin())return e.route.set("/inicio")},oncreate:()=>{document.title="Entrar | "+C.title,mn()},view:()=>[e(ln),e(cn)]};function mn(){document.onkeypress=function(t){t||(t=window.event);var a=t.keyCode||t.which;a=="13"&&W.canSubmit()&&$("button").click()}}function pn(t){if(Array.isArray(t)){for(var a=0,o=new Array(t.length);a<t.length;a++)o[a]=t[a];return o}}var fn=pn;function bn(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}var hn=bn;function gn(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var vn=gn;function xn(t){return fn(t)||hn(t)||vn()}var yn=xn;function wn(t,a){return a={exports:{}},t(a,a.exports),a.exports}var _n=wn(function(t){var a=function(o){var r=Object.prototype,i=r.hasOwnProperty,s,c=typeof Symbol=="function"?Symbol:{},p=c.iterator||"@@iterator",f=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function S(j,Y,ae,fe){var P=Y&&Y.prototype instanceof oe?Y:oe,H=Object.create(P.prototype),U=new le(fe||[]);return H._invoke=y(j,ae,U),H}o.wrap=S;function k(j,Y,ae){try{return{type:"normal",arg:j.call(Y,ae)}}catch(fe){return{type:"throw",arg:fe}}}var v="suspendedStart",E="suspendedYield",D="executing",h="completed",T={};function oe(){}function g(){}function b(){}var x={};x[p]=function(){return this};var R=Object.getPrototypeOf,L=R&&R(R(Te([])));L&&L!==r&&i.call(L,p)&&(x=L);var te=b.prototype=oe.prototype=Object.create(x);g.prototype=te.constructor=b,b.constructor=g,b[u]=g.displayName="GeneratorFunction";function se(j){["next","throw","return"].forEach(function(Y){j[Y]=function(ae){return this._invoke(Y,ae)}})}o.isGeneratorFunction=function(j){var Y=typeof j=="function"&&j.constructor;return Y?Y===g||(Y.displayName||Y.name)==="GeneratorFunction":!1},o.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,b):(j.__proto__=b,u in j||(j[u]="GeneratorFunction")),j.prototype=Object.create(te),j},o.awrap=function(j){return{__await:j}};function re(j){function Y(P,H,U,B){var zt=k(j[P],j,H);if(zt.type==="throw")B(zt.arg);else{var Bt=zt.arg,Ma=Bt.value;return Ma&&typeof Ma=="object"&&i.call(Ma,"__await")?Promise.resolve(Ma.__await).then(function(ma){Y("next",ma,U,B)},function(ma){Y("throw",ma,U,B)}):Promise.resolve(Ma).then(function(ma){Bt.value=ma,U(Bt)},function(ma){return Y("throw",ma,U,B)})}}var ae;function fe(P,H){function U(){return new Promise(function(B,zt){Y(P,H,B,zt)})}return ae=ae?ae.then(U,U):U()}this._invoke=fe}se(re.prototype),re.prototype[f]=function(){return this},o.AsyncIterator=re,o.async=function(j,Y,ae,fe){var P=new re(S(j,Y,ae,fe));return o.isGeneratorFunction(Y)?P:P.next().then(function(H){return H.done?H.value:P.next()})};function y(j,Y,ae){var fe=v;return function(H,U){if(fe===D)throw new Error("Generator is already running");if(fe===h){if(H==="throw")throw U;return Fe()}for(ae.method=H,ae.arg=U;;){var B=ae.delegate;if(B){var zt=O(B,ae);if(zt){if(zt===T)continue;return zt}}if(ae.method==="next")ae.sent=ae._sent=ae.arg;else if(ae.method==="throw"){if(fe===v)throw fe=h,ae.arg;ae.dispatchException(ae.arg)}else ae.method==="return"&&ae.abrupt("return",ae.arg);fe=D;var Bt=k(j,Y,ae);if(Bt.type==="normal"){if(fe=ae.done?h:E,Bt.arg===T)continue;return{value:Bt.arg,done:ae.done}}else Bt.type==="throw"&&(fe=h,ae.method="throw",ae.arg=Bt.arg)}}}function O(j,Y){var ae=j.iterator[Y.method];if(ae===s){if(Y.delegate=null,Y.method==="throw"){if(j.iterator.return&&(Y.method="return",Y.arg=s,O(j,Y),Y.method==="throw"))return T;Y.method="throw",Y.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var fe=k(ae,j.iterator,Y.arg);if(fe.type==="throw")return Y.method="throw",Y.arg=fe.arg,Y.delegate=null,T;var P=fe.arg;if(!P)return Y.method="throw",Y.arg=new TypeError("iterator result is not an object"),Y.delegate=null,T;if(P.done)Y[j.resultName]=P.value,Y.next=j.nextLoc,Y.method!=="return"&&(Y.method="next",Y.arg=s);else return P;return Y.delegate=null,T}se(te),te[u]="Generator",te[p]=function(){return this},te.toString=function(){return"[object Generator]"};function Z(j){var Y={tryLoc:j[0]};1 in j&&(Y.catchLoc=j[1]),2 in j&&(Y.finallyLoc=j[2],Y.afterLoc=j[3]),this.tryEntries.push(Y)}function q(j){var Y=j.completion||{};Y.type="normal",delete Y.arg,j.completion=Y}function le(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(Z,this),this.reset(!0)}o.keys=function(j){var Y=[];for(var ae in j)Y.push(ae);return Y.reverse(),function fe(){for(;Y.length;){var P=Y.pop();if(P in j)return fe.value=P,fe.done=!1,fe}return fe.done=!0,fe}};function Te(j){if(j){var Y=j[p];if(Y)return Y.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var ae=-1,fe=function P(){for(;++ae<j.length;)if(i.call(j,ae))return P.value=j[ae],P.done=!1,P;return P.value=s,P.done=!0,P};return fe.next=fe}}return{next:Fe}}o.values=Te;function Fe(){return{value:s,done:!0}}return le.prototype={constructor:le,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(q),!j)for(var Y in this)Y.charAt(0)==="t"&&i.call(this,Y)&&!isNaN(+Y.slice(1))&&(this[Y]=s)},stop:function(){this.done=!0;var j=this.tryEntries[0],Y=j.completion;if(Y.type==="throw")throw Y.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var Y=this;function ae(zt,Bt){return H.type="throw",H.arg=j,Y.next=zt,Bt&&(Y.method="next",Y.arg=s),!!Bt}for(var fe=this.tryEntries.length-1;fe>=0;--fe){var P=this.tryEntries[fe],H=P.completion;if(P.tryLoc==="root")return ae("end");if(P.tryLoc<=this.prev){var U=i.call(P,"catchLoc"),B=i.call(P,"finallyLoc");if(U&&B){if(this.prev<P.catchLoc)return ae(P.catchLoc,!0);if(this.prev<P.finallyLoc)return ae(P.finallyLoc)}else if(U){if(this.prev<P.catchLoc)return ae(P.catchLoc,!0)}else if(B){if(this.prev<P.finallyLoc)return ae(P.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(j,Y){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var fe=this.tryEntries[ae];if(fe.tryLoc<=this.prev&&i.call(fe,"finallyLoc")&&this.prev<fe.finallyLoc){var P=fe;break}}P&&(j==="break"||j==="continue")&&P.tryLoc<=Y&&Y<=P.finallyLoc&&(P=null);var H=P?P.completion:{};return H.type=j,H.arg=Y,P?(this.method="next",this.next=P.finallyLoc,T):this.complete(H)},complete:function(j,Y){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&Y&&(this.next=Y),T},finish:function(j){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var ae=this.tryEntries[Y];if(ae.finallyLoc===j)return this.complete(ae.completion,ae.afterLoc),q(ae),T}},catch:function(j){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var ae=this.tryEntries[Y];if(ae.tryLoc===j){var fe=ae.completion;if(fe.type==="throw"){var P=fe.arg;q(ae)}return P}}throw new Error("illegal catch attempt")},delegateYield:function(j,Y,ae){return this.delegate={iterator:Te(j),resultName:Y,nextLoc:ae},this.method==="next"&&(this.arg=s),T}},o}(t.exports);try{regeneratorRuntime=a}catch{Function("r","regeneratorRuntime = r")(a)}}),be=_n;function wr(t,a,o,r,i,s,c){try{var p=t[s](c),f=p.value}catch(u){o(u);return}p.done?a(f):Promise.resolve(f).then(r,i)}function Pn(t){return function(){var a=this,o=arguments;return new Promise(function(r,i){var s=t.apply(a,o);function c(f){wr(s,r,i,c,p,"next",f)}function p(f){wr(s,r,i,c,p,"throw",f)}c(void 0)})}}var Ze=Pn;function En(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}var ni=En;function _r(t,a){for(var o=0;o<a.length;o++){var r=a[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mn(t,a,o){return a&&_r(t.prototype,a),o&&_r(t,o),t}var si=Mn;function Dn(t,a,o){return a in t?Object.defineProperty(t,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[a]=o,t}var Tn=Dn;function An(t){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{},r=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(o).filter(function(i){return Object.getOwnPropertyDescriptor(o,i).enumerable}))),r.forEach(function(i){Tn(t,i,o[i])})}return t}var kn=An;function wa(t){var a=t.method,o=t.path,r=t.body,i=r===void 0?null:r,s=t.headers,c=s===void 0?{}:s,p=t.credentials,f=p===void 0?"same-origin":p,u={method:a,headers:c,credentials:f};return i!==null&&(u.body=JSON.stringify(i),u.headers=kn({"Content-Type":"application/json"},c)),fetch(o,u).then(function(){var S=Ze(be.mark(function k(v){return be.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(v.ok){D.next=3;break}return D.next=3,Sn(v);case 3:return D.prev=3,D.next=6,v.json();case 6:return D.abrupt("return",D.sent);case 9:return D.prev=9,D.t0=D.catch(3),D.abrupt("return",null);case 12:case"end":return D.stop()}},k,null,[[3,9]])}));return function(k){return S.apply(this,arguments)}}())}function Sn(t){return Wo.apply(this,arguments)}function Wo(){return Wo=Ze(be.mark(function t(a){var o,r,i,s,c,p;return be.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,a.json();case 3:r=u.sent,i=r.error,s=i===void 0?"Unknown error":i,c=r.description,p=c===void 0?"No description":c,o="Unexpected status code ".concat(a.status,": ").concat(s,", ").concat(p),u.next=14;break;case 11:u.prev=11,u.t0=u.catch(0),o="Unexpected status code ".concat(a.status,": Cannot parse error response");case 14:throw new Error(o);case 15:case"end":return u.stop()}},t,null,[[0,11]])})),Wo.apply(this,arguments)}var Cn=function(){function t(a){ni(this,t),this._instanceId=a,this._dbConn=null}return si(t,[{key:"connect",value:function(){var o=this;return new Promise(function(r,i){var s=indexedDB.open(o._dbName);s.onsuccess=function(c){var p=c.target.result;o._dbConn=p,o._readState().then(function(f){return f===null?o.clear():Promise.resolve()}).then(r)},s.onupgradeneeded=function(c){var p=c.target.result;p.createObjectStore("beams",{keyPath:"instance_id"})},s.onerror=function(c){var p=new Error("Database error: ".concat(c.target.error));i(p)}})}},{key:"clear",value:function(){return this._writeState({instance_id:this._instanceId,device_id:null,token:null,user_id:null})}},{key:"_readState",value:function(){var o=this;if(!this.isConnected)throw new Error("Cannot read value: DeviceStateStore not connected to IndexedDB");return new Promise(function(r,i){var s=o._dbConn.transaction("beams").objectStore("beams").get(o._instanceId);s.onsuccess=function(c){var p=c.target.result;p||r(null),r(p)},s.onerror=function(c){i(c.target.error)}})}},{key:"_readProperty",value:function(){var a=Ze(be.mark(function r(i){var s;return be.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this._readState();case 2:if(s=p.sent,s!==null){p.next=5;break}return p.abrupt("return",null);case 5:return p.abrupt("return",s[i]||null);case 6:case"end":return p.stop()}},r,this)}));function o(r){return a.apply(this,arguments)}return o}()},{key:"_writeState",value:function(o){var r=this;if(!this.isConnected)throw new Error("Cannot write value: DeviceStateStore not connected to IndexedDB");return new Promise(function(i,s){var c=r._dbConn.transaction("beams","readwrite").objectStore("beams").put(o);c.onsuccess=function(p){i()},c.onerror=function(p){s(p.target.error)}})}},{key:"_writeProperty",value:function(){var a=Ze(be.mark(function r(i,s){var c;return be.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this._readState();case 2:return c=f.sent,c[i]=s,f.next=6,this._writeState(c);case 6:case"end":return f.stop()}},r,this)}));function o(r,i){return a.apply(this,arguments)}return o}()},{key:"getToken",value:function(){return this._readProperty("token")}},{key:"setToken",value:function(o){return this._writeProperty("token",o)}},{key:"getDeviceId",value:function(){return this._readProperty("device_id")}},{key:"setDeviceId",value:function(o){return this._writeProperty("device_id",o)}},{key:"getUserId",value:function(){return this._readProperty("user_id")}},{key:"setUserId",value:function(o){return this._writeProperty("user_id",o)}},{key:"getLastSeenSdkVersion",value:function(){return this._readProperty("last_seen_sdk_version")}},{key:"setLastSeenSdkVersion",value:function(o){return this._writeProperty("last_seen_sdk_version",o)}},{key:"getLastSeenUserAgent",value:function(){return this._readProperty("last_seen_user_agent")}},{key:"setLastSeenUserAgent",value:function(o){return this._writeProperty("last_seen_user_agent",o)}},{key:"_dbName",get:function(){return"beams-".concat(this._instanceId)}},{key:"isConnected",get:function(){return this._dbConn!==null}}]),t}(),oo="1.1.0",In=new RegExp("^(_|\\-|=|@|,|\\.|;|[A-Z]|[a-z]|[0-9])*$"),Pr=164,Er=5e3,Mr="/service-worker.js?pusherBeamsWebSDKVersion=".concat(oo),vo=Object.freeze({PERMISSION_PROMPT_REQUIRED:"PERMISSION_PROMPT_REQUIRED",PERMISSION_GRANTED_NOT_REGISTERED_WITH_BEAMS:"PERMISSION_GRANTED_NOT_REGISTERED_WITH_BEAMS",PERMISSION_GRANTED_REGISTERED_WITH_BEAMS:"PERMISSION_GRANTED_REGISTERED_WITH_BEAMS",PERMISSION_DENIED:"PERMISSION_DENIED"}),Zo=function(){function t(a){if(ni(this,t),!a)throw new Error("Config object required");var o=a.instanceId,r=a.endpointOverride,i=r===void 0?null:r,s=a.serviceWorkerRegistration,c=s===void 0?null:s;if(o===void 0)throw new Error("Instance ID is required");if(typeof o!="string")throw new Error("Instance ID must be a string");if(o.length===0)throw new Error("Instance ID cannot be empty");if(!("indexedDB"in window))throw new Error("Pusher Beams does not support this browser version (IndexedDB not supported)");if(!window.isSecureContext)throw new Error("Pusher Beams relies on Service Workers, which only work in secure contexts. Check that your page is being served from localhost/over HTTPS");if(!("serviceWorker"in navigator))throw new Error("Pusher Beams does not support this browser version (Service Workers not supported)");if(!("PushManager"in window))throw new Error("Pusher Beams does not support this browser version (Web Push not supported)");if(c){var p=c.scope,f=window.location.href,u=f.startsWith(p);if(!u)throw new Error("Could not initialize Pusher web push: current page not in serviceWorkerRegistration scope (".concat(p,")"))}this.instanceId=o,this._deviceId=null,this._token=null,this._userId=null,this._serviceWorkerRegistration=c,this._deviceStateStore=new Cn(o),this._endpoint=i,this._ready=this._init()}return si(t,[{key:"_init",value:function(){var a=Ze(be.mark(function r(){return be.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(this._deviceId===null){s.next=2;break}return s.abrupt("return");case 2:return s.next=4,this._deviceStateStore.connect();case 4:if(!this._serviceWorkerRegistration){s.next=9;break}return s.next=7,window.navigator.serviceWorker.ready;case 7:s.next=12;break;case 9:return s.next=11,Nn();case 11:this._serviceWorkerRegistration=s.sent;case 12:return s.next=14,this._detectSubscriptionChange();case 14:return s.next=16,this._deviceStateStore.getDeviceId();case 16:return this._deviceId=s.sent,s.next=19,this._deviceStateStore.getToken();case 19:return this._token=s.sent,s.next=22,this._deviceStateStore.getUserId();case 22:this._userId=s.sent;case 23:case"end":return s.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"_resolveSDKState",value:function(){var a=Ze(be.mark(function r(){return be.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this._ready;case 2:return s.next=4,this._detectSubscriptionChange();case 4:case"end":return s.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"_detectSubscriptionChange",value:function(){var a=Ze(be.mark(function r(){var i,s,c;return be.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this._deviceStateStore.getToken();case 2:return i=f.sent,f.next=5,Rn(this._serviceWorkerRegistration);case 5:if(s=f.sent,c=i!==s,!c){f.next=13;break}return f.next=10,this._deviceStateStore.clear();case 10:this._deviceId=null,this._token=null,this._userId=null;case 13:case"end":return f.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"getDeviceId",value:function(){var a=Ze(be.mark(function r(){var i=this;return be.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this._resolveSDKState();case 2:return c.abrupt("return",this._ready.then(function(){return i._deviceId}));case 3:case"end":return c.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"getToken",value:function(){var a=Ze(be.mark(function r(){var i=this;return be.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this._resolveSDKState();case 2:return c.abrupt("return",this._ready.then(function(){return i._token}));case 3:case"end":return c.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"getUserId",value:function(){var a=Ze(be.mark(function r(){var i=this;return be.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this._resolveSDKState();case 2:return c.abrupt("return",this._ready.then(function(){return i._userId}));case 3:case"end":return c.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"_throwIfNotStarted",value:function(o){if(!this._deviceId)throw new Error("".concat(o,". SDK not registered with Beams. Did you call .start?"))}},{key:"start",value:function(){var a=Ze(be.mark(function r(){var i,s,c,p;return be.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this._resolveSDKState();case 2:if(xo()){u.next=4;break}return u.abrupt("return",this);case 4:if(this._deviceId===null){u.next=6;break}return u.abrupt("return",this);case 6:return u.next=8,this._getPublicKey();case 8:return i=u.sent,s=i.vapidPublicKey,u.next=12,this._getPushToken(s);case 12:return c=u.sent,u.next=15,this._registerDevice(c);case 15:return p=u.sent,u.next=18,this._deviceStateStore.setToken(c);case 18:return u.next=20,this._deviceStateStore.setDeviceId(p);case 20:return u.next=22,this._deviceStateStore.setLastSeenSdkVersion(oo);case 22:return u.next=24,this._deviceStateStore.setLastSeenUserAgent(window.navigator.userAgent);case 24:return this._token=c,this._deviceId=p,u.abrupt("return",this);case 27:case"end":return u.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"getRegistrationState",value:function(){var a=Ze(be.mark(function r(){return be.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this._resolveSDKState();case 2:if(Notification.permission!=="denied"){s.next=4;break}return s.abrupt("return",vo.PERMISSION_DENIED);case 4:if(!(Notification.permission==="granted"&&this._deviceId!==null)){s.next=6;break}return s.abrupt("return",vo.PERMISSION_GRANTED_REGISTERED_WITH_BEAMS);case 6:if(!(Notification.permission==="granted"&&this._deviceId===null)){s.next=8;break}return s.abrupt("return",vo.PERMISSION_GRANTED_NOT_REGISTERED_WITH_BEAMS);case 8:return s.abrupt("return",vo.PERMISSION_PROMPT_REQUIRED);case 9:case"end":return s.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"addDeviceInterest",value:function(){var a=Ze(be.mark(function r(i){var s,c;return be.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this._resolveSDKState();case 2:return this._throwIfNotStarted("Could not add Device Interest"),jo(i),s="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/interests/").concat(encodeURIComponent(i)),c={method:"POST",path:s},f.next=8,wa(c);case 8:case"end":return f.stop()}},r,this)}));function o(r){return a.apply(this,arguments)}return o}()},{key:"removeDeviceInterest",value:function(){var a=Ze(be.mark(function r(i){var s,c;return be.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this._resolveSDKState();case 2:return this._throwIfNotStarted("Could not remove Device Interest"),jo(i),s="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/interests/").concat(encodeURIComponent(i)),c={method:"DELETE",path:s},f.next=8,wa(c);case 8:case"end":return f.stop()}},r,this)}));function o(r){return a.apply(this,arguments)}return o}()},{key:"getDeviceInterests",value:function(){var a=Ze(be.mark(function r(){var i,s;return be.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this._resolveSDKState();case 2:return this._throwIfNotStarted("Could not get Device Interests"),i="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/interests"),s={method:"GET",path:i},p.next=7,wa(s);case 7:if(p.t0=p.sent.interests,p.t0){p.next=10;break}p.t0=[];case 10:return p.abrupt("return",p.t0);case 11:case"end":return p.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"setDeviceInterests",value:function(){var a=Ze(be.mark(function r(i){var s,c,p,f,u,S,k,v,E;return be.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this._resolveSDKState();case 2:if(this._throwIfNotStarted("Could not set Device Interests"),i!=null){h.next=5;break}throw new Error("interests argument is required");case 5:if(Array.isArray(i)){h.next=7;break}throw new Error("interests argument must be an array");case 7:if(!(i.length>Er)){h.next=9;break}throw new Error("Number of interests (".concat(i.length,") exceeds maximum of ").concat(Er));case 9:for(s=!0,c=!1,p=void 0,h.prev=12,f=i[Symbol.iterator]();!(s=(u=f.next()).done);s=!0)S=u.value,jo(S);h.next=20;break;case 16:h.prev=16,h.t0=h.catch(12),c=!0,p=h.t0;case 20:h.prev=20,h.prev=21,!s&&f.return!=null&&f.return();case 23:if(h.prev=23,!c){h.next=26;break}throw p;case 26:return h.finish(23);case 27:return h.finish(20);case 28:return k=Array.from(new Set(i)),v="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/interests"),E={method:"PUT",path:v,body:{interests:k}},h.next=33,wa(E);case 33:case"end":return h.stop()}},r,this,[[12,16,20,28],[21,,23,27]])}));function o(r){return a.apply(this,arguments)}return o}()},{key:"clearDeviceInterests",value:function(){var a=Ze(be.mark(function r(){return be.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this._resolveSDKState();case 2:return this._throwIfNotStarted("Could not clear Device Interests"),s.next=5,this.setDeviceInterests([]);case 5:case"end":return s.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"setUserId",value:function(){var a=Ze(be.mark(function r(i,s){var c,p,f,u,S;return be.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,this._resolveSDKState();case 2:if(xo()){v.next=4;break}return v.abrupt("return");case 4:if(this._deviceId!==null){v.next=7;break}return c=new Error(".start must be called before .setUserId"),v.abrupt("return",Promise.reject(c));case 7:if(typeof i=="string"){v.next=9;break}throw new Error("User ID must be a string (was ".concat(i,")"));case 9:if(i!==""){v.next=11;break}throw new Error("User ID cannot be the empty string");case 11:if(!(this._userId!==null&&this._userId!==i)){v.next=13;break}throw new Error("Changing the `userId` is not allowed.");case 13:return p="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/user"),v.next=16,s.fetchToken(i);case 16:return f=v.sent,u=f.token,S={method:"PUT",path:p,headers:{Authorization:"Bearer ".concat(u)}},v.next=21,wa(S);case 21:return this._userId=i,v.abrupt("return",this._deviceStateStore.setUserId(i));case 23:case"end":return v.stop()}},r,this)}));function o(r,i){return a.apply(this,arguments)}return o}()},{key:"stop",value:function(){var a=Ze(be.mark(function r(){return be.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this._resolveSDKState();case 2:if(xo()){s.next=4;break}return s.abrupt("return");case 4:if(this._deviceId!==null){s.next=6;break}return s.abrupt("return");case 6:return s.next=8,this._deleteDevice();case 8:return s.next=10,this._deviceStateStore.clear();case 10:this._clearPushToken().catch(function(){}),this._deviceId=null,this._token=null,this._userId=null;case 14:case"end":return s.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"clearAllState",value:function(){var a=Ze(be.mark(function r(){return be.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(xo()){s.next=2;break}return s.abrupt("return");case 2:return s.next=4,this.stop();case 4:return s.next=6,this.start();case 6:case"end":return s.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"_getPublicKey",value:function(){var a=Ze(be.mark(function r(){var i,s;return be.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return i="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/web-vapid-public-key"),s={method:"GET",path:i},p.abrupt("return",wa(s));case 3:case"end":return p.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"_getPushToken",value:function(){var a=Ze(be.mark(function r(i){var s;return be.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,this._clearPushToken();case 3:return p.next=5,this._serviceWorkerRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fn(i)});case 5:return s=p.sent,p.abrupt("return",btoa(JSON.stringify(s)));case 9:return p.prev=9,p.t0=p.catch(0),p.abrupt("return",Promise.reject(p.t0));case 12:case"end":return p.stop()}},r,this,[[0,9]])}));function o(r){return a.apply(this,arguments)}return o}()},{key:"_clearPushToken",value:function(){var a=Ze(be.mark(function r(){return be.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",navigator.serviceWorker.ready.then(function(c){return c.pushManager.getSubscription()}).then(function(c){c&&c.unsubscribe()}));case 1:case"end":return s.stop()}},r)}));function o(){return a.apply(this,arguments)}return o}()},{key:"_registerDevice",value:function(){var a=Ze(be.mark(function r(i){var s,c,p,f;return be.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return s="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web"),c={token:i,metadata:{sdkVersion:oo}},p={method:"POST",path:s,body:c},S.next=5,wa(p);case 5:return f=S.sent,S.abrupt("return",f.id);case 7:case"end":return S.stop()}},r,this)}));function o(r){return a.apply(this,arguments)}return o}()},{key:"_deleteDevice",value:function(){var a=Ze(be.mark(function r(){var i,s;return be.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return i="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(encodeURIComponent(this._deviceId)),s={method:"DELETE",path:i},p.next=4,wa(s);case 4:case"end":return p.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"_updateDeviceMetadata",value:function(){var a=Ze(be.mark(function r(){var i,s,c,p,f,u;return be.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return i=window.navigator.userAgent,k.next=3,this._deviceStateStore.getLastSeenUserAgent();case 3:return s=k.sent,k.next=6,this._deviceStateStore.getLastSeenSdkVersion();case 6:if(c=k.sent,!(i===s&&oo===c)){k.next=9;break}return k.abrupt("return");case 9:return p="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/metadata"),f={sdkVersion:oo},u={method:"PUT",path:p,body:f},k.next=14,wa(u);case 14:return k.next=16,this._deviceStateStore.setLastSeenSdkVersion(oo);case 16:return k.next=18,this._deviceStateStore.setLastSeenUserAgent(i);case 18:case"end":return k.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"_baseURL",get:function(){return this._endpoint!==null?this._endpoint:"https://".concat(this.instanceId,".pushnotifications.pusher.com")}}]),t}(),jo=function(a){if(a==null)throw new Error("Interest name is required");if(typeof a!="string")throw new Error("Interest ".concat(a," is not a string"));if(!In.test(a))throw new Error('interest "'.concat(a,'" contains a forbidden character. ')+"Allowed characters are: ASCII upper/lower-case letters, numbers or one of _-=@,.;");if(a.length>Pr)throw new Error("Interest is longer than the maximum of ".concat(Pr," chars"))};function Nn(){return Qo.apply(this,arguments)}function Qo(){return Qo=Ze(be.mark(function t(){var a,o;return be.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fetch(Mr);case 2:if(a=i.sent,o=a.status,o===200){i.next=6;break}throw new Error("Cannot start SDK, service worker missing: No file found at /service-worker.js");case 6:return window.navigator.serviceWorker.register(Mr,{updateViaCache:"none"}),i.abrupt("return",window.navigator.serviceWorker.ready);case 8:case"end":return i.stop()}},t)})),Qo.apply(this,arguments)}function Rn(t){return t.pushManager.getSubscription().then(function(a){return a?Ln(a):null})}function Ln(t){return btoa(JSON.stringify(t))}function Fn(t){var a="=".repeat((4-t.length%4)%4),o=(t+a).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(o);return Uint8Array.from(yn(r).map(function(i){return i.charCodeAt(0)}))}function xo(){var t=window.navigator,a=t.vendor,o=window.chrome!==null&&typeof window.chrome!="undefined",r=t.userAgent.indexOf("OPR")>-1,i=t.userAgent.indexOf("Edg")>-1,s=t.userAgent.indexOf("Firefox")>-1,c=o&&a==="Google Inc."&&!i&&!r,p=c||r||s||i;return p||console.warn("Pusher Web Push Notifications supports Chrome, Firefox, Edge and Opera."),p}const ga={store:[],notificaciones:[],registraCanal:()=>{ga.push({id:_data.id,data:null})},despacharMensajes:()=>{ga.notificaciones.length!==0&&ga.notificaciones.map(function(t,a){vt.setNot(),console.log(t),ga.sendPush({title:"Nueva NOTIFICACION",message:"Es"})})},sendPush:t=>{if(Notification){Notification.permission!=="granted"&&Notification.requestPermission();var a="Metrovirtual: "+t.title,o={icon:"assets/favicon.ico",body:t.message},r=new Notification(a,o);r.onclick=()=>{},r.onclose={},setTimeout(function(){r.close()},3e4)}},nuevaNotificacion:(t={})=>{var a=ga.notificaciones;ga.notificaciones=[],a.push(t),setTimeout(function(){ga.notificaciones=a,ga.despacharMensajes()},1e3)},oninit:()=>{const t=new Zo({instanceId:"75c0a111-da02-4af0-b35b-66124bd7f2b5"});t.start().then(()=>t.addDeviceInterest("Metrovirtual")).then(()=>console.log("Successfully registered and subscribed!")).catch(console.error)},suscribirCanal:t=>{const a=new Zo({instanceId:"75c0a111-da02-4af0-b35b-66124bd7f2b5"});a.start().then(()=>a.addDeviceInterest(t)).then(()=>console.log("Successfully registered and subscribed! + "+t)).catch(console.error)},view:()=>{}},vt={num:0,message:" tenemos nueva informaci\xF3n disponible para ti. Click aqu\xED!.",timestamp:"",setNot:()=>{vt.num=vt.num+1},suscribirCanal:t=>ga.suscribirCanal(t),view:()=>[e(ga),e("div.dropdown.dropdown-notification",[e("a.dropdown-link.new-indicator[href=''][data-toggle='dropdown']",[e("i[data-feather='bell']"),e("span",{class:vt.num==0?"d-none":""},vt.num)]),e("div.dropdown-menu.dropdown-menu-right",{class:vt.num==0?"d-none":""},[e("div.dropdown-header","Notificaciones"),e("a.dropdown-item",{onclick:t=>{t.preventDefault(),e.route.set("/notificaciones")}},e("div.media",[e("div.media-body.mg-l-15",[e("p",[e("strong","Metrovirtual "),vt.message]),e("span",vt.timestamp)])])),e("div.dropdown-footer",e("a[href='/']","Ver Todo"))])])]},On={view:()=>{if(W.rol==1)return"Administrador";if(W.rol==2)return"Coordinador";if(W.rol==3)return"Gestionador";if(W.rol==4)return"Operador";if(W.rol==4)return"Usuario"}},di={view:()=>[e("div.navbar-right",[e(vt),e("div.dropdown.dropdown-profile",[e("a.dropdown-link[href=''][data-toggle='dropdown'][data-display='static']",e("div.avatar.avatar-sm",e("i[data-feather='user']"))),e("div.dropdown-menu.dropdown-menu-right.tx-13",[e("div.tx-18.tx-semibold.mg-b-0",W.user.user!==void 0?W.user.user.toUpperCase():""),e("p.mg-b-25.tx-12.tx-color-03",[e(On)]),e(e.route.Link,{href:"/",class:"dropdown-item tx-16 "},[e("i[data-feather='user']")," Mi Perfil "]),e(e.route.Link,{href:"/",class:"dropdown-item tx-16 "},[e("i[data-feather='help-circle']")," Soporte CONCAS "]),e("div.dropdown-divider"),e(e.route.Link,{href:"/salir",class:"dropdown-item tx-16 "},[e("i[data-feather='log-out']"),"Salir"])])])])]},Hn={view:()=>{let t=Qe.getDataUser();if(t.length!==0)return[e("li.nav-item",e(e.route.Link,{href:"/inicio",class:"nav-link"},[e("i[data-feather='layout']")," Inicio "])),Object.keys(t.modulesAccess).map(function(a,o,r){if(t.modulesAccess[a].length!==0)return a=="terapia-respiratoria"?[e("li.nav-item."+(_.page===a?"active":""),e(e.route.Link,{href:"/terapia-respiratoria/pedidos",class:"nav-link"},[e("i[data-feather='layout']"),"Terapia Respiratoria"]))]:a=="bco-sangre"?[e("li.nav-item."+(_.page===a?"active":""),e(e.route.Link,{href:"/bco-sangre/pedidos",class:"nav-link"},[e("i[data-feather='layout']"),"Bco. de Sangre"]))]:a=="neurofisiologia"?[e("li.nav-item."+(_.page===a?"active":""),e(e.route.Link,{href:"/neurofisiologia/pedidos",class:"nav-link"},[e("i[data-feather='layout']"),"Neurofisiolog\xEDa"]))]:[e("li.nav-item."+(_.page===a?"active":""),e(e.route.Link,{href:"/"+a,class:"nav-link"},[e("i[data-feather='layout']"),a.charAt(0).toUpperCase()+a.slice(1)]))]})]}},_={page:"",setPage:t=>{_.page=t},oncreate:()=>{Dr()},onupdate:()=>{Dr()},view:()=>[e("header.navbar.navbar-header.navbar-header-fixed",[e("a.burger-menu[href=''][id='sidebarMenuOpen']",e("i[data-feather='arrow-left']")),e("div.navbar-brand",e(e.route.Link,{href:"/",class:"df-logo"},["Metro",e("span","Plus+")])),e(".navbar-menu-wrapper[id='navbarMenu']",[e("div.navbar-menu-header",[e(e.route.Link,{href:"/",class:"df-logo"},["Metro",e("span","Plus+")]),e("a[id='mainMenuClose'][href='']",e("i[data-feather='x']"))]),e("ul.nav.navbar-menu",[e("li.nav-label.pd-l-20.pd-lg-l-25.d-lg-none","Menu"),e("div.d-lg-none",[e(Hn)])])]),e(di)])]};function Dr(){feather.replace(),window.matchMedia("(max-width: 991px)").matches&&new PerfectScrollbar("#navbarMenu",{suppressScrollX:!0});function t(){window.matchMedia("(max-width: 991px)").matches?$("#navbarMenu .active").addClass("show"):$("#navbarMenu .active").removeClass("show")}if(t(),$(window).resize(function(){t()}),$("body").append('<div class="backdrop"></div>'),$(".navbar-menu .with-sub .nav-link").on("click",function(a){a.preventDefault(),$(this).parent().toggleClass("show"),$(this).parent().siblings().removeClass("show"),window.matchMedia("(max-width: 991px)").matches&&psNavbar.update()}),$(document).on("click touchstart",function(a){if(a.stopPropagation(),window.matchMedia("(min-width: 992px)").matches){var o=$(a.target).closest(".navbar-menu .nav-item").length;o||$(".navbar-header .show").removeClass("show")}}),$("#mainMenuClose").on("click",function(a){a.preventDefault(),$("body").removeClass("navbar-nav-show")}),$("#sidebarMenuOpen").on("click",function(a){a.preventDefault(),$("body").addClass("sidebar-show")}),$("#navbarSearch").on("click",function(a){a.preventDefault(),$(".navbar-search").addClass("visible"),$(".backdrop").addClass("show")}),$("#navbarSearchClose").on("click",function(a){a.preventDefault(),$(".navbar-search").removeClass("visible"),$(".backdrop").removeClass("show")}),$("#sidebarMenu").length){const a=new PerfectScrollbar("#sidebarMenu",{suppressScrollX:!0});$(".sidebar-nav .with-sub").on("click",function(o){o.preventDefault(),$(this).parent().toggleClass("show"),a.update()})}$("#mainMenuOpen").on("click touchstart",function(a){a.preventDefault(),$("body").addClass("navbar-nav-show")}),$("#sidebarMenuClose").on("click",function(a){a.preventDefault(),$("body").removeClass("sidebar-show")}),$(document).on("click touchstart",function(a){if(a.stopPropagation(),!$(a.target).closest(".burger-menu").length){var o=$(a.target).closest(".sidebar").length,r=$(a.target).closest(".navbar-menu-wrapper").length;!o&&!r&&($("body").hasClass("navbar-nav-show")?$("body").removeClass("navbar-nav-show"):$("body").removeClass("sidebar-show"))}})}const $n={view:()=>{let t=Qe.getDataUser();if(t.length!==0)return[t.modulesAccess.laboratorio.map(function(a,o,r){return[m(m.route.Link,{href:"/"+a.href,class:de.page==a.idModulo?"active":""},[a.label])]})]}},de={page:"",setPage:t=>{de.page=t},view:()=>[m(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[m("div.sidebar-header",[m("a[href=''][id='mainMenuOpen']",m("i[data-feather='menu']")),m("h5","Menu"),m("a[href=''][id='sidebarMenuClose']",m("i[data-feather='x']"))]),m("div.sidebar-body",m("ul.sidebar-nav",[m("li.nav-label.mg-b-15","Laboratorio"),m("li.nav-item.show",[m(m.route.Link,{href:"/laboratorio",class:"nav-link with-sub"},[m("i[data-feather='layout']")," Laboratorio "]),m("nav.nav",[m($n)])])]))])]},Yn={view:()=>[m("div.content.content-components",m("div.container",{style:{"max-width":"100%"}},[m("ol.breadcrumb.df-breadcrumbs.mg-b-10",[m("li.breadcrumb-item",m(m.route.Link,{href:"/"},["MetroPlus"])),m("li.breadcrumb-item.active[aria-current='page']","Laboratorio")]),m("h1.df-title.mg-t-20.mg-b-10","Laboratorio:"),m("div.row.tx-14",[C.isShow("laboratorio",16)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/laboratorio/flebotomista")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-flask tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Flebotomista"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Flebotomista")])])])]:[],C.isShow("laboratorio",6)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/laboratorio/formularios")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-file-alt tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Formularios Epidemiol\xF3gicos"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Formularios Epidemiol\xF3gicos")])])])]:[],C.isShow("laboratorio",15)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/laboratorio/notificaciones")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-bell tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Notificaciones de Laboratorio"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones de Laboratorio")])])])]:[],C.isShow("laboratorio",21)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/laboratorio/lisa/pedidos/ingresados")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-sitemap tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"LISA"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a LISA v1.0")])])])]:[],C.isShow("laboratorio",28)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/laboratorio/etiquetas")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-cog tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Configuraci\xF3n de Etiquetas"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Configuraci\xF3n de Etiquetas")])])])]:[]])]))]},jn={oninit:()=>{_.page="",de.page="",C.isAuth()},oncreate:()=>{document.title="Laboratorio | "+C.title},view:()=>[m(_,{oncreate:_.setPage("laboratorio")}),m(de),m(Yn)]},uo={pacientes:[],showPacientes:"d-none",showBusquedas:"d-none",tipoBusqueda:"",searchField:"",showProcess:"d-none",oninit:()=>{_.page="",de.page="",uo.searchField="",uo.showBusquedas="",uo.pacientes=[],C.isAuth()},oncreate:()=>{document.title="Notificaciones de Laboratorio | "+C.title},view:()=>[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(15)}),e("div.content.content-components",e("div.container",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" LABORATORIO "])),e("li.breadcrumb-item.active[aria-current='page']","Notificaciones de Laboratorio")]),e("h1.df-title.mg-t-20.mg-b-10",["Notificaciones de Laboratorio:"]),e("div.row.tx-14",[e("div.col-12.mg-b-10.wd-100p",e("div.row.mg-t-10",[e("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{e.route.set("/laboratorio/notificaciones/filtros",{})}},[e("div",{class:"media"},[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},e("i",{class:"fas fa-filter tx-30 tx-white"})),e("div",{class:"media-body mg-l-15"},[e("p",{class:"tx-18 mg-b-0"},"Filtros"),e("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Filtros")])])]),e("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{e.route.set("/laboratorio/notificaciones/enviadas",{})}},[e("div",{class:"media"},[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},e("i",{class:"fas fa-mail-bulk tx-30 tx-white"})),e("div",{class:"media-body mg-l-15"},[e("p",{class:"tx-18 mg-b-0"},"Notificaciones Enviadas"),e("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones Enviadas")])])]),e("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{e.route.set("/laboratorio/notificaciones/pendientes",{})}},[e("div",{class:"media"},[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},e("i",{class:"fas fa-hourglass tx-30 tx-white"})),e("div",{class:"media-body mg-l-15"},[e("p",{class:"tx-18 mg-b-0"},"Notificaciones Pendientes"),e("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones Pendientes")])])]),e("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{e.route.set("/laboratorio/notificaciones/error",{})}},[e("div",{class:"media"},[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},e("i",{class:"fas fa-exclamation-triangle tx-30 tx-white"})),e("div",{class:"media-body mg-l-15"},[e("p",{class:"tx-18 mg-b-0"},"Notificaciones con Error"),e("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones con Error")])])])])),e("div.table-loader.col-12.wd-100p",{class:uo.showProcess},e("div.placeholder-paragraph",[e("div.line"),e("div.line")])),e("div.col-12",{class:"d-none"},[e("label.nav-label.tx-semibold","B\xFAsquedas Recientes:"),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",e("table.table.table-sm[id='table-ultimas-busquedas'][width='100%']"))])])])),e("div.section-nav",[])]},mo={canal:"",oninit:t=>{t.attrs.canal!==void 0&&(mo.canal=t.attrs.canal)},subscribirCanal:t=>{const a=new Zo({instanceId:"75c0a111-da02-4af0-b35b-66124bd7f2b5"});a.start().then(()=>a.addDeviceInterest(t)).then(()=>{alert("Proceso realizado con \xE9xito. Usuario (Dispositivo) subscrito al canal: "+t),console.log("Successfully registered and subscribed! + "+t)}).catch(console.error)},view:()=>{mo.canal.length!==0&&mo.subscribirCanal(mo.canal)}},ft={data:[],fetch:()=>{ft.data=[];for(var t=0;t<ht.dataFiltros.length;t++)ht.dataFiltros[t].id==ht.idFiltro&&(ft.data=ht.dataFiltros[t])},view:()=>{if(ht.showBitacora.length!==0&&ft.data.length!==0)return[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{ht.showBitacora="",ft.data=[],e.route.set("/laboratorio/notificaciones/filtros",{})}}))),e("div.mg-b-30",e("i.tx-40.fas.fa-filter.")),e("p.mg-5.tx-right",[e("button.btn.btn-xs.btn-secondary.mg-l-2[type='button']",{onclick:()=>{}},e("i.fas.fa-edit.mg-r-5")," Editar "),e("button.btn.btn-xs.btn-danger.mg-l-2[type='button']",{onclick:()=>{}},e("i.fas.fa-times-circle.mg-r-5")," Eliminar ")]),e("h5.tx-inverse.mg-b-10","Filtro: "+ft.data.nombre),ft.data.ene==0?[e("h5.tx-inverse.mg-b-10.tx-danger","Regla para: NO ENVIAR")]:[e("h5.tx-inverse.mg-b-10.tx-primary","Regla para: ENVIAR")],ft.data.x_servicio!==null?[e("h5.tx-inverse.mg-b-10","Por Servicio: "+ft.data.x_servicio)]:[],ft.data.x_origen!==null?[e("h5.tx-inverse.mg-b-10","Por Origen: "+ft.data.x_origen)]:[],ft.data.x_motivo!==null?[e("h5.tx-inverse.mg-b-10","Por Motivo: "+ft.data.x_motivo)]:[],ft.data.x_especialidad!==null?[e("h5.tx-inverse.mg-b-10","Por Especialidad: "+ft.data.x_especialidad)]:[],ft.data.x_medico!==null?[e("h5.tx-inverse.mg-b-10","Por M\xE9dico: "+ft.data.x_medico)]:[],ft.data.x_idprueba!==null?[e("h5.tx-inverse.mg-b-10","Por Id Prueba: "+ft.data.x_idprueba)]:[]])];if(ht.showBitacora.length!==0)return[e("div.pd-t-10",[e("div.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")])])]}},ht={dataPendientesAlta:[],dataSoloGema:[],dataGemaMV:[],dataFiltros:[],dataCamaTotales:[],camasTotales:0,showBitacora:"",gemaMV:0,soloGema:0,soloMV:0,pendienteAlta:0,timerUpdate:0,idFiltro:"",fetch:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=reglas"}).then(function(t){ht.dataFiltros=t.data,Un()}).catch(function(t){})},oninit:t=>{_.page="",de.page="",ht.dataPendientesAlta=[],ht.dataCamaTotales=[],ht.camasTotales=0,ht.pendienteAlta=0,C.isAuth("laboratorio",15)},oncreate:t=>{document.title="Reglas Filtros | "+C.title,ht.fetch()},view:t=>(t.attrs!==void 0&&t.attrs.idFiltro!==void 0?(ht.idFiltro=t.attrs.idFiltro,ht.showBitacora="d-none",ft.fetch(),console.log(ft.data)):(ht.idFiltro="",ht.showBitacora=""),[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(15)}),e("div.content.content-components",{style:{"margin-right":"0px"}},e("div.container",{style:{"max-width":"none"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Reglas Filtros:")]),e("h1.df-title.mg-t-20.mg-b-10","Reglas Filtros:"),e("div.row.animated.fadeInUp",{class:ht.showBitacora},[e("div.col-12",[e("p.mg-b-20.tx-right",[e("button.btn.btn-xs.btn-primary.mg-l-2[type='button']",{onclick:()=>{}},e("i.fas.fa-plus.mg-r-5")," Nueva Regla ")]),e("div.filemgr-content-header.",[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']"))]),e("div.mg-t-50.table-loader.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")])),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20..mg-t-40",[e("table.table.table-sm.tx-12[id='table-filtroslab'][width='100%']")])])]),e(ft)]))])};function Un(){$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-filtroslab").DataTable({data:ht.dataFiltros,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,responsive:!0,columns:[{title:"N\xB0:"},{title:"REGLA:"},{title:"TIPO:"},{title:"FECHA:"},{title:"SERVICIO:"},{title:"ORIGEN:"},{title:"MOTIVO:"},{title:"ESPECIALIDAD:"},{title:"M\xC9DICO:"},{title:"ID PRUEBA:"},{title:"QR:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(a,o,r){return r.nombreFiltro},visible:!0,aTargets:[1]},{mRender:function(a,o,r){return r.eNe==0?" NO ENVIAR ":" ENVIAR "},visible:!0,aTargets:[2]},{mRender:function(a,o,r){return moment.utc(moment()).format("DD-MM-YYYY")},visible:!0,aTargets:[3]},{mRender:function(a,o,r){return r.xServicio},visible:!0,aTargets:[4]},{mRender:function(a,o,r){return r.xOrigen},visible:!0,aTargets:[5]},{mRender:function(a,o,r){return r.xMotivo},visible:!0,aTargets:[6]},{mRender:function(a,o,r){return r.xMedico},visible:!0,aTargets:[7]},{mRender:function(a,o,r){return r.x_medico},visible:!0,aTargets:[8]},{mRender:function(a,o,r){return r.xIdPrueba},visible:!0,aTargets:[9]},{mRender:function(a,o,r){return r.xQR},visible:!0,aTargets:[10]}],fnRowCallback:function(a,o,r,i){$(a).attr("id",o.id),o.eNe==0?$(a).addClass("tx-danger"):$(a).addClass("tx-primary"),$(a).css("cursor","pointer"),$(a).addClass("verRegla")},drawCallback:function(a){$(".table-content").show(),$(".table-loader").hide(),$(".verRegla").click(function(o){o.preventDefault();var r=this;ht.showBitacora="d-none",e.route.set("/laboratorio/notificaciones/filtros/",{idFiltro:r.id})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchField").val()).draw()}),t}const Bn={oncreate:()=>{if(ie.loadNotificacionesEnviadasLab(),ie.searchField.length!==0){var t=$("#table-NotificacionesEnviadasLab").DataTable();t.search(ie.searchField).draw()}},view:()=>e("div.row.animated.fadeInUp",{},[e("div.col-12",[e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[e("h5.mg-b-0","NotificacionesEnviadasLab de Laboratorio:",e("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:t=>{ie.idFiltro==1&&(t.dom.innerHTML="NotificacionesEnviadasLab de Hoy"),ie.idFiltro==2&&(t.dom.innerHTML="NotificacionesEnviadasLab entre Fechas"),ie.idFiltro==3&&(t.dom.innerHTML="NotificacionesEnviadasLab de Emergencia"),ie.idFiltro==4&&(t.dom.innerHTML="NotificacionesEnviadasLab de C. Externa"),ie.idFiltro==5&&(t.dom.innerHTML="NotificacionesEnviadasLab de Hospitalizaci\xF3n")},onupdate:t=>{ie.idFiltro==1&&(t.dom.innerHTML="NotificacionesEnviadasLab de Hoy"),ie.idFiltro==2&&(t.dom.innerHTML="NotificacionesEnviadasLab entre Fechas"),ie.idFiltro==3&&(t.dom.innerHTML="NotificacionesEnviadasLab de Emergencia"),ie.idFiltro==4&&(t.dom.innerHTML="NotificacionesEnviadasLab de C. Externa"),ie.idFiltro==5&&(t.dom.innerHTML="NotificacionesEnviadasLab de Hospitalizaci\xF3n")}})),e("div.d-flex.tx-14",[e(".",{class:ie.idFiltro==1?"d-none":"d-flex"},[e("div.link-03",{title:"Desde"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),e("div.link-03",{style:{cursor:"pointer"},title:"Desde"},e("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:t=>{t.dom.value=ie.idFiltro!==1?moment(moment(ie.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{ie.fechaDesde=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),ie.loader=!0,ie.NotificacionesEnviadasLab=[],ie.fetchNotificacionesEnviadasLab(),e.route.set("/imagen/NotificacionesEnviadasLab?idFiltro="+ie.idFiltro+"&fechaDesde="+ie.fechaDesde+"&fechaHasta="+ie.fechaHasta)},style:{border:"transparent"}})),e("div.link-03",{title:"Hasta"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),e("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},e("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:t=>{t.dom.value=ie.idFiltro!==1?moment(moment(ie.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{ie.fechaHasta=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),ie.loader=!0,ie.NotificacionesEnviadasLab=[],ie.fetchNotificacionesEnviadasLab(),e.route.set("/imagen/NotificacionesEnviadasLab?idFiltro="+ie.idFiltro+"&fechaDesde="+ie.fechaDesde+"&fechaHasta="+ie.fechaHasta)},style:{border:"transparent"}}))]),e("div.dropdown.dropleft",[e("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},e("i.fas.fa-filter.tx-18.pd-5")),e(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[e("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),e(e.route.Link,{class:"dropdown-item",href:"/imagen/NotificacionesEnviadasLab/?idFiltro=1"},["NotificacionesEnviadasLab de Hoy"]),e(e.route.Link,{class:"dropdown-item",href:"/imagen/NotificacionesEnviadasLab/?idFiltro=2&fechaDesde="+ie.fechaDesde+"&fechaHasta="+ie.fechaHasta},["NotificacionesEnviadasLab entre Fechas"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/imagen/NotificacionesEnviadasLab/?idFiltro=3&fechaDesde="+ie.fechaDesde+"&fechaHasta="+ie.fechaHasta},["NotificacionesEnviadasLab de Emergencia"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/imagen/NotificacionesEnviadasLab/?idFiltro=4&fechaDesde="+ie.fechaDesde+"&fechaHasta="+ie.fechaHasta},["NotificacionesEnviadasLab de C. Externa"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/imagen/NotificacionesEnviadasLab/?idFiltro=5&fechaDesde="+ie.fechaDesde+"&fechaHasta="+ie.fechaHasta},["NotificacionesEnviadasLab de Hospitalizaci\xF3n"])])])])]),e("div.col-sm-12.filemgr-content-header",{class:ie.idFiltro==1?"mg-t-35":"mg-t-40"},[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(t){ie.searchField=t.target.value},value:ie.searchField}))]),e("table.table.table-sm.tx-11[id='table-NotificacionesEnviadasLab'][width='100%']")])])])},ie={notificaciones:[],NotificacionesEnviadasLab:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:t=>{de.page="",ie.NotificacionesEnviadasLab.length==0&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),ie.fechaDesde=moment().subtract(2,"days").format("DD-MM-YYYY"),ie.fechaHasta=moment().format("DD-MM-YYYY"),ie.loader=!0,ie.NotificacionesEnviadasLab=[],ie.fetchNotificacionesEnviadasLab())},oncreate:t=>{vt.suscribirCanal("MetroPlus-NotificacionesEnviadasLab")},loadNotificacionesEnviadasLab:()=>{$.fn.dataTable.ext.errMode="none";var t=$("#table-NotificacionesEnviadasLab").DataTable({data:ie.NotificacionesEnviadasLab,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(a,o,r){return r.CD_PRE_MED},visible:!1,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(a,o,r){return r.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){ie.loader=!1,a.aoData.map(function(o){$(o.anCells[5]).css("padding","0"),e.mount(o.anCells[5],{view:function(){return o._aData.SECTOR=="EMERGENCIA"?[e("div.d-inline.list-group-item.d-flex.pd-sm",[e("div.avatar.tx-center",e("i.fas.fa-file-alt.tx-30",{title:"Ver Pedido",style:{color:"#325a98",cursor:"pointer"},onclick:()=>{e.route.set("/imagen/pedido/",{numeroHistoriaClinica:o._aData.CD_PACIENTE,numeroAtencion:o._aData.AT_MV,numeroPedido:o._aData.CD_PRE_MED,track:"view"})}})),e("div.pd-sm-l-10",[e("p.tx-medium.tx-13.mg-b-2","N\xB0 PRESCRIPCION MV: "+o._aData.CD_PRE_MED),e("p.tx-medium.tx-14.mg-b-2","PTE: "+o._aData.NM_PACIENTE),e("p.tx-medium.mg-b-2","Edad: "+o._aData.EDAD+" Peso: "+o._aData.PESO+"Kg. Altura: "+o._aData.ALTURA+"m."),e("small.tx-12.tx-light.mg-b-0","MEDICO: "+o._aData.MED_MV)]),e("div.mg-l-auto.text-right",[e("p.tx-medium.mg-b-2",o._aData.FECHA_PEDIDO+" "+o._aData.HORA_PEDIDO),e("small.tx-12.tx-danger.mg-b-0",o._aData.SECTOR),e("p.tx-12.tx-danger.mg-b-0",o._aData.UBICACION)])])]:[e("div.d-inline.list-group-item.d-flex.pd-sm",[e("div.avatar.tx-center",e("i.fas.fa-file-alt.tx-30",{title:"Ver Pedido",style:{color:"#325a98",cursor:"pointer"},onclick:()=>{e.route.set("/imagen/pedido/",{numeroHistoriaClinica:o._aData.CD_PACIENTE,numeroAtencion:o._aData.AT_MV,numeroPedido:o._aData.CD_PRE_MED,track:"view"})}})),e("div.pd-sm-l-10",[e("p.tx-medium.tx-13.mg-b-2","N\xB0 PRESCRIPCION MV: "+o._aData.CD_PRE_MED),e("p.tx-medium.tx-14.mg-b-2","PTE: "+o._aData.NM_PACIENTE),e("p.tx-medium.mg-b-2","Edad: "+o._aData.EDAD+" Peso: "+o._aData.PESO+"Kg. Altura: "+o._aData.ALTURA+"m."),e("small.tx-12.tx-light.mg-b-0","MEDICO: "+o._aData.MED_MV)]),e("div.mg-l-auto.text-right",[e("p.tx-medium.mg-b-2",o._aData.FECHA_PEDIDO+" "+o._aData.HORA_PEDIDO),e("small.tx-12.tx-primary.mg-b-0",o._aData.SECTOR),e("p.tx-12.tx-primary.mg-b-0",o._aData.UBICACION)])])]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){t.search($("#searchField").val()).draw()}),t},fetchNotificacionesEnviadasLab:()=>{let t="";ie.idFiltro==1?t="&idFiltro="+ie.idFiltro:t="&idFiltro="+ie.idFiltro+"&fechaDesde="+ie.fechaDesde+"&fechaHasta="+ie.fechaHasta,e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=enviadas"+t,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(a){ie.loader=!1,ie.NotificacionesEnviadasLab=a.data}).catch(function(a){setTimeout(function(){ie.fetchNotificacionesEnviadasLab()},2e3)})},reloadData:()=>{var t=$("#table-NotificacionesEnviadasLab").DataTable();t.clear(),t.rows.add(ie.NotificacionesEnviadasLab).draw()},view:t=>ie.loader?[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(15)}),e("div.content.content-components",{style:{"margin-right":"0px"}},e("div.container",{style:{"max-width":"none"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Notificaciones Enviadas")]),e("h1.df-title.mg-t-20.mg-b-10","Notificaciones Enviadas"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:ie.error.length!==0?[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(15)}),e("div.content.content-components",{style:{"margin-right":"0px"}},e("div.container",{style:{"max-width":"none"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Notificaciones Enviadas")]),e("h1.df-title.mg-t-20.mg-b-10","Notificaciones Enviadas"),e("div.row.animated.fadeInUp",[e("p","No existe infrmac dd ncin")])]))]:!ie.loader&&ie.NotificacionesEnviadasLab.length!==0?[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(15)}),e("div.content.content-components",e("div.container",[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Notificaciones Enviadas")]),e("h1.df-title.mg-t-20.mg-b-10","Notificaciones Enviadas"),e(Bn)]))]:!ie.loader&&ie.NotificacionesEnviadasLab.length==0?[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(15)}),e("div.content.content-components",{style:{"margin-right":"0px"}},e("div.container",{style:{"max-width":"none"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Notificaciones Enviadas")]),e("h1.df-title.mg-t-20.mg-b-10","Notificaciones Enviadas"),e("div.row.animated.fadeInUp",[e("div.col-12",[e(".alert.alert-danger[role='alert']","No existe informaci\xF3n disponible.")])])]))]:[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(15)}),e("div.content.content-components",{style:{"margin-right":"0px"}},e("div.container",{style:{"max-width":"none"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Notificaciones Enviadas")]),e("h1.df-title.mg-t-20.mg-b-10","Notificaciones Enviadas"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("p"," Error interno.")])])]))]};function Vn(){return{interval:null,seconds:100,isPaused:!1}}const Ha={showFilter:!0,showSearch:!0,show:!1,increment(t){t.seconds--,t.seconds==0&&window.location.reload(),e.redraw()},start(t){t.interval=setInterval(Ha.increment,1e3,t)},stop(t){t.interval=clearInterval(t.interval)},reset(t){t.seconds=100},toggle(t){t.isPaused?Ha.start(t):Ha.stop(t),t.isPaused=!t.isPaused}};function qn(){const t=Vn();return Ha.start(t),{view(){return[e("div.mg-b-0",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualizaci\xF3n en:")]),e("div.d-flex.justify-content-between.mg-b-5",[e("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),e("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-15",t.isPaused?[e("i.fas.fa-play.pd-2",{title:"Start",onclick(){Ha.toggle(t)},style:{cursor:"pointer"}})]:[e("i.fas.fa-pause.pd-2",{title:"Pause",onclick(){Ha.toggle(t)},style:{cursor:"pointer"}})]))]),e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:a=>{a.dom.style.width="100%"},onupdate:a=>{a.dom.style.width=t.seconds+"%"}}))])]},onremove(){Ha.stop(t)}}}const Jn={oncreate:()=>{if(K.loadFlebotomista(),K.searchField.length!==0){var t=$("#table-flebotomista").DataTable();t.search(K.searchField).draw()}},view:()=>e("div.row.animated.fadeInUp",{},[e("div.col-12",[e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[e("h5.mg-b-0","LISA:",e("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:t=>{K.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),K.idFiltro==2&&(t.dom.innerHTML="Pedidos de Emergencia"),K.idFiltro==3&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n"),K.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa")},onupdate:t=>{K.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),K.idFiltro==2&&(t.dom.innerHTML="Pedidos de Emergencia"),K.idFiltro==3&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n"),K.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa")}})),e("div.d-flex.tx-14",[e(".",{class:K.idFiltro==1?"d-none":"d-flex"},[e("div.link-03",{title:"Desde"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),e("div.link-03",{style:{cursor:"pointer"},title:"Desde"},e("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:t=>{t.dom.value=K.idFiltro!==1?moment(moment(K.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{K.fechaDesde=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),K.loader=!0,K.pedidos=[],K.fetchPedidos(),e.route.set("/laboratorio/flebotomista?idFiltro="+K.idFiltro+"&fechaDesde="+K.fechaDesde+"&fechaHasta="+K.fechaHasta)},style:{border:"transparent"}})),e("div.link-03",{title:"Hasta"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),e("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},e("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:t=>{t.dom.value=K.idFiltro!==1?moment(moment(K.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{K.fechaHasta=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),K.loader=!0,K.pedidos=[],K.fetchPedidos(),e.route.set("/laboratorio/flebotomista?idFiltro="+K.idFiltro+"&fechaDesde="+K.fechaDesde+"&fechaHasta="+K.fechaHasta)},style:{border:"transparent"}}))]),e("div.dropdown.dropleft",[e("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},e("i.fas.fa-filter.tx-18.pd-5")),e(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[e("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),e(e.route.Link,{class:"dropdown-item",href:"/laboratorio/flebotomista/?idFiltro=1"},["Pedidos de Hoy"]),e(e.route.Link,{class:"dropdown-item",href:"/laboratorio/flebotomista/?idFiltro=2&fechaDesde="+K.fechaDesde+"&fechaHasta="+K.fechaHasta},["Pedidos de Emergencia"]),e(e.route.Link,{class:"dropdown-item",href:"/laboratorio/flebotomista/?idFiltro=3&fechaDesde="+K.fechaDesde+"&fechaHasta="+K.fechaHasta},["Pedidos de Hospitalizaci\xF3n"]),e(e.route.Link,{class:"dropdown-item",href:"/laboratorio/flebotomista/?idFiltro=4&fechaDesde="+K.fechaDesde+"&fechaHasta="+K.fechaHasta},["Pedidos de C. Externa"])])])])]),e("div.col-sm-12.filemgr-content-header",{class:K.idFiltro==1?"mg-t-35":"mg-t-40"},[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(t){K.searchField=t.target.value},value:K.searchField}))]),e("table.table.table-sm.tx-11[id='table-flebotomista'][width='100%']")])])])},K={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:t=>{de.page="",K.pedidos.length==0&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),K.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),K.fechaHasta=moment().format("DD-MM-YYYY"),K.loader=!0,K.pedidos=[],K.fetchPedidos())},oncreate:t=>{vt.suscribirCanal("MetroPlus-LisaPedidos")},loadFlebotomista:()=>{$.fn.dataTable.ext.errMode="none";var t=$("#table-flebotomista").DataTable({data:K.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"N\xB0:"},{title:"Fecha:"},{title:"SC:"},{title:"Paciente:"},{title:"M\xE9dico:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!0},{mRender:function(a,o,r){return r.fechaPedido},visible:!0,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.codigoPedido},visible:!0,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.paciente},visible:!0,aTargets:[3],orderable:!1},{mRender:function(a,o,r){return r.descPrestadorSolicitante},visible:!0,aTargets:[4],orderable:!1},{mRender:function(a,o,r){return"OPCIONES"},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(a,o,r,i){e.mount(a,{view:()=>[e("td",{class:o.tipoPedido=="R"?"bg-primary":"bg-danger"},[o.tipoPedido=="R"?e("span.badge.badge-pill.badge-primary.wd-100p.mg-b-1","R"):e("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1","U")]),e("td",{style:{}},o.fechaPedido),e("td",{style:{}},e("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",o.codigoPedido)),e("td",{style:{}},[e(".d-inline.mg-r-5",{class:o.sector=="EMERGENCIA"?"tx-danger":"tx-primary"},o.sector),e("br"),o.paciente]),e("td",{style:{}},o.descPrestadorSolicitante),o.tipoOperacion=="I"?[e("td.tx-white.tx-semibold.tx-center",{title:"Status Toma de Muestras",style:{"background-color":o.muestrasProcesadas==0?"#ffc107":"#0d9448"}},o.muestrasProcesadas==0?"Muestras Pendientes":"Muestras Completo")]:[""],e("td.tx-center",{onclick:()=>{e.route.set("/laboratorio/flebotomista/pedido/",{numeroHistoriaClinica:o.numeroHistoriaClinica,numeroAtencion:o.at_mv,numeroPedido:o.codigoPedido,idTimeRecord:o.idTimeRecord,track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver Pedido ")]})},drawCallback:function(a){K.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){t.search($("#searchField").val()).draw()}),t},fetchPedidos:()=>{let t="";K.idFiltro==1?t="?type=ingresadasFlebotomia&idFiltro="+K.idFiltro:t="?type=ingresadasFlebotomia&idFiltro="+K.idFiltro+"&fechaDesde="+K.fechaDesde+"&fechaHasta="+K.fechaHasta,e.request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/listar"+t,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(a){K.loader=!1,K.pedidos=a.data}).catch(function(a){setTimeout(function(){K.fetchPedidos()},2e3)})},reproesarMensajeXML:(t,a)=>{K.loader=!0,e.request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido?sc="+t+"&idTimeRecord="+a,extract:function(o){return{status:o.status,body:o.responseText}},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(o){o.status==200?(alert("Preceso realizado con \xE9xito."),setTimeout(function(){window.location.reload()},300)):alert("Error en env\xEDo de este mensaje. Reintente nuevamente.")}).catch(function(o){alert("Error en env\xEDo de este mensaje. Reintente nuevamente.")})},reloadData:()=>{var t=$("#table-flebotomista").DataTable();t.clear(),t.rows.add(K.pedidos).draw()},view:t=>K.loader?[e(de,{oncreate:de.setPage(16)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:K.error.length!==0?[e(de,{oncreate:de.setPage(16)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("p","No existe informaci\xF3n.")])]))]:!K.loader&&K.pedidos.length!==0?[e(de,{oncreate:de.setPage(16)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e(Jn)])),e("div.section-nav",[e("label.nav-label","Pedidos Ingresados"),e("div.mg-t-10.bg-white",{},e("div.mg-t-10.bg-white",e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","Pedidos Ingresados:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",K.pedidos.length),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Pedido(s)")])])])),e("div.pd-20",e(qn)))])]:!K.loader&&K.pedidos.length==0?[e(de,{oncreate:de.setPage(16)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e(".alert.alert-danger[role='alert']","No existe informaci\xF3n disponible.")])])]))]:[e(de,{oncreate:de.setPage(16)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("p"," Error interno.")])])]))]};function zn(){return{interval:null,seconds:100,isPaused:!1}}const $a={showFilter:!0,showSearch:!0,show:!1,increment(t){t.seconds--,t.seconds==0&&window.location.reload(),e.redraw()},start(t){t.interval=setInterval($a.increment,1e3,t)},stop(t){t.interval=clearInterval(t.interval)},reset(t){t.seconds=100},toggle(t){t.isPaused?$a.start(t):$a.stop(t),t.isPaused=!t.isPaused}};function Gn(){const t=zn();return $a.start(t),{view(){return[e("div.mg-b-0",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualizaci\xF3n en:")]),e("div.d-flex.justify-content-between.mg-b-5",[e("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),e("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-15",t.isPaused?[e("i.fas.fa-play.pd-2",{title:"Start",onclick(){$a.toggle(t)},style:{cursor:"pointer"}})]:[e("i.fas.fa-pause.pd-2",{title:"Pause",onclick(){$a.toggle(t)},style:{cursor:"pointer"}})]))]),e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:a=>{a.dom.style.width="100%"},onupdate:a=>{a.dom.style.width=t.seconds+"%"}}))])]},onremove(){$a.stop(t)}}}const Xn={oncreate:()=>{if(V.loadPedidosIngresados(),V.searchField.length!==0){var t=$("#table-pedidosIngresados").DataTable();t.search(V.searchField).draw()}},view:()=>e("div.row.animated.fadeInUp",{},[e("div.col-12",[e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[e("h5.mg-b-0","LISA:",e("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:t=>{V.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),V.idFiltro==2&&(t.dom.innerHTML="Pedidos de Emergencia"),V.idFiltro==3&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n "),V.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa ")},onupdate:t=>{V.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),V.idFiltro==2&&(t.dom.innerHTML="Pedidos de Emergencia"),V.idFiltro==3&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n "),V.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa ")}})),e("div.d-flex.tx-14",[e(".",{class:V.idFiltro==1?"d-none":"d-flex"},[e("div.link-03",{title:"Desde"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),e("div.link-03",{style:{cursor:"pointer"},title:"Desde"},e("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:t=>{t.dom.value=V.idFiltro!==1?moment(moment(V.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{V.fechaDesde=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),V.loader=!0,V.pedidos=[],V.fetchPedidosIngresados(),e.route.set("/laboratorio/lisa/pedidos/ingresados?idFiltro="+V.idFiltro+"&fechaDesde="+V.fechaDesde+"&fechaHasta="+V.fechaHasta)},style:{border:"transparent"}})),e("div.link-03",{title:"Hasta"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),e("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},e("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:t=>{t.dom.value=V.idFiltro!==1?moment(moment(V.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{V.fechaHasta=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),V.loader=!0,V.pedidos=[],V.fetchPedidosIngresados(),e.route.set("/laboratorio/lisa/pedidos/ingresados?idFiltro="+V.idFiltro+"&fechaDesde="+V.fechaDesde+"&fechaHasta="+V.fechaHasta)},style:{border:"transparent"}}))]),e("div.dropdown.dropleft",[e("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},e("i.fas.fa-filter.tx-18.pd-5.tx-primary")),e(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[e("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),e(e.route.Link,{class:"dropdown-item",href:"/laboratorio/lisa/pedidos/ingresados/?idFiltro=1"},["Pedidos de Hoy"]),e(e.route.Link,{class:"dropdown-item",href:"/laboratorio/lisa/pedidos/ingresados/?idFiltro=2&fechaDesde="+V.fechaDesde+"&fechaHasta="+V.fechaHasta},["Pedidos de Emergencia"]),e(e.route.Link,{class:"dropdown-item",href:"/laboratorio/lisa/pedidos/ingresados/?idFiltro=3&fechaDesde="+V.fechaDesde+"&fechaHasta="+V.fechaHasta},["Pedidos de Hospitalizaci\xF3n"]),e(e.route.Link,{class:"dropdown-item",href:"/laboratorio/lisa/pedidos/ingresados/?idFiltro=4&fechaDesde="+V.fechaDesde+"&fechaHasta="+V.fechaHasta},["Pedidos de C. Externa"])])])])]),e("div.col-sm-12.filemgr-content-header",{class:V.idFiltro==1?"mg-t-35":"mg-t-40"},[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(t){V.searchField=t.target.value},value:V.searchField}))]),e("table.table.table-sm.tx-11[id='table-pedidosIngresados'][width='100%']")])])])},V={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",pCancelados:0,pIngreados:0,pPendientes:0,pProcesados:0,oninit:t=>{de.page="",V.pedidos.length==0&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),V.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),V.fechaHasta=moment().format("DD-MM-YYYY"),V.loader=!0,V.pedidos=[],V.fetchPedidosIngresados())},oncreate:t=>{vt.suscribirCanal("MetroPlus-LisaPedidos")},loadPedidosIngresados:()=>{$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidosIngresados").DataTable({data:V.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"N\xB0:"},{title:"Fecha:"},{title:"SC:"},{title:"Paciente:"},{title:"M\xE9dico:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!0},{mRender:function(a,o,r){return r.fechaPedido},visible:!0,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.codigoPedido},visible:!0,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.paciente},visible:!0,aTargets:[3],orderable:!1},{mRender:function(a,o,r){return r.descPrestadorSolicitante},visible:!0,aTargets:[4],orderable:!1},{mRender:function(a,o,r){return"OPCIONES"},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(a,o,r,i){e.mount(a,{view:()=>[e("td",{class:o.tipoPedido=="R"?"bg-primary":"bg-danger"},[o.tipoPedido=="R"?e("span.badge.badge-pill.badge-primary.wd-100p.mg-b-1","R"):e("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1","U")]),e("td",{style:{}},o.fechaPedido),e("td",{style:{}},e("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",o.codigoPedido)),e("td",{style:{}},[e(".d-inline.mg-r-5",{class:o.sector=="EMERGENCIA"?"tx-danger":"tx-primary"},o.sector),e("br"),o.paciente]),e("td",{style:{}},o.descPrestadorSolicitante),o.tipoOperacion=="I"?e("td.tx-white.tx-semibold.tx-center",{title:o.enviadoInfinity==0?" Retenido ":" Enviado ",style:{"background-color":o.enviadoInfinity==0?"#fd7e14":"#00cccc"}},o.enviadoInfinity==0?"Retenido":"Enviado"):e("td.tx-white.tx-semibold.bg-danger.tx-center",{title:o.enviadoInfinity==0?" Cancelado ":" Cancelado Enviado "},o.enviadoInfinity==0?"Cancelado":"Cancelado Enviado"),o.tipoOperacion=="I"?[e("td.tx-white.tx-semibold.tx-center",{title:"Status Toma de Muestras",style:{"background-color":o.muestrasProcesadas==0?"#ffc107":"#0d9448"}},o.muestrasProcesadas==0?"Muestras Pendientes":"Muestras Completo")]:[""],o.tipoOperacion=="E"||o.tipoOperacion=="A"?[e("td.tx-center",{onclick:()=>{confirm("Esta Ud. seguro de generar este env\xEDo.")==!0&&V.reproesarMensajeXML(Number(o.codigoPedido),o.idTimeRecord)},title:o.enviadoInfinity==0?" Enviar ":" Reenviar ",style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}},e("i.fas.fa-file-upload.mg-r-5"),o.enviadoInfinity==0?" Enviar ":" Reenviar ")]:[""],e("td.tx-center",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}},[e(e.route.Link,{class:"tx-dark pd-2",href:"/laboratorio/lisa/pedido/",target:"_blank",params:{numeroHistoriaClinica:o.numeroHistoriaClinica,numeroAtencion:o.at_mv,numeroPedido:o.codigoPedido,idTimeRecord:o.idTimeRecord,track:"view"}},"Ver Pedido")])]})},drawCallback:function(a){V.loader=!1,V.pProcesados=0,V.pPendientes=0,V.pIngreados=0,V.pCancelados=0,a.aoData.map(function(o,r){o._aData.tipoOperacion=="I"&&(V.pIngreados++,o._aData.muestrasProcesadas==0&&V.pPendientes++,o._aData.muestrasProcesadas==1&&V.pProcesados++),(o._aData.tipoOperacion=="E"||o._aData.tipoOperacion=="A")&&V.pCancelados++})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){t.search($("#searchField").val()).draw()}),t},fetchPedidosIngresados:()=>{let t="";V.idFiltro==1?t="?type=ingresadas&idFiltro="+V.idFiltro:t="?type=ingresadas&idFiltro="+V.idFiltro+"&fechaDesde="+V.fechaDesde+"&fechaHasta="+V.fechaHasta,e.request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/listar"+t,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(a){V.loader=!1,V.pedidos=a.data}).catch(function(a){setTimeout(function(){V.fetchPedidosIngresados()},2e3)})},reproesarMensajeXML:(t,a)=>{V.loader=!0,e.request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido?sc="+t+"&idTimeRecord="+a,extract:function(o){return{status:o.status,body:o.responseText}},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(o){o.status==200?(alert("Preceso realizado con \xE9xito."),setTimeout(function(){window.location.reload()},300)):alert("Error en env\xEDo de este mensaje. Reintente nuevamente.")}).catch(function(o){alert("Error en env\xEDo de este mensaje. Reintente nuevamente.")})},reloadData:()=>{var t=$("#table-pedidosIngresados").DataTable();t.clear(),t.rows.add(V.pedidos).draw()},view:t=>V.loader?[e(de,{oncreate:de.setPage(21)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:V.error.length!==0?[e(de,{oncreate:de.setPage(21)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("p","No existe informaci\xF3n.")])]))]:!V.loader&&V.pedidos.length!==0?[e(de,{oncreate:de.setPage(21)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e(Xn)])),e("div.section-nav",[e("label.nav-label","Pedidos Ingresados"),e("div.mg-t-10.bg-white",e("div.mg-t-10.bg-white",e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","Pedidos Ingresados:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",V.pIngreados-V.pCancelados),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Pedido(s)")])])]),e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","Pedidos Cancelados:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",V.pCancelados),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Pedido(s)")])])]),e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","Pedidos Pendientes:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",V.pPendientes),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Pedido(s)")])])]),e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","Pedidos Procesados:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",V.pProcesados),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Pedido(s)")])])])),e("div.pd-20",e(Gn)))])]:!V.loader&&V.pedidos.length==0?[e(de,{oncreate:de.setPage(21)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e(".alert.alert-danger[role='alert']","No existe informaci\xF3n disponible.")])])]))]:[e(de,{oncreate:de.setPage(21)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("p"," Error interno.")])])]))]},Be={secs:[],nombres:"",show:!1,view:()=>{let t="",a="",o="";return et.num==0&&setTimeout(function(){et.num=et.data.length,et.parseFetch(),e.redraw.sync()},2e3),Be.secs.length==0?[e("div.pd-10.wd-100p",e("div.d-inline.tx-secondary.tx-12",{oncreate:r=>{r.dom.innerHTML="Procesando "+et.data.length+" formulario(s) encontrado(s)..."}}),e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]:[Be.secs.map(function(r,i,s){if(r.name=="prescripciones_texto"&&(a=r.answer),r.name=="evolucion_medica_texto"&&(t=r.answer),r.name=="cd_documento_clinico"&&(o="http://172.16.253.18/mvpep/api/clinical-documents/"+r.answer+".pdf?company=1&department=75"),r.name=="Logotipo_archivo")return[e("div.d-inline.tx-secondary.tx-12",{oncreate:c=>{c.dom.innerHTML=et.data.length+" formulario(s) encontrado(s)."}}),e("table.table.table-bordered.wd-100p",{style:{zoom:et.zoom}},[e("thead",[e("tr",e("th[colspan='12'][scope='col']",[e("i.tx-light.fas.fa-file-alt.mg-r-2."),e("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),e("tr",[e("th[colspan='10'][scope='col']",e("div.m-0.p-0",e("img",{width:"100rem",src:"data:image/png;base64,"+r.answer}))),e("th.tx-right[colspan='2'][scope='col']",e("a.tx-right.tx-semibold",{href:o,target:"_blank"},e("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),e("tbody",[e("tr",[e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ESTABLECIMIENTO")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NOMBRE")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","APELLIDO")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","SEXO (M-F)")),e("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NHCL.")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ADM."))]),e("tr",[e("th.text-center[colspan='3'][scope='row']",e("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",Be.nombres)),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",Be.apellidos_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Be.sexo)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Be.nhcl)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Be.numero_admision))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","EDAD")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","UBICACION")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),e("tr",[e("td.text-center[colspan='1'][scope='row']",e("div.m-0.p-0.text-center",Be.edad||Be.edad_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Be.identificacion)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Be.fecha_admision)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Be.fecha_admision)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",Be.ubicacion)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",Be.medico_tratante))]),e("tr",[e("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCI\xD3N")),e("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",e("br"),"CADA PRESCRIPCI\xD3N"]))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FECHA",e("br"),"d\xEDa/mes/a\xF1o"])),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","HORA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCI\xD3N")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",e("br"),"(PARA ENFERMER\xCDA Y OTRO PERSONAL)"])),e("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",e("br"),"F\xC1RMACOS INSUMOS"]))]),e("tr",[e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.tx-bold.text-justify",t!==null&&t.length!==0?e.trust(t.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.text-justify",a!==null&&a.length!==0?e.trust(a.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},et={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:t=>(Object.keys(t.data).map(function(a,o,r){Be.secs.push(t.data[a])}),Be.secs.map(function(a,o,r){a.name=="nombres"&&(Be.nombres=a.answer),a.name=="apellidos_paciente"&&(Be.apellidos_paciente=a.answer),a.name=="sexo de paciente"&&(Be.sexo=a.answer),a.name=="nhcl"&&(Be.nhcl=a.answer),a.name=="numero_admision"&&(Be.numero_admision=a.answer),a.name=="edad"&&(Be.edad=a.answer),a.name=="edad_paciente"&&(Be.edad_paciente=a.answer),a.name=="identificacion_paciente"&&(Be.identificacion=a.answer),a.name=="fecha_admision"&&(Be.fecha_admision=a.answer),a.name=="ubicacion_atencion"&&(Be.ubicacion=a.answer),a.name=="fecha_alta"&&(Be.fecha_alta=a.answer==null?"":a.answer),a.name=="medico_tratante"&&(Be.medico_tratante=a.answer)})),parseFetch:()=>(Be.secs=[],et.data.map(function(t,a,o){et.parseDoc(et.data[a])})),fetch:()=>{et.data=[],et.error="",e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+et.nhc+"&adm="+et.adm,headers:{Authorization:localStorage.accessToken}}).then(function(t){t.length!==0?(et.data=t,et.num=0,e.redraw()):et.error="El documento solicitado no esta disponible."}).catch(function(t){setTimeout(function(){et.fetch()},5e3)})},view:()=>et.error?[e(".alert.alert-danger[role='alert']",et.error)]:et.data.length!==0?[e(Be)]:[e("div.d-inline.tx-secondary.tx-12",{oncreate:t=>{t.dom.innerHTML="Buscando informaci\xF3n..."}}),e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},Gt={data:[],detalle:[],error:"",showFor:"",fetch:()=>{Gt.data=[],Gt.error="",e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:ne.data.PedidoExameLab.paciente.codigoPaciente+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(t){t.status?(Gt.data=t.data,et.adm=Gt.data[0].ADM,et.nhc=Gt.data[0].NHCL,et.fetch()):Gt.error=t.message}).catch(function(t){setTimeout(function(){Gt.fetch()},5e3)})},view:()=>Gt.error?[e(".alert.alert-danger[role='alert']",Gt.error)]:Gt.data.length!==0?[e(et)]:[e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},gt={data:null,medico:null,fetch:()=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/itemslab/"+ne.numeroPedido,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){gt.data=t.examenes,gt.medico=t.medico}).catch(function(t){})},oninit:()=>{gt.fetch()},view:()=>ne.examenes!==0&&gt.data!==null?(ne.examenes.Exame.length==null&&(ne.examenes.Exame=[ne.examenes.Exame]),ne.examenes.Exame.map(function(t,a,o){return console.log(gt.data[t.codigoExame]),t.operacao=="E"?[e(".tx-14.tx-semibold.tx-danger.d-inline",a+1+": "+t.descExame+" - "+t.codigoExameFaturamento),gt.data[t.codigoExame]!==void 0&&gt.data[t.codigoExame].OBS_EXAMEN!==null?[e("br"),e(".d-inline.tx-danger","Observaciones:"),e("br"),e(".d-inline",gt.data[t.codigoExame].OBS_EXAMEN),e("br")]:e("br")]:[e(".tx-14.tx-semibold.d-inline",a+1+": "+t.descExame+" - "+t.codigoExameFaturamento),gt.data[t.codigoExame]!==void 0&&gt.data[t.codigoExame].OBS_EXAMEN!==null?[e("br"),e(".d-inline.tx-danger","Observaciones:"),e("br"),e(".d-inline",gt.data[t.codigoExame].OBS_EXAMEN),e("br")]:e("br")]})):[e("div.pd-10",[e("div.placeholder-paragraph",[e("div.line")])])]},Q={error:"",documento:[],data:[],dataLisa:[],dataMuestras:[],fetch:()=>{Q.error="",Q.data=[],Q.documento=[],e.request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/status-pedido-lisa",body:{numeroPedido:ne.numeroPedido,idTimeRecord:ne.idTimeRecord},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status?(ne.loader=!1,ne.data=t.data.pedido,ne.examenes=t.data.pedido.PedidoExameLab.listaExame,Q.documento=t.data,Q.data=t.data.dataTomaMuestra.examenesToma,Q.dataMuestras=t.data.dataRecepcion.examenesRecep,lt.impresora=ne.data.PedidoExameLab.atendimento.nomeMaquina,Gt.fetch(),ta.fetch()):ne.error=t.message}).catch(function(t){})}},M={tuboLila:0,tuboRojo:0,tuboCeleste:0,tuboNegro:0,tuboVerde:0,gsav:0,hemocultivo:0,qtb:0},ta={observaciones:"",data:[],obs:"",show:!1,loadObservaciones:()=>{moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-observaciones").DataTable({data:ta.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){a.aoData.map(function(o,r){e.mount(o.anCells[0],{view:function(){return o._aData.title=="Nuevo Mensaje"?e("div.demo-static-toast",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[e("div.toast-header.bg-primary",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",o._aData.title),e("small.tx-white",moment.unix(o._aData.timestamp).format("HH:mm"))]),e("div.toast-body.small",o._aData.message)])):e("div.demo-static-toast",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[e("div.toast-header.bg-primary",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",o._aData.title),e("small.tx-white",moment.unix(o._aData.timestamp).format("HH:mm"))]),e("div.toast-body.small",o._aData.message)]))}})})}});return t},reloadObservaciones:()=>{var t=$("#table-observaciones").DataTable();t.clear(),t.rows.add(ta.data).draw()},fetch:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedido/"+ne.numeroPedido}).then(function(t){ta.data=t.data,ta.loadObservaciones()}).catch(function(t){})},sendNotiLab:()=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/noti-eme/"+ne.numeroPedido,body:{message:ta.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(ta.observaciones="",ta.fetch(),alert("Observaci\xF3n registrada con \xE9xito."))}).catch(function(t){EditarPedido.error=t.message})}},Vt={checkedAll:!1,disabledToma:!1,disabledInsumos:!1,seleccionarTodos:t=>{Vt.checkedAll=t;var a=moment().format("DD-MM-YYYY HH:mm");return Q.data.map(function(o,r,i){t?(Q.data[r].STATUS_TOMA="1",Q.data[r].FECHA_TOMA=a,Q.data[r].customCheked=!0):(Q.data[r].STATUS_TOMA="",Q.data[r].FECHA_TOMA="",Q.data[r].customCheked=!1)})},validarUpdateMuestras:()=>{for(var t=0,a=0;a<Q.data.length;a++)Q.data[a].STATUS_TOMA.length!==0&&t++;if(t==0)throw alert("El regisro de Recepci\xF3n de (Muestra) e Insumos en necesario."),"El regisro de Recepci\xF3n de (Muestra) e Insumos en necesario.";var o=0;if(M.tuboLila!==0&&o++,M.tuboRojo!==0&&o++,M.tuboCeleste!==0&&o++,M.tuboNegro!==0&&o++,M.tuboVerde!==0&&o++,M.gsav!==0&&o++,M.hemocultivo!==0&&o++,M.qtb!==0&&o++,o===0)throw console.log(o),alert("El regisro de Toma de Muestra e (Insumos) en necesario."),"El regisro de Toma de Muestra e (Insumos) en necesario."},udpateStatusTomaMuestra:()=>{Q.documento.dataTomaMuestra.insumosToma=M,e.request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/up-status-pedido-lab",body:{documento:JSON.stringify(Q.documento)},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){Q.documento=t.data,Q.data=t.data.dataTomaMuestra.examenesToma}).catch(function(t){})},view:()=>Q.error?[e("p.mg-0",Q.error)]:Q.data.length!==0?[e("div.bg-white.bd.d-flex.flex-column.justify-content-end",[Vt.disabledToma?[e("p.mg-5.tx-right",[e("button.btn.btn-xs.btn-outline-secondary[type='button']",{onclick:()=>{Vt.disabledToma=!1,Vt.disabledInsumos=!1}},e("i.fas.fa-edit.mg-r-5")," EDITAR")])]:[],e(".",{style:{"pointer-events":Vt.disabledToma?"none":"auto"}},[e("div.table-responsive.mg-b-10.mg-t-10",e("table.table.table-dashboard.table-hover.mg-b-0",[e("thead",e("tr",[e("th.text-dark.text-left.bg-light[colspan='2']","Toma de Muestra")]),e("tr",[e("th.text-left","EXAMEN"),e("th","CONFIRMACI\xD3N")])),e("tbody",[e("tr",[e("td.tx-normal",e("div.custom-control.custom-checkbox",[e("input.custom-control-input[type='checkbox'][id='selectTomaTodos']",{checked:Vt.checkedAll,onclick:function(t){Vt.seleccionarTodos(this.checked)}}),e("label.custom-control-label[for='selectTomaTodos']","Seleccionar Todos")])),e("td.tx-medium.text-right")]),Q.data.map(function(t,a,o){return[e("tr",[e("td.tx-18.tx-medium.text-left",t.NM_EXA_LAB),e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.custom-control-input.tx-16[type='checkbox'][id='"+t.CD_EXA_LAB+"']",{checked:Q.data[a].customCheked,onupdate:function(r){this.checked=Q.data[a].customCheked},onclick:function(r){r.preventDefault();var i=this.checked;Q.data[a].customCheked=!Q.data[a].customCheked,i?(this.checked=!0,Q.data[a].STATUS_TOMA="1",Q.data[a].FECHA_TOMA=moment().format("DD-MM-YYYY HH:mm")):(this.checked=!1,Vt.checkedAll=!1,Q.data[a].STATUS_TOMA="",Q.data[a].FECHA_TOMA="")}}),e("label.custom-control-label.tx-16[for='"+t.CD_EXA_LAB+"']",Q.data[a].STATUS_TOMA.length!==0?Q.data[a].FECHA_TOMA:Q.data[a].STATUS_TOMA)]))])]})])])),e("div.table-responsive.mg-b-10.mg-t-10",e("table.table.table-dashboard.table-hover.mg-b-0",[e("thead",e("tr",[e("th.text-dark.text-left.bg-light[colspan='2']","INSUMOS")]),e("tr",[e("th.text-left","INSUMOS"),e("th.text-left","CANTIDAD")])),e("tbody",[e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboLila']",{onclick:t=>{t.target.checked?M.tuboLila=1:M.tuboLila=0},oncreate:t=>{M.tuboLila!==void 0&&M.tuboLila!==0&&(t.dom.checked=!0)},onupdate:t=>{M.tuboLila!==void 0&&M.tuboLila!==0?M.tuboLila==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold.custom-control-label[for='tuboLila']","Tubo Lila")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{M.tuboLila!==void 0&&M.tuboLila!==0?t.dom.innerText=M.tuboLila:t.dom.innerText=0},onupdate:t=>{M.tuboLila!==void 0&&M.tuboLila!==0?t.dom.innerText=M.tuboLila:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{M.tuboLila++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{M.tuboLila--,M.tuboLila<0&&(M.tuboLila=0)}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboRojo']",{onclick:t=>{t.target.checked?M.tuboRojo=1:M.tuboRojo=0},oncreate:t=>{M.tuboRojo!==void 0&&M.tuboRojo!==0&&(t.dom.checked=!0)},onupdate:t=>{M.tuboRojo!==void 0&&M.tuboRojo!==0?M.tuboRojo==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='tuboRojo']","Tubo Rojo")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{M.tuboRojo!==void 0&&M.tuboRojo!==0?t.dom.innerText=M.tuboRojo:t.dom.innerText=0},onupdate:t=>{M.tuboRojo!==void 0&&M.tuboRojo!==0?t.dom.innerText=M.tuboRojo:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{M.tuboRojo++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{M.tuboRojo--,M.tuboRojo<0&&(M.tuboRojo=0)}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboCeleste']",{onclick:t=>{t.target.checked?M.tuboCeleste=1:M.tuboCeleste=0},oncreate:t=>{M.tuboCeleste!==void 0&&M.tuboCeleste!==0&&(t.dom.checked=!0)},onupdate:t=>{M.tuboCeleste!==void 0&&M.tuboCeleste!==0?M.tuboCeleste==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='tuboCeleste']","Tubo Celeste")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{M.tuboCeleste!==void 0&&M.tuboCeleste!==0?t.dom.innerText=M.tuboCeleste:t.dom.innerText=0},onupdate:t=>{M.tuboCeleste!==void 0&&M.tuboCeleste!==0?t.dom.innerText=M.tuboCeleste:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{M.tuboCeleste++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{M.tuboCeleste--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboNegro']",{onclick:t=>{t.target.checked?M.tuboNegro=1:M.tuboNegro=0},oncreate:t=>{M.tuboNegro!==void 0&&M.tuboNegro!==0&&(t.dom.checked=!0)},onupdate:t=>{M.tuboNegro!==void 0&&M.tuboNegro!==0?M.tuboNegro==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='tuboNegro']","Tubo Negro")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{M.tuboNegro!==void 0&&M.tuboNegro!==0?t.dom.innerText=M.tuboNegro:t.dom.innerText=0},onupdate:t=>{M.tuboNegro!==void 0&&M.tuboNegro!==0?t.dom.innerText=M.tuboNegro:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{M.tuboNegro++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{M.tuboNegro--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboVerde']",{onclick:t=>{t.target.checked?M.tuboVerde=1:M.tuboVerde=0},oncreate:t=>{M.tuboVerde!==void 0&&M.tuboVerde!==0&&(t.dom.checked=!0)},onupdate:t=>{M.tuboVerde!==void 0&&M.tuboVerde!==0?M.tuboVerde==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='tuboVerde']","Tubo Verde")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{M.tuboVerde!==void 0&&M.tuboVerde!==0?t.dom.innerText=M.tuboVerde:t.dom.innerText=0},onupdate:t=>{M.tuboVerde!==void 0&&M.tuboVerde!==0?t.dom.innerText=M.tuboVerde:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{M.tuboVerde++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{M.tuboVerde--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='gsav']",{onclick:t=>{t.target.checked?M.gsav=1:M.gsav=0},oncreate:t=>{M.gsav!==void 0&&M.gsav!==0&&(t.dom.checked=!0)},onupdate:t=>{M.gsav!==void 0&&M.gsav!==0?M.gsav==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='gsav']","GSA V")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{M.gsav!==void 0&&M.gsav!==0?t.dom.innerText=M.gsav:t.dom.innerText=0},onupdate:t=>{M.gsav!==void 0&&M.gsav!==0?t.dom.innerText=M.gsav:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{M.gsav++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{M.gsav--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='hemocultivo']",{onclick:t=>{t.target.checked?M.hemocultivo=1:M.hemocultivo=0},oncreate:t=>{M.hemocultivo!==void 0&&M.hemocultivo!==0&&(t.dom.checked=!0)},onupdate:t=>{M.hemocultivo!==void 0&&M.hemocultivo!==0?M.hemocultivo==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='hemocultivo']","Hemocultivo")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{M.hemocultivo!==void 0&&M.hemocultivo!==0?t.dom.innerText=M.hemocultivo:t.dom.innerText=0},onupdate:t=>{M.hemocultivo!==void 0&&M.hemocultivo!==0?t.dom.innerText=M.hemocultivo:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{M.hemocultivo++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{M.hemocultivo--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='qtb']",{onclick:t=>{t.target.checked?M.qtb=1:M.qtb=0},oncreate:t=>{M.qtb!==void 0&&M.qtb!==0&&(t.dom.checked=!0)},onupdate:t=>{M.qtb!==void 0&&M.qtb!==0?M.qtb==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='qtb']","QTB")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{M.qtb!==void 0&&M.qtb!==0?t.dom.innerText=M.qtb:t.dom.innerText=0},onupdate:t=>{M.qtb!==void 0&&M.qtb!==0?t.dom.innerText=M.qtb:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{M.qtb++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{M.qtb--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])])])])),Vt.disabledToma?[e("p.mg-5.",[e("span.badge.badge-light.tx-right.wd-100p.tx-14","Toma de Muestra: FLEBOT1 "+Q.documento.pedidoLaboratorio.dataTomaMuestra.fechaToma)])]:[e("div.pd-10",[e("button.btn.btn-xs.btn-primary.btn-block.tx-semibold[type='button']",{disabled:Vt.disabledToma,onclick:()=>{Vt.validarUpdateMuestras();var t=moment().format("DD-MM-YYYY HH:mm");Q.documento.dataTomaMuestra.usuarioToma="flebot1",Q.documento.dataTomaMuestra.fechaToma=t,Vt.disabledToma=!0,Vt.udpateStatusTomaMuestra()}},"Guardar Registro")])]])])]:[e("div.pd-t-10",[e("div.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")])])]},ge={showLogs:"",dataXML:"",nuevoPedido:!1,logsEnvio:[],examenes:[],jsonObj:null,vaTime:null,xmlRes:null,setNuevoPedido:()=>{ge.nuevoPedido=!0},agregarExamen:t=>{var a=!1;ge.examenes.map(function(o,r,i){ge.examenes[r].codigoExame==t.CD_EXA_LAB&&(a=!0)}),a||ne.examenes.Exame.map(function(o,r,i){ne.examenes.Exame[r].codigoExame==t.CD_EXA_LAB&&ge.examenes.push(ne.examenes.Exame[r])}),console.log(ge.examenes)},eliminarExamen:t=>{var a=!1,o=null;ge.examenes.map(function(r,i,s){ge.examenes[i].codigoExame==t.CD_EXA_LAB&&(a=!0,o=i)}),a&&(ge.examenes.splice(o,1),console.log(ge.examenes))},generarXML:()=>{ge.jsonObj={Exame:ge.examenes},ge.vaTime=moment().format("YYYY-MM-DD HH:mm:ss"),ne.data.Cabecalho.mensagemID=moment().unix(),ne.data.Cabecalho.dataHora=ge.vaTime,ne.data.PedidoExameLab.listaExame=ge.jsonObj,ne.data.PedidoExameLab.operacao="I",lt.impresora.length!==0&&(console.log("RecepMuestras",lt.impresora),ne.data.PedidoExameLab.atendimento.nomeMaquina=lt.impresora),gt.medico!==null&&gt.medico!==!1&&(ne.data.PedidoExameLab.atendimento.prestadorSolicitante=gt.medico.CODMEDICO,ne.data.PedidoExameLab.atendimento.descPrestadorSolicitante=gt.medico.PRESTADOR,ne.data.PedidoExameLab.atendimento.numeroConselhoSolicitante=gt.medico.CEDULA),ge.xmlRes=er(ne.data),console.log("documento",ne.data),ge.nuevoPedido?ge.sendNuevoPedido(ge.xmlRes,ne.numeroPedido,ge.vaTime):ge.sendXML(ge.xmlRes,ne.numeroPedido,ge.vaTime)},sendNuevoPedido:(t,a,o)=>{e.request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-nuevo-pedido",body:{data:t,sc:a,idTimeRecord:o},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(r){setTimeout(function(){alert("Proceso realizado con \xE9xito."),window.location.reload()},2e3),console.log("result",r)}).catch(function(r){})},sendXML:(t,a,o)=>{console.log("xmlRes",t),e.request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido",body:{data:t,sc:a,idTimeRecord:o},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(r){setTimeout(function(){alert("Proceso realizado con \xE9xito."),window.location.reload()},2e3)}).catch(function(r){})},oninit:()=>{ge.examenes=[],ge.showLogs="",ge.dataXML=[],ge.nuevoPedido=!1,ge.logsEnvio=[],ge.examenes=[],ge.jsonObj=null,ge.vaTime=null,ge.xmlRes=null,lt.disabledToma=!1,e.request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/logs-envio-pedido-lisa?numeroPedido="+ne.numeroPedido,headers:{Authorization:localStorage.accessToken}}).then(function(t){t.data.map(function(a,o,r){a.PedidoExameLab.listaExame.Exame!==void 0&&ge.logsEnvio.push(a)}),console.log(ge.logsEnvio),Object.keys(ge.logsEnvio).length!==0&&(lt.disabledToma=!0)}).catch(function(t){})},view:()=>ge.logsEnvio.length!==0?ge.logsEnvio.map(function(t,a,o){return[e("tr",{oncreate:()=>{a+1===o.length&&(lt.impresora=t.PedidoExameLab.atendimento.nomeMaquina)}},[e("td.tx-16.tx-normal.text-left",t.PedidoExameLab.listaExame.Exame!==void 0&&t.PedidoExameLab.listaExame.Exame.length!==void 0?[t.PedidoExameLab.codigoPedido>88e6?[t.PedidoExameLab.listaExame.Exame.map(function(r,i,s){return lt.examenNuevoPedido(r,t.PedidoExameLab,t.Cabecalho),[e(".d-inline",r.descExame),e("br")]})]:[t.PedidoExameLab.listaExame.Exame.map(function(r,i,s){return[e(".d-inline",r.descExame),e("br")]})]]:[t.PedidoExameLab.codigoPedido>88e6?[lt.examenNuevoPedido(t.PedidoExameLab.listaExame.Exame,t.PedidoExameLab,t.Cabecalho),e(".d-inline",t.PedidoExameLab.listaExame.Exame.descExame),e("br")]:[e(".d-inline",t.PedidoExameLab.listaExame.Exame.descExame),e("br")]]),e("td.tx-16.tx-normal","TIPO: "+t.PedidoExameLab.operacao,e("br"),e(".d-inline.tx-danger.tx-semibold","SC: "+t.PedidoExameLab.codigoPedido),e("br"),t.Cabecalho.dataHora),e("td.tx-16.tx-normal.d-none",[t.PedidoExameLab.codigoPedido>88e6?[e("button.btn.btn-xs.btn-block.wd-50p.btn-danger.d-none",{onclick:()=>{}}," Eliminar ")]:[]])])]}):[e("tr",[e("td.tx-16.tx-medium.text-left","No existe env\xEDos.")])]},lt={checkedAll:!1,disabledToma:!1,disabledInsumos:!1,impresora:"",examenNuevoPedido:(t,a,o)=>Q.dataMuestras.map(function(r,i,s){t.codigoExame===r.CD_EXA_LAB&&(Q.dataMuestras[i].NM_EXA_LAB="",Q.dataMuestras[i].NM_EXA_LAB="*"+t.descExame+" ("+a.codigoPedido+")")}),seleccionarTodos:t=>{lt.checkedAll=t;var a=moment().format("DD-MM-YYYY HH:mm");return Q.dataMuestras.map(function(o,r,i){t?(Q.dataMuestras[r].STATUS_RECEP="1",Q.dataMuestras[r].FECHA_RECEP=a,Q.dataMuestras[r].customCheked=!0,ge.agregarExamen(Q.dataMuestras[r])):(Q.dataMuestras[r].STATUS_RECEP="",Q.dataMuestras[r].FECHA_RECEP="",Q.dataMuestras[r].customCheked=!1,ge.eliminarExamen(Q.dataMuestras[r]))})},validarUpdateMuestras:()=>{for(var t=0,a=0;a<Q.dataMuestras.length;a++)Q.dataMuestras[a].STATUS_RECEP.length!==0&&t++;if(t==0)throw alert("El regisro de Toma de (Muestra) e Insumos en necesario."),"El regisro de Toma de (Muestra) e Insumos en necesario.";ge.generarXML()},udpateStatusTomaMuestra:()=>{Q.documento.dataRecepcion.insumosRecep=M,e.request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/up-status-pedido-lab",body:{documento:JSON.stringify(Q.documento)},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){Q.documento=t.data,Q.dataMuestras=t.data.dataRecepcion.examenesRecep}).catch(function(t){})},view:()=>Q.error?[e("p.mg-0",Q.error)]:Q.dataMuestras.length!==0?[e("div.bg-white.bd.d-flex.flex-column.justify-content-end",[e("p.mg-5.tx-right",[e("button.btn.btn-xs.btn-success.mg-r-5[type='button']",{class:lt.disabledToma?"":"d-none",onclick:()=>{lt.disabledToma=!1}},e("i.fas.fa-edit.mg-r-5")," EDITAR "),e("button.btn.btn-xs.btn-primary.mg-r-5[type='button']",{onclick:()=>{confirm("Esta seguro de generar un nuevo pedido 88.000.000.")==!0&&(lt.disabledToma=!1,ge.setNuevoPedido())}},e("i.fas.fa-file-alt.mg-r-5")," NUEVO PEDIDO "),e("button.btn.btn-xs.btn-warning[type='button']",{onclick:()=>{ge.showLogs.length==0?ge.showLogs="d-none":ge.showLogs=""}}," VER HISTORIAL DE ENV\xCDO ")]),e(".",[e(".",{class:ge.showLogs,style:{"pointer-events":lt.disabledToma?"none":"auto"}},[e("div.table-responsive.mg-b-10.mg-t-10",e("table.table.table-dashboard.table-hover.mg-b-0",[e("thead",e("tr",[e("th[colspan='2'].text-dark.text-left.tx-semibold",{oncreate:t=>{t.dom.innerHTML="Recepcion de Muestras"},onupdate:t=>{ge.nuevoPedido?t.dom.innerHTML="Nuevo Pedido LISA:":t.dom.innerHTML="Recepcion de Muestras"}})]),e("tr",[e("th.text-left","EXAMEN(ES)"),e("th[colspan='2']","CONFIRMACI\xD3N Y ENV\xCDO LISA")])),e("tbody",[e("tr",[e("td[colspan='2'].tx-normal",e("div.custom-control.custom-checkbox",[e("input.custom-control-input[type='checkbox'][id='r_selectTomaTodos']",{checked:lt.checkedAll,onclick:function(t){lt.seleccionarTodos(this.checked)}}),e("label.custom-control-label[for='r_selectTomaTodos']","Seleccionar Todos")]))]),Q.dataMuestras.map(function(t,a,o){return[e("tr",[e("td.tx-18.tx-medium.text-left",t.NM_EXA_LAB),e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.custom-control-input.tx-16[type='checkbox'][id='r_"+t.CD_EXA_LAB+"']",{checked:Q.dataMuestras[a].customCheked,onupdate:function(r){this.checked=Q.dataMuestras[a].customCheked},onclick:function(r){r.preventDefault();var i=this.checked;if(i)Q.dataMuestras[a].customCheked=!Q.dataMuestras[a].customCheked,Q.dataMuestras[a].STATUS_RECEP="1",Q.dataMuestras[a].FECHA_RECEP=moment().format("DD-MM-YYYY HH:mm"),ge.agregarExamen(Q.dataMuestras[a]);else{if(Q.dataMuestras[a].NM_EXA_LAB.includes("(88"))throw alert("No es posible esta acci\xF3n. Ya existe un pedido generado."),"No es posible esta acci\xF3n. Ya existe un pedido generado.";if(ge.nuevoPedido)throw alert("No es posible generar un Nuevo Pedido de este ex\xE1men."),"No es posible generar un Nuevo Pedido de este ex\xE1men.";Q.dataMuestras[a].customCheked=!Q.dataMuestras[a].customCheked,lt.checkedAll=!1,Q.dataMuestras[a].STATUS_RECEP="",Q.dataMuestras[a].FECHA_RECEP="",ge.eliminarExamen(Q.dataMuestras[a])}}}),e("label.custom-control-label.tx-16[for='r_"+t.CD_EXA_LAB+"']",Q.dataMuestras[a].STATUS_RECEP.length!==0?Q.dataMuestras[a].FECHA_RECEP:Q.dataMuestras[a].STATUS_RECEP)]))])]})]),e("thead",e("tr",[e("th[colspan='2'].text-primary.text-right.bg-light.tx-semibold",{},"IMPRESI\xD3N ETIQUETAS:")]),e("tr",[e("th.text-right[colspan='2']",e("select.custom-select.wd-30p.tx-semibold",{onchange:t=>{lt.impresora=t.target.value},disabled:Object.keys(ge.logsEnvio).length!==0&&!ge.nuevoPedido?"disabled":"",value:lt.impresora},["CAJA1","CAJA2","CAJA3","CAJA4","CAJA5","CAJA6","URGENCIAS","METROLAB"].map(t=>e("option",t))))]))])),e("div.pd-10",[e("button.btn.btn-xs.btn-primary.btn-block.tx-semibold[type='button']",{disabled:lt.disabledToma,onclick:()=>{lt.validarUpdateMuestras();var t=moment().format("DD-MM-YYYY HH:mm");Q.documento.dataRecepcion.usuarioRecep="flebot1",Q.documento.dataRecepcion.fechaRecep=t,lt.disabledToma=!0,lt.udpateStatusTomaMuestra()}},ge.nuevoPedido?"Nuevo Pedido LISA":"Guardar y Enviar")])]),e(".",{class:ge.showLogs.length!==0?"":"d-none"},[e("div.table-responsive.mg-b-10.mg-t-10",e("table.table.table-dashboard.table-hover.mg-b-0",[e("thead",e("tr",[e("th[colspan='2'].text-primary.text-left",{},"Historial de Envios LISA:")]),e("tr",[e("th","EXAMENES:"),e("th","FECHA Y HORA:"),e("th.d-none","OPCIONES:")])),e("tbody",[e(ge)])]))])])])]:[e("div.pd-t-10",[e("div.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")])])]},ne={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",idTimeRecord:"",oninit:t=>{t.attrs.numeroPedido!==void 0&&t.attrs.idTimeRecord!==void 0&&(document.title="Detalle de Pedido N\xB0: "+t.attrs.numeroPedido+" | "+C.title,ne.numeroPedido=t.attrs.numeroPedido,ne.numeroAtencion=t.attrs.numeroAtencion,ne.numeroHistoriaClinica=t.attrs.numeroHistoriaClinica,ne.idTimeRecord=t.attrs.idTimeRecord,ne.fetch())},fetch:()=>{ne.data=[],ne.loader=!0,Q.fetch()},view:t=>{if(ne.data.length!==0){let a=moment(ne.data.PedidoExameLab.paciente.dataNascimento),o=moment();ne.data.PedidoExameLab.paciente.anios=o.diff(a,"years")}return ne.loader?[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(21)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),e("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N\xB0: "+ne.numeroPedido),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(21)}),e("div.content.content-components",{style:{"margin-right":"0px"}},e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),e("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N\xB0: "+ne.numeroPedido),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",{oncreate:a=>{ne.loader?a.dom.hidden=!1:a.dom.hidden=!0},onupdate:a=>{ne.loader?a.dom.hidden=!1:a.dom.hidden=!0}},[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])]),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:a=>{ne.loader?a.dom.hidden=!0:a.dom.hidden=!1},onupdate:a=>{ne.loader?a.dom.hidden=!0:a.dom.hidden=!1}},[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{window.close()}}))),ne.data.PedidoExameLab.tipoSolicitacao=="R"?[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[e("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")]:[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[e("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")],e("div.table-responsive",[e("table.table.table-bordered.table-sm.tx-12",[e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='10']","DATOS DEL PEDIDO:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 de Pedido:"),e("td",{style:{"background-color":"#eaeff5"}},ne.data.PedidoExameLab.codigoPedido),e("th",{style:{"background-color":"#a8bed6"}},"Fecha Pedido:",e("br"),e(".d-inline.tx-danger","Fecha Toma de Muestra:")),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},ne.data.PedidoExameLab.dataExame,e("br"),ne.data.PedidoExameLab.dataColetaPedido),e("th",{style:{"background-color":"#a8bed6"}},"Origen:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},ne.data.PedidoExameLab.descSetorSolicitante)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"M\xE9dico Solicitante:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},ne.data.PedidoExameLab.descPrestadorSolicitante),e("th",{style:{"background-color":"#a8bed6"}},"M\xE9dico Tratante:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},gt.medico!==null&&gt.medico!==!1?[e("div.d-inline.tx-semibold.tx-danger",gt.medico.PRESTADOR)]:ne.data.PedidoExameLab.descPrestadorSolicitante)])]),e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='10']","DATOS DEL PACIENTE:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),e("td[colspan='5']",{style:{"background-color":"#eaeff5"}},ne.data.PedidoExameLab.paciente.nome),e("th",{style:{"background-color":"#a8bed6"}},"Edad:"),e("td",{style:{"background-color":"#eaeff5"}},ne.data.PedidoExameLab.paciente.anios+" A\xF1o(s)"),e("th",{style:{"background-color":"#a8bed6"}},"NHC:"),e("td",{style:{"background-color":"#eaeff5"}},ne.data.PedidoExameLab.paciente.codigoPaciente)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 Atenci\xF3n:"),e("td",{style:{"background-color":"#eaeff5"}},ne.data.PedidoExameLab.atendimento.codigoAtendimento),e("th",{style:{"background-color":"#a8bed6"}},"Sexo:"),e("td",{style:{"background-color":"#eaeff5"}},ne.data.PedidoExameLab.paciente.sexo=="F"?"Femenino":"Masculino"),e("th",{style:{"background-color":"#a8bed6"}},"F. de Nac.:"),e("td",{style:{"background-color":"#eaeff5"}},ne.data.PedidoExameLab.paciente.dataNascimento),e("th",{style:{"background-color":"#a8bed6"}},"Dg:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},(ne.data.PedidoExameLab.diagnostico.codigoDiagnostico.length==null?"":"CIE: "+ne.data.PedidoExameLab.diagnostico.codigoDiagnostico)+(ne.data.PedidoExameLab.diagnostico.dsDiagostico.length==null?"":" - "+ne.data.PedidoExameLab.diagnostico.dsDiagostico))]),e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='10']","EX\xC1MENES:")]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Ex\xE1menes:"),e("td[colspan='9']",{style:{"background-color":"#eaeff5"}},e(gt))]),e("tr.d-print-none.bg-litecoin.op-9.tx-white.",[e("th[scope='col'][colspan='10']","EVOLUCIONES Y PRESCRIPCIONES:")]),e("tr.d-print-none",[e("td[colspan='10']",{style:{"background-color":"#eaeff5"}},e("ul.nav.nav-tabs[id='myTab'][role='tablist']",{style:{"pointer-events":gt.data!==null?"auto":"none"}},[e("li.nav-item",e("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},e("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005")),e("li.nav-item",e("a.nav-link[id='home-muestra'][data-toggle='tab'][href='#muestra'][role='tab'][aria-controls='muestra']",{style:{color:"#476ba3"}},e("i.fas.fa-edit.pd-1.mg-r-2")," TOMA DE MUESTRA ")),e("li.nav-item",e("a.nav-link[id='home-recep'][data-toggle='tab'][href='#recep'][role='tab'][aria-controls='recep']",{style:{color:"#476ba3"}},e("i.fas.fa-inbox.pd-1.mg-r-2")," RECEP. DE MUESTRA ")),e("li.nav-item",e("a.nav-link[id='home-comment'][data-toggle='tab'][href='#comment'][role='tab'][aria-controls='comment']",{style:{color:"#476ba3"}},e("i.fas.fa-inbox.pd-1.mg-r-2")," COMENTARIOS "))]))]),e("tr.d-print-none",[e("td[colspan='10']",e(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[e(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[e(Gt)]),e(".tab-pane.fade[id='muestra'][role='tabpanel'][aria-labelledby='home-muestra']",[e(Vt)]),e(".tab-pane.fade[id='recep'][role='tabpanel'][aria-labelledby='home-recep']",[e(lt)]),e(".tab-pane.fade[id='comment'][role='tabpanel'][aria-labelledby='home-comment']",[e("p.mg-5",[e("span.badge.badge-light.wd-100p.tx-14","Observaciones"),e("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(a){ta.observaciones=a.target.value},value:ta.observaciones}),e("div.mg-0.mg-t-5.text-right",[e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){ta.observaciones.length!==0?ta.sendNotiLab():alert("Observaciones es obligatorio.")}},[e("i.fas.fa-paper-plane.mg-r-5")],"Guardar")]),e("hr.wd-100p.mg-t-5.mg-b-5")]),e("p.mg-5",[e("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),e("table.table.table-sm[id='table-observaciones'][width='100%']")])])]))]),e("tr.d-print-none",[])])])])])])])])]))]}};function er(t){let a="";for(let o in t){if(a+=t[o]instanceof Array?"":"<"+o+">",t[o]instanceof Array)for(let r in t[o])a+=`
<`+o+`>
`,a+=er(new Object(t[o][r])),a+="</"+o+">";else typeof t[o]=="object"?a+=er(new Object(t[o])):a+=t[o];a+=t[o]instanceof Array?"":"</"+o+`>
`}return a=a.replace(/<\/?[0-9]{1,}>/g,""),a}const bo={loadPage:"",view:t=>(window.localStorage.removeItem("updates"),vt.num=0,[e(ii),setTimeout(function(){return e.route.set(bo.loadPage)},300)])},Kn={view:t=>[e("p.mg-0.tx-18",[e("i.fas.fa-user.mg-r-5.text-secondary"),t.attrs.NM_PACIENTE]),e("p.mg-0",[e("div.tx-15.text-secondary.mg-r-5","HC: "+t.attrs.CD_PACIENTE)]),e("p.mg-0",[e("div.tx-15.text-secondary.mg-r-5","N\xB0 Atenci\xF3n MV: "+t.attrs.CD_ATENDIMENTO)])]},Wn={notificaciones:[],pedidos:[],oninit:()=>{_.page="",de.page="",C.isAuth()},oncreate:()=>{document.title="Formularios Epidemiol\xF3gicos | "+C.title,bo.loadPage="/laboratorio/formularios",Zn()},view:()=>[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(6)}),e("div.content.content-components",e("div.container",[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},["Metrovirtual"])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},["Laboratorio"])),e("li.breadcrumb-item.active[aria-current='page']","Formularios Epidemiol\xF3gicos")]),e("h1.df-title.mg-t-20.mg-b-10","Formularios Epidemiol\xF3gicos:"),e("div.row.tx-14",[e(".col-12.mg-b-10.wd-100p[data-label='Filtrar'][id='filterTable']",e("div.row",[e("div.col-sm-12.pd-b-10",e("div.input-group",[e("input.form-control.mg-b-20.wd-100p[aautofocus=''][id='_dt_search_text'][placeholder='Buscar por NHC o Apellidos y Nombres completos del Paciente'][title='Buscar'][type='text']"),e("div.input-group-append",e("button.btn.btn-outline-light[id='button-buscar-t'][type='button']",[e("i.icon.ion-md-search")," Buscar "]),e("button.btn.btn-outline-light[id='resetTable'][type='button']",[e("i.icon.ion-md-close-circle")," Borrar "]))])),e("div.col-sm-12.pd-b-10.d-none",e("div.input-group",[e("input.form-control[id='desde'][placeholder='Desde'][title='Desde'][type='text']"),e("input.form-control[id='hasta'][placeholder='Hasta'][title='Hasta'][type='text']"),e("div.input-group-append",[e("button.btn.btn-outline-light[id='filtrar'][title='Buscar'][type='button']",[e("i.icon.ion-md-funnel")," Filtrar "])])]))])),e("div.col-12",[e("div.table-loader.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")])),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",e("table.table.table-sm[id='table-formularios'][width='100%']"),e("table.d-none[id='table-status-formularios'][width='100%']"))])])]))]};function Zn(){$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-formularios").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/formularios-epis",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"HC"},{title:"PACINTE"},{title:"FECHA:"},{title:"PACIENTE:"},{title:"OPCIONES:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(a,o,r){return r.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[3],width:"15%",orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[4],width:"50%",orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[5],width:"35%",orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){$(".table-content").show(),$(".table-loader").hide(),a.aoData.map(function(o){e.mount(o.anCells[3],{view:function(){return e("p.mg-0.tx-12",[e("i.fas.fa-calendar.mg-r-5.text-secondary"),o._aData.DT_ATENDIMENTO])}}),e.mount(o.anCells[4],{view:function(){return e(Kn,o._aData)}}),e.mount(o.anCells[5],{view:function(){return o._aData.CD_DOCUMENTO=="313"?e(".btn-group.wd-100p[role='group'][aria-label='Opciones']",[e("a.btn.btn-xs.btn-primary",{href:o._aData.URL,target:"_blank"},[e("i.fas.fa-file-alt.mg-r-5")],"Ver Ficha Epi 1")]):e(".btn-group.wd-100p[role='group'][aria-label='Opciones']",[e("a.btn.btn-xs.btn-primary",{href:o._aData.URL,target:"_blank"},[e("i.fas.fa-file-alt.mg-r-5")],"Ver Ficha Epidemiol\xF3gica")])}})})}}).on("xhr.dt",function(a,o,r,i){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(a,o,r,i){$(".table-loader").show(),$(".table-content").hide()});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#button-buscar-t").click(function(a){a.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search($("#_dt_search_text").val()).draw()}),$("#filtrar").click(function(a){a.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search("fechas-"+$("#desde").val()+"-"+$("#hasta").val()).draw()}),$("#resetTable").click(function(a){a.preventDefault(),$("#_dt_search_text").val(""),$("#desde").val(""),$("#hasta").val(""),t.search("").draw()}),t}const Qn={view:()=>[m("header",m("div..position-relative.set-bg.breadcrumb-container",{style:{"background-image":"url(&quot","background-position":"center center","background-size":"cover","background-repeat":"no-repeat"}},[m("div.overlay.op-P9"),m("div.container",m("div.row",m("div.col-md-12")))]),m("div.toolbar",m("div.container",m("div.row",[m("div.col-6.text-left",m("a.mt-2.logo.d-none.d-md-block[href='/']",m("img[src='assets/logo.metrovirtual.png'][alt='Metrovirtual'][width='200rem']")),m("a.mt-2.d-block.d-md-none[href='/']",m("img[src='assets/logo.metrovirtual.png'][alt='Metrovirtual'][width='200rem']"))),m("div.col-6.text-right",[m(m.route.Link,{href:"/mi-perfil",class:"nav-link"},[m("div.features-circle.m-bg-3.text-active.d-inline-flex.align-items-center.justify-content-center.rounded-circle",{style:{height:"50px",width:"50px"}},m("i.icofont-doctor",{style:{fontSize:"20px"}}))])])]))))]},es={view:()=>[m("div..position-relative.set-bg.breadcrumb-container",{style:{"background-image":"url(&quot","background-position":"center center","background-size":"cover","background-repeat":"no-repeat"}},[m("div.overlay.op-P9"),m("div.container",m("div.row",m("div.col-md-12",m("div.breadcrumb-inner.align-items-start.flex-column.justify-content-center.d-flex."))))]),m("div.m-bg-1.single-doctor-container.type-2.m-pb-120",m("div.container",[m("div.row",m("div.col-md-12.text-center",[m("div.doctors-image.mb-1.d-inline-block.bg-white.rounded-circle.p-2.s-10-80",m("img[src='assets/images/doctors-image5.jpg'][alt='']")),m("h3.m-mt-10.text-dark.font-weight-bold","Dr. Rojana Rossy"),m("h6.fz-18.text-uppercase.font-weight-normal","Medicina Interna"),m("div.social-icon.mt-3.circle-link.position-relative",[m("a.text-default.bg-white.rounded-circle.s-dp-1-3-15[href='#']",m("i.icofont-facebook")),m("a.text-default.bg-white.rounded-circle.s-dp-1-3-15[href='#']",m("i.icofont-twitter")),m("a.text-default.bg-white.rounded-circle.s-dp-1-3-15[href='#']",m("i.icofont-instagram"))])])),m("div.row.m-mb-60.m-mt-60.",[m("div.col-md-4",m("div.bg-white.mb-0.position-relative.has-float-icon.pt-4.pl-4.pb-4.pr-4.info-box.m-mtb-20.radius-5",[m("span.position-absolute.flaot-icon",m("i.icofont-stethoscope-alt.text-active")),m("h5.m-text-2.mb-3.text-uppercase","Mis Datos"),m("div.media.",m("div.media-body",m("p.m-0.","Mis datos personales y configuraci\xF3n de Perfil.")))])),m("div.col-md-4",m("div.bg-white.position-relative.has-float-icon.pt-4.pl-4.pb-4.pr-4.info-box.m-mtb-20.radius-5",[m("span.position-absolute.flaot-icon",m("i.icofont-stethoscope-alt")),m("h5.m-text-2.mb-3.text-uppercase","Cambio de Contrase\xF1a"),m("div.media.",m("div.media-body",m("p.m-0.","Actualizaci\xF3n de credenciales de acceso.")))]))]),m("div.row",m("div.col-md-12.text-center.m-mb-50",m("a.btn.bordered-blue.fadeInDown-slide.animated.medim-btn.btn-bordered.mt-0.text-medium.radius-pill.bg-transparent.text-active.text-uppercase.[href='#!/salir']"," Salir ")))])),m("div.button-menu-center.text-center",m("a.btn.fadeInDown-slide.position-relative.animated.pl-4.pr-4.lsp-0.no-border.bg-transparent.medim-btn.grad-bg--3.solid-btn.mt-0.text-medium.radius-pill.text-active.text-white.s-dp-1-2[href='/']",[m("i.icofont-home")," Inicio "]))]},ts={oninit:()=>{if(!W.isLogin())return m.route.set("/auth")},oncreate:()=>{document.title="Mi Perfil | "+C.title},view:()=>[m(Qn),m(es)]},as={view:()=>[m("div.content.content-fixed.content-auth-alt",m("div.container.ht-100p.tx-center",m("div.ht-100p.d-flex.flex-column.align-items-center.justify-content-center",[m("div.wd-70p.wd-sm-250.wd-lg-300.mg-b-15",m("img.img-fluid[src='assets/dashforge/img/img19.png'][alt='']")),m("h1.tx-color-01.tx-24.tx-sm-32.tx-lg-36.mg-xl-b-5","404 P\xE1gina no encontrada"),m("h5.tx-16.tx-sm-18.tx-lg-20.tx-normal.mg-b-20","Oopps. La p\xE1gina que estabas buscando no existe."),m("p.tx-color-03.mg-b-30","Es posible que haya escrito mal la direcci\xF3n o que la p\xE1gina se haya movido. Regresa al inicio."),m("div.d-flex.mg-b-40",[m("a.button.btn.btn-brand-02.bd-0.mg-l-5.pd-sm-x-25[href='/']","Ir al Inicio")]),m("span.tx-12.tx-color-03",[C.title,m("a[href='https://www.hospitalmetropolitano.org']"," Hospital Metropolitano")])])))]},Mo={view:()=>{let t=Qe.getDataUser();if(t!==null&&t.length!==0)return[e("li.bg-primary.wd-100p.nav-item.d-none",e(e.route.Link,{href:"/inicio",class:"nav-link"},[e("i[data-feather='layout']")," Inicio "]))]}},os={view:t=>(t.children[0].modulo!==void 0&&t.children[0].modulo=="farmacia"?(t.children[0].modulo="Farmacia",t.children[0].icon="fas fa-pills",t.children[0].href="farmacia"):t.children[0].modulo!==void 0&&t.children[0].modulo=="laboratorio"?(t.children[0].modulo="Laboratorio",t.children[0].icon="fas fa-microscope",t.children[0].href="laboratorio"):t.children[0].modulo!==void 0&&t.children[0].modulo=="imagen"?(t.children[0].modulo="Imagen",t.children[0].icon="fas fa-file-prescription",t.children[0].href="imagen"):t.children[0].modulo!==void 0&&t.children[0].modulo=="emergencia"?(t.children[0].modulo="Emergencia",t.children[0].icon="fas fa-first-aid",t.children[0].href="emergencia"):t.children[0].modulo!==void 0&&t.children[0].modulo=="bco-sangre"?(t.children[0].icon="fas fa-burn",t.children[0].modulo="Bco. de Sangre",t.children[0].href="bco-sangre"):t.children[0].modulo!==void 0&&t.children[0].modulo=="terapia-respiratoria"?(t.children[0].icon="fas fa-user-md",t.children[0].modulo="Terapia Respiratoria",t.children[0].href="terapia-respiratoria"):t.children[0].modulo!==void 0&&t.children[0].modulo=="neurofisiologia"?(t.children[0].icon="fas fa-user-md",t.children[0].modulo="Neurofisiolog\xEDa",t.children[0].href="neurofisiologia"):t.children[0].modulo!==void 0&&t.children[0].modulo=="hospitalizacion"?(t.children[0].icon="fas fa-procedures",t.children[0].modulo="Hospitalizacion",t.children[0].href="hospitalizacion"):t.children[0].modulo!==void 0&&t.children[0].modulo=="admisiones"?(t.children[0].icon="fas fa-folder-open",t.children[0].modulo="Adimisones",t.children[0].href="admisiones"):t.children[0].modulo!==void 0&&t.children[0].modulo=="mantenimiento"?(t.children[0].icon="fas fa-h-square ",t.children[0].modulo="Mantenimento",t.children[0].href="mantenimiento"):t.children[0].modulo!==void 0&&t.children[0].modulo=="endoscopia"?(t.children[0].icon="fas fa-compact-disc",t.children[0].modulo="Endoscop\xECa",t.children[0].href="endoscopia"):t.children[0].modulo!==void 0&&t.children[0].modulo=="patologia"?(t.children[0].icon="fas fa-microscope",t.children[0].modulo="Patolog\xEDa",t.children[0].href="patologia"):t.children[0].modulo!==void 0&&t.children[0].modulo=="contabilidad"?(t.children[0].icon="fas fa-book",t.children[0].modulo="Contabilidad",t.children[0].href="contabilidad"):(t.children[0].icon="fas fa-hospital",t.children[0].href=t.children[0].modulo.charAt(0).toUpperCase(),t.children[0].modulo=t.children[0].modulo.charAt(0).toUpperCase()+t.children[0].modulo.slice(1)),[e("li",{class:"list-item bg-white wd-50p",style:{cursor:"pointer"},onclick:()=>{e.route.set(t.children[0].href,{})}},[e("div",{class:"media"},[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},e("i",{class:t.children[0].icon+" tx-30 tx-white"})),e("div",{class:"media-body mg-l-15"},[e("p",{class:"tx-18 mg-b-0"},t.children[0].modulo),e("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a "+t.children[0].modulo)])])])])},rs={isContent:!1,view:()=>{Mo.isContent=!1;let t=Qe.getDataUser();if(t!==null&&t.length!==0)return[Object.keys(t.modulesAccess).map(function(a,o,r){if(t.modulesAccess[a].length!==0)return Mo.isContent=!0,e(os,t.modulesAccess[a]);if(Object.keys(t.modulesAccess).length==o+1&&!Mo.isContent)return[e("p.df-lead.pd-15","Todav\xEDa no tienes acceso a ning\xFAn M\xF3dulo disponible. Comun\xEDcate a CONCAS Ext: 2020 y solicita activaci\xF3n. Att: Metrovirtual Plus.")]})]}},is={oninit:()=>{_.page="",C.isAuth()},oncreate:()=>{document.title="Inicio | "+C.title,ns()},view:()=>[e("header.navbar.navbar-header.navbar-header-fixed",[e("div.navbar-brand",e(e.route.Link,{href:"/",class:"df-logo"},["Metro",e("span","Plus+")])),e(".navbar-menu-wrapper[id='navbarMenu']",[e("div.navbar-menu-header",[e(e.route.Link,{href:"/",class:"df-logo"},["Metro",e("span","Plus+")]),e("a[id='mainMenuClose'][href='']",e("i[data-feather='x']"))]),e("ul.nav.navbar-menu",[e("li.nav-label.pd-l-20.pd-lg-l-25.d-lg-none","Menu"),e(Mo)])]),e(di)]),e("div.content.content-components",{},e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},["MetroPlus"])),e("li.breadcrumb-item.active[aria-current='page']","Inicio")]),e("h1.df-title.mg-t-20.mg-b-10","Inicio:"),e("div.row.tx-14",[e(rs)])]))]};function ns(){feather.replace(),window.matchMedia("(max-width: 991px)").matches&&new PerfectScrollbar("#navbarMenu",{suppressScrollX:!0});function t(){window.matchMedia("(max-width: 991px)").matches?$("#navbarMenu .active").addClass("show"):$("#navbarMenu .active").removeClass("show")}if(t(),$(window).resize(function(){t()}),$("body").append('<div class="backdrop"></div>'),$(".navbar-menu .with-sub .nav-link").on("click",function(a){a.preventDefault(),$(this).parent().toggleClass("show"),$(this).parent().siblings().removeClass("show"),window.matchMedia("(max-width: 991px)").matches&&psNavbar.update()}),$(document).on("click touchstart",function(a){if(a.stopPropagation(),window.matchMedia("(min-width: 992px)").matches){var o=$(a.target).closest(".navbar-menu .nav-item").length;o||$(".navbar-header .show").removeClass("show")}}),$("#mainMenuClose").on("click",function(a){a.preventDefault(),$("body").removeClass("navbar-nav-show")}),$("#sidebarMenuOpen").on("click",function(a){a.preventDefault(),$("body").addClass("sidebar-show")}),$("#navbarSearch").on("click",function(a){a.preventDefault(),$(".navbar-search").addClass("visible"),$(".backdrop").addClass("show")}),$("#navbarSearchClose").on("click",function(a){a.preventDefault(),$(".navbar-search").removeClass("visible"),$(".backdrop").removeClass("show")}),$("#sidebarMenu").length){const a=new PerfectScrollbar("#sidebarMenu",{suppressScrollX:!0});$(".sidebar-nav .with-sub").on("click",function(o){o.preventDefault(),$(this).parent().toggleClass("show"),a.update()})}$("#mainMenuOpen").on("click touchstart",function(a){a.preventDefault(),$("body").addClass("navbar-nav-show")}),$("#sidebarMenuClose").on("click",function(a){a.preventDefault(),$("body").removeClass("sidebar-show")}),$(document).on("click touchstart",function(a){if(a.stopPropagation(),!$(a.target).closest(".burger-menu").length){var o=$(a.target).closest(".sidebar").length,r=$(a.target).closest(".navbar-menu-wrapper").length;!o&&!r&&($("body").hasClass("navbar-nav-show")?$("body").removeClass("navbar-nav-show"):$("body").removeClass("sidebar-show"))}})}const ss={view:()=>{let t=Qe.getDataUser();if(t.length!==0)return[t.modulesAccess.emergencia.map(function(a,o,r){return[m(m.route.Link,{href:"/"+a.href,class:Jt.page==a.idModulo?"active":""},[a.label])]})]}},Jt={page:"",setPage:t=>{Jt.page=t},view:()=>[m(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[m("div.sidebar-header",[m("a[href=''][id='mainMenuOpen']",m("i[data-feather='menu']")),m("h5","Menu"),m("a[href=''][id='sidebarMenuClose']",m("i[data-feather='x']"))]),m("div.sidebar-body",m("ul.sidebar-nav",[m("li.nav-label.mg-b-15","Emergencia"),m("li.nav-item.show",[m(m.route.Link,{href:"/emergencia",class:"nav-link with-sub"},[m("i[data-feather='layout']"),"Emergencia"]),m("nav.nav",[m(ss)])])]))])]},ds={view:()=>[m("div.content.content-components",m("div.container",[m("ol.breadcrumb.df-breadcrumbs.mg-b-10",[m("li.breadcrumb-item",m(m.route.Link,{href:"/"},["Metrovirtual"])),m("li.breadcrumb-item.active[aria-current='page']","Emergencia")]),m("h1.df-title.mg-t-20.mg-b-10","Emergencia:"),m("div.row.tx-14",[m("div.col-sm-6.mg-b-20",m("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[m("div.mg-b-25",m("i.wd-50.ht-50.tx-gray-500[data-feather='edit-3']")),m("h5.tx-inverse.mg-b-20","Pedidos de Laboratorio Auxiliar"),m(m.route.Link,{href:"/emergencia/auxiliar/pedidos/laboratorio",class:"tx-medium"},["Ir a Pedidos de Laboratorio - Auxiliar",m("i.icon.ion-md-arrow-forward.mg-l-5")])])),m("div.col-sm-6..mg-b-20",m("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[m("div.mg-b-25",m("i.wd-50.ht-50.tx-gray-500[data-feather='edit-3']")),m("h5.tx-inverse.mg-b-20","Pedidos de Laboratorio Enfermer\xEDa"),m(m.route.Link,{href:"/emergencia/enfermeria/pedidos/laboratorio",class:"tx-medium"},["Ir a Pedidos de Laboratorio - Enfermer\xEDa",m("i.icon.ion-md-arrow-forward.mg-l-5")])]))])]))]},ls={oninit:()=>{_.page="",Jt.page="",C.isAuth()},oncreate:()=>{document.title="Emergencia | "+C.title},view:()=>[m(_,{oncreate:_.setPage("emergencia")}),m(Jt),m(ds)]},cs={view:t=>[e("p.mg-0.tx-18",[e("i.fas.fa-user.mg-r-5.text-secondary"),t.attrs.PTE_MV]),e("p.mg-0",[e("div.tx-15.text-secondary.mg-r-5","HC: "+t.attrs.HC_MV)]),e("p.mg-0",[e("div.tx-15.text-secondary.mg-r-5","N\xB0 Pedido MV: "+t.attrs.NUM_PEDIDO_MV)])]},us={notificaciones:[],pedidos:[],oninit:()=>{_.page="",Jt.page="",C.isAuth("emergencia",2)},oncreate:()=>{document.title="Pedidos de Laboratorio | "+C.title,bo.loadPage="/emergencia/pedidos",ms(),ps()},view:()=>[e(_,{oncreate:_.setPage("emergencia")}),e(Jt,{oncreate:Jt.setPage(2)}),e("div.content.content-components",e("div.container",[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e("a[href='#']","Metrovirtual")),e("li.breadcrumb-item",e("a",{href:"#!/emergencia"},"Emergencia")),e("li.breadcrumb-item.active[aria-current='page']","Pedidos de Laboratorio - Auxiliar")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos de Laboratorio - Auxiliar:"),e("div.row.tx-14",[e(".col-12.mg-b-10.wd-100p[data-label='Filtrar'][id='filterTable']",e("div.row",[e("div.col-sm-12.pd-b-10",e("div.input-group",[e("input.form-control.mg-b-20.wd-100p[aautofocus=''][id='_dt_search_text'][placeholder='Buscar por NHC o Nombres y Apellidos completos del Paciente'][title='Buscar'][type='text']"),e("div.input-group-append",e("button.btn.btn-outline-light[id='button-buscar-t'][type='button']",[e("i.icon.ion-md-search")," Buscar "]),e("button.btn.btn-outline-light[id='resetTable'][type='button']",[e("i.icon.ion-md-close-circle")," Borrar "]))])),e("div.col-sm-12.pd-b-10.d-none",e("div.input-group",[e("input.form-control[id='desde'][placeholder='Desde'][title='Desde'][type='text']"),e("input.form-control[id='hasta'][placeholder='Hasta'][title='Hasta'][type='text']"),e("div.input-group-append",[e("button.btn.btn-outline-light[id='filtrar'][title='Buscar'][type='button']",[e("i.icon.ion-md-funnel")," Filtrar "])])]))])),e("div.col-12",[e("div.table-loader.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")])),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",e("table.table.table-sm[id='table-pedidos'][width='100%']"),e("table.table.table-sm.d-none[id='table-state-pedidos'][width='100%']"))])])])),e("div.section-nav",[e("label.nav-label","Notificaciones"),e("nav.nav.flex-column[id='navSection']",[e("table.table.table-sm[id='table-notificaciones'][width='100%']")]),e("label.nav-label.mg-t-20.tx-center.d-none",[e("a",{href:"#!/notificaciones-lab"},"Ver Todo")])])]};function ms(){$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/emergencia-pedidos-laboratorio",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"HC"},{title:"PACINTE"},{title:"FECHA Y HORA:"},{title:"PACIENTE:"},{title:"OPCIONES:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(a,o,r){return r.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[3],width:"20%",orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[4],width:"60%",orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){$(".table-content").show(),$(".table-loader").hide(),a.aoData.map(function(o){e.mount(o.anCells[3],{view:function(){return e("p.mg-0.tx-12",[e("i.fas.fa-calendar.mg-r-5.text-secondary"),o._aData.FECHA_PEDIDO+" "+o._aData.HORA_PEDIDO])}}),e.mount(o.anCells[4],{view:function(){return e(cs,o._aData)}}),e.mount(o.anCells[5],{view:function(){return e(".btn-group.wd-100p[role='group'][aria-label='Opciones']",[e(e.route.Link,{href:"/emergencia/auxiliar/pedido/"+o._aData.NUM_PEDIDO_MV,target:"_blank",class:"btn btn-xs btn-primary"},[e("i.fas.fa-file-alt.mg-r-5")],"Ver Pedido")])}})})}}).on("xhr.dt",function(a,o,r,i){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(a,o,r,i){$(".table-loader").show(),$(".table-content").hide()});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#button-buscar-t").click(function(a){a.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search($("#_dt_search_text").val()).draw()}),$("#filtrar").click(function(a){a.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search("fechas-"+$("#desde").val()+"-"+$("#hasta").val()).draw()}),$("#resetTable").click(function(a){a.preventDefault(),$("#_dt_search_text").val(""),$("#desde").val(""),$("#hasta").val(""),t.search("").draw()}),t}function ps(){moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-notificaciones").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedidos",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"No existe notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return""},visible:!0,aTargets:[0],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){a.aoData.map(function(o){e.mount(o.anCells[0],{view:function(){return e("div.demo-static-toast",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{onclick:()=>{e.route.set("/emergencia/auxiliar/pedido/"+o._aData.idPedido)}},[e("div.toast-header.bg-danger",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",o._aData.title),e("small.tx-white",moment.unix(o._aData.timestamp).format("HH:mm"))]),e("div.toast-body.small",o._aData.message.substring(0,10)+"...")]))}})})}});return t}const na={data:!1,fetch:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedido/"+Pt.idPedido}).then(function(t){na.data=t.data,fs()}).catch(function(t){})},view:()=>{if(!na.data)return e("p.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")]);if(na.data.length==0)return e("p","Sin Notificaciones");if(na.data.length!==0)return na.data.map(function(t,a,o){if(a<4)return t.title=="Nuevo Mensaje"?e("div.demo-static-toast.mg-b-5",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",[e("div.toast-header.bg-primary",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",t.title),e("small.tx-white",moment.unix(t.timestamp).format("HH:mm"))]),e("div.toast-body.small",t.message)])):e("div.demo-static-toast.mg-b-5",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",[e("div.toast-header.bg-danger",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",t.title),e("small.tx-white",moment.unix(t.timestamp).format("HH:mm"))]),e("div.toast-body.small",t.message)]))})}},La={messagePedido:null,oncreate:()=>{na.fetch()},sendMessage:()=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/message-pedido/"+Pt.idPedido,body:{dataPedido:$e.data,message:La.messagePedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(La.messagePedido="",na.fetch(),alert("Mensaje enviado con \xE9xito."),li())}).catch(function(t){Ne.error=t.message})},view:()=>e("table.table.table-sm[id='table-notificaciones'][width='100%']")},$e={data:[],detalle:[],error:"",numPedido:0,fetch:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/ver-pedido-eme-lab/"+Pt.idPedido}).then(function(t){$e.data=t.data,t.data.DESCRIPCION.map(function(a,o,r){$e.detalle.push(a),Ne.detalle.push(a),a.indexOf("-R-")!==-1&&($e.numPedido=$e.numPedido+1)})}).catch(function(t){$e.error=t.message})},view:()=>{if(Ne.detalle.length!==0)return $e.detalle.map(function(t,a,o){return Ne.detalle[a].indexOf("...")!==-1?e("p.mg-0",$e.detalle[a]+" "+Ne.detalle[a].split("...")[1]):e("p.mg-0",$e.detalle[a])})}},Ne={detalle:[],error:"",observaciones:"",checkedAll:!1,numPedido:0,view:()=>[e("div.custom-control.custom-checkbox",[e("input.custom-control-input[type='checkbox'][id='selectTodos']",{checked:Ne.checkedAll,onclick:function(t){Ne.seleccionarTodos(this.checked)}}),e("label.custom-control-label.tx-semibold[for='selectTodos']","SELECCIONAR TODOS")]),Ne.detalle.map(function(t,a,o){return t.indexOf("...")!==-1?e("div.custom-control.custom-checkbox",[e("input.custom-control-input[type='checkbox'][id='"+Pt.idPedido+"-"+a+"']",{checked:!0,onclick:function(r){this.checked||(Ne.detalle[a]=$e.detalle[a],xe.statusPedido=3,xe.classPedido="tx-warning",xe.descPedido="Muestras Pendientes",Ne.checkedAll=!1),Ne.updateDataPedido()},onupdate:r=>{Ne.detalle[a].indexOf("...")!==-1?$e.detalle[a]+Ne.detalle[a].split("...")[1]:$e.detalle[a]}}),e("label.custom-control-label[for='"+Pt.idPedido+"-"+a+"']",Ne.detalle[a].indexOf("...")!==-1?$e.detalle[a]+Ne.detalle[a].split("...")[1]:$e.detalle[a])]):e("div.custom-control.custom-checkbox",[e("input.custom-control-input[type='checkbox'][id='"+Pt.idPedido+"-"+a+"']",{onclick:function(r){this.checked&&(Ne.detalle[a]=$e.detalle[a]+" ... - Muestra Recibida: "+moment().format("DD-MM-YYYY HH:mm")),Ne.updateDataPedido()},onupdate:r=>{Ne.detalle[a].indexOf("...")!==-1?$e.detalle[a]+Ne.detalle[a].split("...")[1]:$e.detalle[a]}}),e("label.custom-control-label[for='"+Pt.idPedido+"-"+a+"']",Ne.detalle[a].indexOf("...")!==-1?$e.detalle[a]+Ne.detalle[a].split("...")[1]:$e.detalle[a])])})],oninit:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-eme-lab/"+Pt.idPedido,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(Ne.detalle=t.data,na.fetch())}).catch(function(t){Ne.error=t.message})},updateDataPedido:()=>{Ne.validarStatus(),e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-pedido-lab/"+Pt.idPedido,body:{dataPedido:Ne.detalle,statusPedido:xe.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(Ne.detalle=t.data,Ne.validarStatus())}).catch(function(t){Ne.error=t.message})},sendNotiLab:()=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/noti-eme/"+Pt.idPedido,body:{dataPedido:$e.data,message:Ne.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(Ne.observaciones="",na.fetch(),alert("Mensaje enviado con \xE9xito."),li())}).catch(function(t){Ne.error=t.message})},validarStatus:()=>{Ne.detalle.map(function(t,a,o){t.indexOf("...")})},seleccionarTodos:t=>Ne.detalle.map(function(a,o,r){t?(Ne.detalle[o]=$e.detalle[o]+" ... - Muestra Recibida: "+moment().format("DD-MM-YYYY HH:mm"),document.getElementById(Pt.idPedido+"-"+o).checked=!0):(Ne.detalle[o]=$e.detalle[o],document.getElementById(Pt.idPedido+"-"+o).checked=!1),Ne.detalle.length===o+1&&Ne.updateDataPedido()})},xe={ver:!0,nuevoMensaje:!1,editar:!1,entregar:!1,enviar:!1,labelOperation:"Detalle:",statusPedido:1,descPedido:"...",classPedido:"tx-gray-500",oninit:()=>{$e.fetch()},view:()=>$e.error?[e(".alert.alert-danger[role='alert']",$e.error)]:$e.detalle.length!==0?[e("p.mg-5.tx-20",[e("i.fas.fa-user.mg-r-5.text-secondary"),$e.data.NOMBRE_PACIENTE]),e("p.mg-5.tx-15",["Fecha Pedido: "+$e.data.FECHA_PEDIDO,xe.statusPedido===2?[e("span.tx-indigo.tx-semibold"," Usuario: "+W.user.user)]:""]),e("p.mg-5",[e("span.badge.badge-primary.mg-r-5.tx-14","HC: "+$e.data.HC)]),e("p.mg-5","Opciones Disponibles:"),e("hr.wd-100p.mg-t-0.mg-b-5"),e("p.mg-5.text-right",[e("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){xe.ver=!0,xe.editar=!1,xe.entregar=!1,xe.enviar=!1,xe.nuevoMensaje=!1,xe.labelOperation="Detalle:"}},[e("i.fas.fa-file-alt.mg-r-5")],"Ver Detalle"),e("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){xe.ver=!1,xe.editar=!1,xe.entregar=!0,xe.enviar=!1,xe.nuevoMensaje=!1,xe.labelOperation="Entregar Muestras:",ue.status="Entregada"}},[e("i.fas.fa-user-edit.mg-r-5")],"Entregar Muestras"),e("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){xe.ver=!1,xe.editar=!1,xe.entregar=!1,xe.enviar=!1,xe.nuevoMensaje=!0,xe.labelOperation="Nuevo Mensaje:"}},[e("i.fas.fa-paper-plane.mg-r-5")],"Enviar Mensaje")]),e("p.mg-5",[e("span.badge.badge-light.wd-100p.tx-14",xe.labelOperation)]),e("p.mg-5."+(xe.ver||xe.nuevoMensaje?"":"d-none"),[e($e)]),e("p.mg-5.d-none",[e(Ne)]),e("hr.wd-100p.mg-t-0.mg-b-5"),e("p.mg-5."+(xe.entregar||xe.enviar?"":"d-none"),[e(ue)]),e("p.mg-5."+(xe.ver?"":"d-none"),[e("span.badge.badge-light.wd-100p.tx-14","Historial de Mensajes"),e(La)]),e("p.mg-5."+(xe.nuevoMensaje?"":"d-none"),[e("span.badge.badge-light.wd-100p.tx-14","Nuevo Mensaje:"),e("textarea.form-control.mg-t-5[rows='5'][placeholder='Nuevo Mensaje']",{oninput:function(t){La.messagePedido=t.target.value},value:La.messagePedido}),e("div.mg-0.mg-t-5.text-right",[e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){La.messagePedido.length!==0?La.sendMessage():alert("Nuevo Mnesaje es obligatorio.")}},[e("i.fas.fa-paper-plane.mg-r-5")],"Enviar")])]),e("hr.wd-100p.mg-t-0.mg-b-5")]:e("div.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")])},Pt={idPedido:null,oninit:t=>{C.isAuth(),_.page="",Jt.page="",Pt.idPedido=t.attrs.idPedido,$e.data=[],$e.detalle=[],Ne.detalle=[]},oncreate:()=>{document.title="Detalle Pedido N\xB0: "+Pt.idPedido+" | "+C.title},view:()=>[e(_,{oncreate:_.setPage("emergencia")}),e(Jt),e("div.content.content-components",e("div.container",[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},["Metrovirtual"])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},["Laboratorio"])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio/pedidos"},["Pedidos de Laboratorio"])),e("li.breadcrumb-item.active[aria-current='page']","Detalle")]),e("h1.df-title","Detalle de Pedido N\xB0: "+Pt.idPedido),e("div.row.tx-14",[e("div.col-12",e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("div.mg-b-25",e("i.tx-60.fas.fa-file."+xe.classPedido)),e("h5.tx-inverse.mg-b-20","Detalle de Pedido N\xB0: "+Pt.idPedido+" - Status: "+xe.descPedido),e(xe)]))])])),e("div.section-nav",[e("label.nav-label","Notificaciones"),e("nav.nav.flex-column[id='navSection']",[e(na)])])]},ra={numero:0,items:[],oninit:t=>{var a=t.attrs._id;console.log("idc",a),ra.items[a]={numero:0}},view:t=>{var a=t.attrs._id;return[e("div.card.text-right",e("div.card-body",[e("h5.card-title",ra.items[a].numero),e("button.btn.btn-xs.btn-outline-light.tx-semibold.mg-b-5[type='button']",{onclick:()=>{ra.items[a].numero=ra.items[a].numero+1}},"+"),e("button.btn.btn-xs.btn-outline-light.tx-semibold.mg-b-5[type='button']",{onclick:()=>{ra.items[a].numero=ra.items[a].numero-1}},"-")]))]}},ue={user:"",status:"",detalle:[],error:"",observaciones:"",checkedAll:!1,muestras:{1:"Orina",2:"Heces",3:"Tubo Rojo",4:"Tubo Lila",5:"Tubo Celeste",6:"Tubo Verde",7:"Tubo Negro",8:"LCR",9:"Esputo",10:"Jeringuilla",11:"Gasometria",12:"Secreciones",13:"Culturetes",14:"Frascos de Cultivo",15:"Isopado",16:"Estrep Test",17:"AmniSure",18:"Tubo Liquidos"},oninit:()=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/send-pedido-eme-lab/"+Pt.idPedido,body:{dataPedido:ue.muestras,statusPedido:xe.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(xe.statusPedido=t.statusPedido,ue.detalle=t.data,ue.validarStatus())}).catch(function(t){ue.error=t.message})},view:()=>{if(ue.detalle.length!==0)return[e("div.custom-control.custom-checkbox.tx-18",[e("input.custom-control-input[type='checkbox'][id='selectTodosMuestra']",{checked:ue.checkedAll,onclick:function(t){ue.seleccionarTodos(this.checked)}}),e("label.custom-control-label.tx-semibold[for='selectTodosMuestra']","SELECCIONAR TODOS")]),e("hr.wd-100p.mg-t-0.mg-b-5"),Object.keys(ue.detalle).map(function(t){var a=ue.muestras[t].toLowerCase().replaceAll(" ","_");return ue.detalle[t].indexOf("...")!==-1?(ra.items[a]!==void 0&&(ra.items[a].numero=parseFloat(ue.detalle[t].split("...")[2])),[e(ra,{_id:a}),e("div.pd-25.custom-control.custom-checkbox.tx-18",[e("input.custom-control-input[type='checkbox'][id='"+ue.detalle[t].toLowerCase().replaceAll(" ","_")+"']",{checked:!0,onclick:function(o){this.checked||(xe.statusPedido=1,ue.checkedAll=!1,ue.detalle[t]=ue.muestras[t],ra.items[ue.muestras[t].toLowerCase().replaceAll(" ","_")].numero=0),ue.updateDataMuestras()},onupdate:o=>{ue.detalle[t].indexOf("...")!==-1?ue.muestras[t]+ue.detalle[t].split("...")[1]:ue.muestras[t]}}),e("label.custom-control-label[for='"+ue.detalle[t].toLowerCase().replaceAll(" ","_")+"']",ue.detalle[t].indexOf("...")!==-1?ue.muestras[t]+ue.detalle[t].split("...")[1]:ue.detalle[t])]),e("hr.wd-100p.mg-t-0.mg-b-5")]):[e(ra,{_id:a}),e("div.pd-25.custom-control.custom-checkbox.tx-18",[e("input.custom-control-input[type='checkbox'][id='"+ue.detalle[t].toLowerCase().replaceAll(" ","_")+"']",{onclick:function(o){this.checked&&(xe.statusPedido=2,ue.detalle[t]=ue.muestras[t]+" ... - "+ue.status+": "+moment().format("DD-MM-YYYY HH:mm")+" ... "+ra.items[a].numero),ue.updateDataMuestras()},onupdate:o=>{ue.detalle[t].indexOf("...")!==-1?ue.muestras[t]+ue.detalle[t].split("...")[1]:ue.muestras[t]}}),e("label.custom-control-label[for='"+ue.detalle[t].toLowerCase().replaceAll(" ","_")+"']",ue.detalle[t])]),e("hr.wd-100p.mg-t-0.mg-b-5")]})]},seleccionarTodos:t=>(t?(xe.statusPedido=2,ue.checkedAll=!0):(xe.statusPedido=1,ue.checkedAll=!1),[Object.keys(ue.detalle).map(function(a){let o=ue.detalle[a].toLowerCase().replaceAll(" ","_");t?(ue.detalle[a]=ue.muestras[a]+" ... - "+ue.status+": "+moment().format("DD-MM-YYYY HH:mm"),document.getElementById(o).checked=!0):(ue.detalle[a]=ue.muestras[a],document.getElementById(o).checked=!1)}),ue.updateDataMuestras()]),validarStatus:()=>{xe.statusPedido==1&&(xe.classPedido="tx-gray-500",xe.descPedido="Pendiente"),xe.statusPedido==2&&(xe.classPedido="tx-primary",xe.descPedido="Gestionado");let t=0;Object.keys(ue.detalle).map(function(a){ue.detalle[a].indexOf("...")===-1?(t=t+1,Object.keys(ue.detalle).length===t&&t===Object.keys(ue.detalle).length&&(xe.statusPedido==1,xe.classPedido="tx-gray-500",xe.descPedido="Pendiente")):(xe.statusPedido=2,xe.classPedido="tx-primary",xe.descPedido="Gestionado")})},updateDataMuestras:()=>[ue.validarStatus(),e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-pedido-eme-lab/"+Pt.idPedido,body:{dataPedido:ue.detalle,statusPedido:xe.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(ue.detalle=t.data,ue.validarStatus())}).catch(function(t){ue.error=t.message})]};function fs(){moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-notificaciones").DataTable({data:na.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){a.aoData.map(function(o,r){e.mount(o.anCells[0],{view:function(){return o._aData.title=="Nuevo Mensaje"?e("div.demo-static-toast",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[e("div.toast-header.bg-primary",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",o._aData.title),e("small.tx-white",moment.unix(o._aData.timestamp).format("HH:mm"))]),e("div.toast-body.small",o._aData.message)])):e("div.demo-static-toast",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[e("div.toast-header.bg-danger",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",o._aData.title),e("small.tx-white",moment.unix(o._aData.timestamp).format("HH:mm"))]),e("div.toast-body.small",o._aData.message)]))}})})}});return t}function li(){var t=$("#table-notificaciones").DataTable();t.clear(),t.rows.add(na.data).draw()}const It={data:{pedidos:[],notificaciones:[]},fetchPedidos:()=>{e.request({method:"GET",url:" https://api.hospitalmetropolitano.org/t/v1/emergencia-pedidos-laboratorio?start=0&length=10"}).then(function(t){It.data.pedidos=t.data,It.fetchNotificaciones()}).catch(function(t){})},fetchNotificaciones:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedidos?start=0&length=6"}).then(function(t){It.data.notificaciones=t.data,localStorage.updates==null&&Qe.setData(It.data),It.notificar()}).catch(function(t){})},fetch:()=>{It.fetchPedidos()},notificar:()=>{let t=Qe.getData();for(var a=0;a<It.data.notificaciones.length;a++){for(var o=!1,r=0;r<t.notificaciones.length&!o;r++)It.data.notificaciones[a].id==t.notificaciones[r].id&&(o=!0);o||ys(It.data.notificaciones[a])}for(var a=0;a<It.data.pedidos.length;a++){for(var o=!1,r=0;r<t.pedidos.length&!o;r++)It.data.pedidos[a].NUM_PEDIDO_MV==t.pedidos[r].NUM_PEDIDO_MV&&(o=!0);o||ws(It.data.pedidos[a])}Qe.setData(It.data),setTimeout(function(){console.log("updates",It.data),It.fetch()},5e3)}},bs={view:t=>[e("p.mg-0.tx-18",[e("i.fas.fa-user.mg-r-5.text-secondary"),t.attrs.PTE_MV]),e("p.mg-0",[e("div.tx-15.text-secondary.mg-r-5","HC: "+t.attrs.HC_MV)]),e("p.mg-0",[e("div.tx-15.text-secondary.mg-r-5","N\xB0 Pedido MV: "+t.attrs.NUM_PEDIDO_MV)])]},hs={notificaciones:[],pedidos:[],oninit:()=>{_.page="",Jt.page="",C.isAuth("emergencia",4)},oncreate:()=>{document.title="Pedidos de Laboratorio | "+C.title,bo.loadPage="/emergencia/pedidos",It.fetch(),_s(),vs(),xs(),gs()},view:()=>[e(_,{oncreate:_.setPage("emergencia")}),e(Jt,{oncreate:Jt.setPage(4)}),e("div.content.content-components",e("div.container",[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},["Metrovirtual"])),e("li.breadcrumb-item",e(e.route.Link,{href:"/emergencia"},["Emergencia"])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos de Laboratorio - Enfermer\xEDa")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos de Laboratorio - Enfermer\xEDa:"),e("div.row.tx-14",[e(".col-12.mg-b-10.wd-100p[data-label='Filtrar'][id='filterTable']",e("div.row",[e("div.col-sm-12.pd-b-10",e("div.input-group",[e("input.form-control.mg-b-20.wd-100p[aautofocus=''][id='_dt_search_text'][placeholder='Buscar por NHC o Nombres y Apellidos completos del Paciente'][title='Buscar'][type='text']"),e("div.input-group-append",e("button.btn.btn-outline-light[id='button-buscar-t'][type='button']",[e("i.icon.ion-md-search")," Buscar "]),e("button.btn.btn-outline-light[id='resetTable'][type='button']",[e("i.icon.ion-md-close-circle")," Borrar "]))])),e("div.col-sm-12.pd-b-10.d-none",e("div.input-group",[e("input.form-control[id='desde'][placeholder='Desde'][title='Desde'][type='text']"),e("input.form-control[id='hasta'][placeholder='Hasta'][title='Hasta'][type='text']"),e("div.input-group-append",[e("button.btn.btn-outline-light[id='filtrar'][title='Buscar'][type='button']",[e("i.icon.ion-md-funnel")," Filtrar "])])]))])),e("div.col-12",[e("div.table-loader.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")])),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",e("table.table.table-sm[id='table-pedidos'][width='100%']"),e("table.table.table-sm.d-none[id='table-state-pedidos'][width='100%']"))])])])),e("div.section-nav",[e("label.nav-label","Notificaciones"),e("nav.nav.flex-column[id='navSection']",[e("table.table.table-sm[id='table-notificaciones'][width='100%']")]),e("label.nav-label.mg-t-20.tx-center.d-none",[e(e.route.Link,{href:"/notificaciones-lab"},["Ver Todo"])])])]};function gs(){var t;window.onload=o,window.onmousemove=o,window.onmousedown=o,window.ontouchstart=o,window.ontouchmove=o,window.onclick=o,window.onkeydown=o,window.addEventListener("scroll",o,!0);function a(){window.location.reload()}function o(){clearTimeout(t),t=setTimeout(a,3e5)}}function vs(){$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/emergencia-pedidos-laboratorio",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"HC"},{title:"PACINTE"},{title:"FECHA Y HORA:"},{title:"PACIENTE:"},{title:"OPCIONES:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(a,o,r){return r.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[3],width:"20%",orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[4],width:"60%",orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){$(".table-content").show(),$(".table-loader").hide(),a.aoData.map(function(o){e.mount(o.anCells[3],{view:function(){return e("p.mg-0.tx-12",[e("i.fas.fa-calendar.mg-r-5.text-secondary"),o._aData.FECHA_PEDIDO+" "+o._aData.HORA_PEDIDO])}}),e.mount(o.anCells[4],{view:function(){return e(bs,o._aData)}}),e.mount(o.anCells[5],{view:function(){return e(".btn-group.wd-100p[role='group'][aria-label='Opciones']",[e(e.route.Link,{href:"/emergencia/enfermeria/pedido/"+o._aData.NUM_PEDIDO_MV,target:"_blank",class:"btn btn-xs btn-primary"},[e("i.fas.fa-file-alt.mg-r-5")],"Ver Pedido")])}})})}}).on("xhr.dt",function(a,o,r,i){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(a,o,r,i){$(".table-loader").show(),$(".table-content").hide()});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#button-buscar-t").click(function(a){a.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search($("#_dt_search_text").val()).draw()}),$("#filtrar").click(function(a){a.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search("fechas-"+$("#desde").val()+"-"+$("#hasta").val()).draw()}),$("#resetTable").click(function(a){a.preventDefault(),$("#_dt_search_text").val(""),$("#desde").val(""),$("#hasta").val(""),t.search("").draw()}),t}function xs(){moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-notificaciones").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedidos",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"No existe notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return""},visible:!0,aTargets:[0],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){a.aoData.map(function(o){e.mount(o.anCells[0],{view:function(){return e("div.demo-static-toast",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{onclick:()=>{e.route.set("/emergencia/enfermeria/pedido/"+o._aData.idPedido)}},[e("div.toast-header.bg-danger",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",o._aData.title),e("small.tx-white",moment.unix(o._aData.timestamp).format("HH:mm"))]),e("div.toast-body.small",o._aData.message.substring(0,10)+"...")]))}})})}});return t}function ys(t){if(Notification){Notification.permission!=="granted"&&Notification.requestPermission(),vt.setNot();var a=JSON.parse(t.dataPedido),o="Metrovirtual: "+t.title,r={icon:"assets/favicon.ico",body:"Pedido N\xB0: "+t.idPedido+`
HC: `+a.HC+`
Pte: `+a.NOMBRE_PACIENTE},i=new Notification(o,r);i.onclick=()=>{e.route.set("/emergencia/enfermeria/pedido/"+t.idPedido)},i.onclose={},setTimeout(function(){i.close()},3e4)}}function ws(t){if(Notification){Notification.permission!=="granted"&&Notification.requestPermission(),vt.setNot();var a="Metrovirtual: Nuevo Pedido",o={icon:"assets/favicon.ico",body:"Pedido N\xB0: "+t.NUM_PEDIDO_MV+`
HC: `+t.HC_MV+`
Pte: `+t.PTE_MV},r=new Notification(a,o);r.onclick=()=>{e.route.set("/emergencia/enfermeria/pedido/"+t.NUM_PEDIDO_MV)},r.onclose={},setTimeout(function(){r.close()},3e4)}}function _s(){feather.replace(),window.matchMedia("(max-width: 991px)").matches&&new PerfectScrollbar("#navbarMenu",{suppressScrollX:!0});function t(){window.matchMedia("(max-width: 991px)").matches?$("#navbarMenu .active").addClass("show"):$("#navbarMenu .active").removeClass("show")}if(t(),$(window).resize(function(){t()}),$("body").append('<div class="backdrop"></div>'),$(".navbar-menu .with-sub .nav-link").on("click",function(a){a.preventDefault(),$(this).parent().toggleClass("show"),$(this).parent().siblings().removeClass("show"),window.matchMedia("(max-width: 991px)").matches&&psNavbar.update()}),$(document).on("click touchstart",function(a){if(a.stopPropagation(),window.matchMedia("(min-width: 992px)").matches){var o=$(a.target).closest(".navbar-menu .nav-item").length;o||$(".navbar-header .show").removeClass("show")}}),$("#mainMenuClose").on("click",function(a){a.preventDefault(),$("body").removeClass("navbar-nav-show")}),$("#sidebarMenuOpen").on("click",function(a){a.preventDefault(),$("body").addClass("sidebar-show")}),$("#navbarSearch").on("click",function(a){a.preventDefault(),$(".navbar-search").addClass("visible"),$(".backdrop").addClass("show")}),$("#navbarSearchClose").on("click",function(a){a.preventDefault(),$(".navbar-search").removeClass("visible"),$(".backdrop").removeClass("show")}),$("#sidebarMenu").length){const a=new PerfectScrollbar("#sidebarMenu",{suppressScrollX:!0});$(".sidebar-nav .with-sub").on("click",function(o){o.preventDefault(),$(this).parent().toggleClass("show"),a.update()})}$("#mainMenuOpen").on("click touchstart",function(a){a.preventDefault(),$("body").addClass("navbar-nav-show")}),$("#sidebarMenuClose").on("click",function(a){a.preventDefault(),$("body").removeClass("sidebar-show")}),$(document).on("click touchstart",function(a){if(a.stopPropagation(),!$(a.target).closest(".burger-menu").length){var o=$(a.target).closest(".sidebar").length,r=$(a.target).closest(".navbar-menu-wrapper").length;!o&&!r&&($("body").hasClass("navbar-nav-show")?$("body").removeClass("navbar-nav-show"):$("body").removeClass("sidebar-show"))}})}const sa={data:!1,fetch:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedido/"+Et.idPedido}).then(function(t){sa.data=t.data,Ps()}).catch(function(t){})},view:()=>{if(!sa.data)return e("p.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")]);if(sa.data.length==0)return e("p","Sin Notificaciones");if(sa.data.length!==0)return sa.data.map(function(t,a,o){if(a<4)return t.title=="Nuevo Mensaje"?e("div.demo-static-toast.mg-b-5",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",[e("div.toast-header.bg-primary",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",t.title),e("small.tx-white",moment.unix(t.timestamp).format("HH:mm"))]),e("div.toast-body.small",t.message)])):e("div.demo-static-toast.mg-b-5",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",[e("div.toast-header.bg-danger",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",t.title),e("small.tx-white",moment.unix(t.timestamp).format("HH:mm"))]),e("div.toast-body.small",t.message)]))})}},Fa={messagePedido:null,oncreate:()=>{sa.fetch()},sendMessage:()=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/message-pedido/"+Et.idPedido,body:{dataPedido:Ye.data,message:Fa.messagePedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(Fa.messagePedido="",sa.fetch(),alert("Mensaje enviado con \xE9xito."),ci())}).catch(function(t){Re.error=t.message})},view:()=>e("table.table.table-sm[id='table-notificaciones'][width='100%']")},Ye={data:[],detalle:[],error:"",numPedido:0,fetch:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/ver-pedido-eme-lab/"+Et.idPedido}).then(function(t){Ye.data=t.data,t.data.DESCRIPCION.map(function(a,o,r){Ye.detalle.push(a),Re.detalle.push(a),a.indexOf("-R-")!==-1&&(Ye.numPedido=Ye.numPedido+1)})}).catch(function(t){Ye.error=t.message})},view:()=>{if(Re.detalle.length!==0)return Ye.detalle.map(function(t,a,o){return Re.detalle[a].indexOf("...")!==-1?e("p.mg-0",Ye.detalle[a]+" "+Re.detalle[a].split("...")[1]):e("p.mg-0",Ye.detalle[a])})}},Re={detalle:[],error:"",observaciones:"",checkedAll:!1,numPedido:0,view:()=>[e("div.custom-control.custom-checkbox",[e("input.custom-control-input[type='checkbox'][id='selectTodos']",{checked:Re.checkedAll,onclick:function(t){Re.seleccionarTodos(this.checked)}}),e("label.custom-control-label.tx-semibold[for='selectTodos']","SELECCIONAR TODOS")]),Re.detalle.map(function(t,a,o){return t.indexOf("...")!==-1?e("div.custom-control.custom-checkbox",[e("input.custom-control-input[type='checkbox'][id='"+Et.idPedido+"-"+a+"']",{checked:!0,onclick:function(r){this.checked||(Re.detalle[a]=Ye.detalle[a],ye.statusPedido=3,ye.classPedido="tx-warning",ye.descPedido="Muestras Pendientes",Re.checkedAll=!1),Re.updateDataPedido()},onupdate:r=>{Re.detalle[a].indexOf("...")!==-1?Ye.detalle[a]+Re.detalle[a].split("...")[1]:Ye.detalle[a]}}),e("label.custom-control-label[for='"+Et.idPedido+"-"+a+"']",Re.detalle[a].indexOf("...")!==-1?Ye.detalle[a]+Re.detalle[a].split("...")[1]:Ye.detalle[a])]):e("div.custom-control.custom-checkbox",[e("input.custom-control-input[type='checkbox'][id='"+Et.idPedido+"-"+a+"']",{onclick:function(r){this.checked&&(Re.detalle[a]=Ye.detalle[a]+" ... - Muestra Recibida: "+moment().format("DD-MM-YYYY HH:mm")),Re.updateDataPedido()},onupdate:r=>{Re.detalle[a].indexOf("...")!==-1?Ye.detalle[a]+Re.detalle[a].split("...")[1]:Ye.detalle[a]}}),e("label.custom-control-label[for='"+Et.idPedido+"-"+a+"']",Re.detalle[a].indexOf("...")!==-1?Ye.detalle[a]+Re.detalle[a].split("...")[1]:Ye.detalle[a])])})],oninit:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-eme-lab/"+Et.idPedido,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(Re.detalle=t.data,sa.fetch())}).catch(function(t){Re.error=t.message})},updateDataPedido:()=>{Re.validarStatus(),e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-pedido-lab/"+Et.idPedido,body:{dataPedido:Re.detalle,statusPedido:ye.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(Re.detalle=t.data,Re.validarStatus())}).catch(function(t){Re.error=t.message})},sendNotiLab:()=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/noti-eme/"+Et.idPedido,body:{dataPedido:Ye.data,message:Re.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(Re.observaciones="",sa.fetch(),alert("Mensaje enviado con \xE9xito."),ci())}).catch(function(t){Re.error=t.message})},validarStatus:()=>{Re.detalle.map(function(t,a,o){t.indexOf("...")})},seleccionarTodos:t=>Re.detalle.map(function(a,o,r){t?(Re.detalle[o]=Ye.detalle[o]+" ... - Muestra Recibida: "+moment().format("DD-MM-YYYY HH:mm"),document.getElementById(Et.idPedido+"-"+o).checked=!0):(Re.detalle[o]=Ye.detalle[o],document.getElementById(Et.idPedido+"-"+o).checked=!1),Re.detalle.length===o+1&&Re.updateDataPedido()})},ye={ver:!0,nuevoMensaje:!1,editar:!1,entregar:!1,enviar:!1,labelOperation:"Detalle:",statusPedido:1,descPedido:"...",classPedido:"tx-gray-500",oninit:()=>{Ye.fetch()},view:()=>Ye.error?[e(".alert.alert-danger[role='alert']",Ye.error)]:Ye.detalle.length!==0?[e("p.mg-5.tx-20",[e("i.fas.fa-user.mg-r-5.text-secondary"),Ye.data.NOMBRE_PACIENTE]),e("p.mg-5.tx-15",["Fecha Pedido: "+Ye.data.FECHA_PEDIDO,ye.statusPedido===2?[e("span.tx-indigo.tx-semibold"," Usuario: "+W.user.user)]:""]),e("p.mg-5",[e("span.badge.badge-primary.mg-r-5.tx-14","HC: "+Ye.data.HC)]),e("p.mg-5","Opciones Disponibles:"),e("hr.wd-100p.mg-t-0.mg-b-5"),e("p.mg-5.text-right",[e("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){ye.ver=!0,ye.editar=!1,ye.entregar=!1,ye.enviar=!1,ye.nuevoMensaje=!1,ye.labelOperation="Detalle:"}},[e("i.fas.fa-file-alt.mg-r-5")],"Ver Detalle"),e("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){ye.ver=!1,ye.editar=!1,ye.entregar=!0,ye.enviar=!1,ye.nuevoMensaje=!1,ye.labelOperation="Enviar Muestras:",me.status="Enviada"}},[e("i.fas.fa-user-edit.mg-r-5")],"Enviar Muestras"),e("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){ye.ver=!1,ye.editar=!1,ye.entregar=!1,ye.enviar=!1,ye.nuevoMensaje=!0,ye.labelOperation="Nuevo Mensaje:"}},[e("i.fas.fa-paper-plane.mg-r-5")],"Enviar Mensaje")]),e("p.mg-5",[e("span.badge.badge-light.wd-100p.tx-14",ye.labelOperation)]),e("p.mg-5."+(ye.ver||ye.nuevoMensaje?"":"d-none"),[e(Ye)]),e("p.mg-5.d-none",[e(Re)]),e("hr.wd-100p.mg-t-0.mg-b-5"),e("p.mg-5."+(ye.entregar||ye.enviar?"":"d-none"),[e(me)]),e("p.mg-5."+(ye.ver?"":"d-none"),[e("span.badge.badge-light.wd-100p.tx-14","Historial de Mensajes"),e(Fa)]),e("p.mg-5."+(ye.nuevoMensaje?"":"d-none"),[e("span.badge.badge-light.wd-100p.tx-14","Nuevo Mensaje:"),e("textarea.form-control.mg-t-5[rows='5'][placeholder='Nuevo Mensaje']",{oninput:function(t){Fa.messagePedido=t.target.value},value:Fa.messagePedido}),e("div.mg-0.mg-t-5.text-right",[e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){Fa.messagePedido.length!==0?Fa.sendMessage():alert("Nuevo Mnesaje es obligatorio.")}},[e("i.fas.fa-paper-plane.mg-r-5")],"Enviar")])]),e("hr.wd-100p.mg-t-0.mg-b-5")]:e("div.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")])},Et={idPedido:null,oninit:t=>{C.isAuth(),_.page="",Jt.page="",Et.idPedido=t.attrs.idPedido,Ye.data=[],Ye.detalle=[],Re.detalle=[]},oncreate:()=>{document.title="Detalle Pedido N\xB0: "+Et.idPedido+" | "+C.title},view:()=>[e(_,{oncreate:_.setPage("emergencia")}),e(Jt),e("div.content.content-components",e("div.container",[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},["Metrovirtual"])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},["Laboratorio"])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio/pedidos"},["Pedidos de Laboratorio"])),e("li.breadcrumb-item.active[aria-current='page']","Detalle")]),e("h1.df-title","Detalle de Pedido N\xB0: "+Et.idPedido),e("div.row.tx-14",[e("div.col-12",e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("div.mg-b-25",e("i.tx-60.fas.fa-file."+ye.classPedido)),e("h5.tx-inverse.mg-b-20","Detalle de Pedido N\xB0: "+Et.idPedido+" - Status: "+ye.descPedido),e(ye)]))])])),e("div.section-nav",[e("label.nav-label","Notificaciones"),e("nav.nav.flex-column[id='navSection']",[e(sa)])])]},ia={numero:0,items:[],oninit:t=>{var a=t.attrs._id;console.log("idc",a),ia.items[a]={numero:0}},view:t=>{var a=t.attrs._id;return[e("div.card.text-right",e("div.card-body",[e("h5.card-title",ia.items[a].numero),e("button.btn.btn-xs.btn-outline-light.tx-semibold.mg-b-5[type='button']",{onclick:()=>{ia.items[a].numero=ia.items[a].numero+1}},"+"),e("button.btn.btn-xs.btn-outline-light.tx-semibold.mg-b-5[type='button']",{onclick:()=>{ia.items[a].numero=ia.items[a].numero-1}},"-")]))]}},me={user:"",status:"",detalle:[],error:"",observaciones:"",checkedAll:!1,muestras:{1:"Orina",2:"Heces",3:"Tubo Rojo",4:"Tubo Lila",5:"Tubo Celeste",6:"Tubo Verde",7:"Tubo Negro",8:"LCR",9:"Esputo",10:"Jeringuilla",11:"Gasometria",12:"Secreciones",13:"Culturetes",14:"Frascos de Cultivo",15:"Isopado",16:"Estrep Test",17:"AmniSure",18:"Tubo Liquidos"},oninit:()=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/send-pedido-eme-lab/"+Et.idPedido,body:{dataPedido:me.muestras,statusPedido:ye.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(ye.statusPedido=t.statusPedido,me.detalle=t.data,me.validarStatus())}).catch(function(t){me.error=t.message})},view:()=>{if(me.detalle.length!==0)return[e("div.custom-control.custom-checkbox.tx-18",[e("input.custom-control-input[type='checkbox'][id='selectTodosMuestra']",{checked:me.checkedAll,onclick:function(t){me.seleccionarTodos(this.checked)}}),e("label.custom-control-label.tx-semibold[for='selectTodosMuestra']","SELECCIONAR TODOS")]),e("hr.wd-100p.mg-t-0.mg-b-5"),Object.keys(me.detalle).map(function(t){var a=me.muestras[t].toLowerCase().replaceAll(" ","_");return me.detalle[t].indexOf("...")!==-1?(ia.items[a]!==void 0&&(ia.items[a].numero=parseFloat(me.detalle[t].split("...")[2])),[e(ia,{_id:a}),e("div.pd-25.custom-control.custom-checkbox.tx-18",[e("input.custom-control-input[type='checkbox'][id='"+me.detalle[t].toLowerCase().replaceAll(" ","_")+"']",{checked:!0,onclick:function(o){this.checked||(ye.statusPedido=1,me.checkedAll=!1,me.detalle[t]=me.muestras[t],ia.items[me.muestras[t].toLowerCase().replaceAll(" ","_")].numero=0),me.updateDataMuestras()},onupdate:o=>{me.detalle[t].indexOf("...")!==-1?me.muestras[t]+me.detalle[t].split("...")[1]:me.muestras[t]}}),e("label.custom-control-label[for='"+me.detalle[t].toLowerCase().replaceAll(" ","_")+"']",me.detalle[t].indexOf("...")!==-1?me.muestras[t]+me.detalle[t].split("...")[1]:me.detalle[t])]),e("hr.wd-100p.mg-t-0.mg-b-5")]):[e(ia,{_id:a}),e("div.pd-25.custom-control.custom-checkbox.tx-18",[e("input.custom-control-input[type='checkbox'][id='"+me.detalle[t].toLowerCase().replaceAll(" ","_")+"']",{onclick:function(o){this.checked&&(ye.statusPedido=2,me.detalle[t]=me.muestras[t]+" ... - "+me.status+": "+moment().format("DD-MM-YYYY HH:mm")+" ... "+ia.items[a].numero),me.updateDataMuestras()},onupdate:o=>{me.detalle[t].indexOf("...")!==-1?me.muestras[t]+me.detalle[t].split("...")[1]:me.muestras[t]}}),e("label.custom-control-label[for='"+me.detalle[t].toLowerCase().replaceAll(" ","_")+"']",me.detalle[t])]),e("hr.wd-100p.mg-t-0.mg-b-5")]})]},seleccionarTodos:t=>(t?(ye.statusPedido=2,me.checkedAll=!0):(ye.statusPedido=1,me.checkedAll=!1),[Object.keys(me.detalle).map(function(a){let o=me.detalle[a].toLowerCase().replaceAll(" ","_");t?(me.detalle[a]=me.muestras[a]+" ... - "+me.status+": "+moment().format("DD-MM-YYYY HH:mm"),document.getElementById(o).checked=!0):(me.detalle[a]=me.muestras[a],document.getElementById(o).checked=!1)}),me.updateDataMuestras()]),validarStatus:()=>{ye.statusPedido==1&&(ye.classPedido="tx-gray-500",ye.descPedido="Pendiente"),ye.statusPedido==2&&(ye.classPedido="tx-primary",ye.descPedido="Gestionado");let t=0;Object.keys(me.detalle).map(function(a){me.detalle[a].indexOf("...")===-1?(t=t+1,Object.keys(me.detalle).length===t&&t===Object.keys(me.detalle).length&&(ye.statusPedido==1,ye.classPedido="tx-gray-500",ye.descPedido="Pendiente")):(ye.statusPedido=2,ye.classPedido="tx-primary",ye.descPedido="Gestionado")})},updateDataMuestras:()=>[me.validarStatus(),e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-pedido-eme-lab/"+Et.idPedido,body:{dataPedido:me.detalle,statusPedido:ye.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(me.detalle=t.data,me.validarStatus())}).catch(function(t){me.error=t.message})]};function Ps(){moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-notificaciones").DataTable({data:sa.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){a.aoData.map(function(o,r){e.mount(o.anCells[0],{view:function(){return o._aData.title=="Nuevo Mensaje"?e("div.demo-static-toast",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[e("div.toast-header.bg-primary",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",o._aData.title),e("small.tx-white",moment.unix(o._aData.timestamp).format("HH:mm"))]),e("div.toast-body.small",o._aData.message)])):e("div.demo-static-toast",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[e("div.toast-header.bg-danger",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",o._aData.title),e("small.tx-white",moment.unix(o._aData.timestamp).format("HH:mm"))]),e("div.toast-body.small",o._aData.message)]))}})})}});return t}function ci(){var t=$("#table-notificaciones").DataTable();t.clear(),t.rows.add(sa.data).draw()}const Es={view:()=>{let t=Qe.getDataUser();if(t.length!==0)return[t.modulesAccess.farmacia.map(function(a,o,r){return[m(m.route.Link,{href:"/"+a.href,class:Nt.page==a.idModulo?"active":""},[a.label])]})]}},Nt={page:"",setPage:t=>{Nt.page=t},view:()=>[m(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[m("div.sidebar-header",[m("a[href=''][id='mainMenuOpen']",m("i[data-feather='menu']")),m("h5","Menu"),m("a[href=''][id='sidebarMenuClose']",m("i[data-feather='x']"))]),m("div.sidebar-body",m("ul.sidebar-nav",[m("li.nav-label.mg-b-15","Farmacia"),m("li.nav-item.show",[m(m.route.Link,{href:"/farmacia",class:"nav-link with-sub"},[m("i[data-feather='layout']")," Farmacia"]),m("nav.nav",[m(Es)])])]))])]},Ms={view:()=>[m("div.content.content-components",m("div.container",{style:{"max-width":"100%"}},[m("ol.breadcrumb.df-breadcrumbs.mg-b-10",[m("li.breadcrumb-item",m(m.route.Link,{href:"/"},["Metroplus"])),m("li.breadcrumb-item.active[aria-current='page']","Farmacia")]),m("h1.df-title.mg-t-20.mg-b-10","Farmacia:"),m("div.row.tx-14",[C.isShow("farmacia",5)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/farmacia/recetas")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-file tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Recetas de Alta"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recetas de Alta")])])])]:[]])]))]},Ds={oninit:()=>{_.page="",Nt.page="",C.isAuth()},oncreate:()=>{document.title="Farmacia | "+C.title},view:()=>[m(_,{oncreate:_.setPage("farmacia")}),m(Nt),m(Ms)]},Ts={view:()=>{let t=Qe.getDataUser();if(t.length!==0)return[t.modulesAccess.admisiones.map(function(a,o,r){return[m(m.route.Link,{href:"/"+a.href,class:kt.page==a.idModulo?"active":""},[a.label])]})]}},kt={page:"",setPage:t=>{kt.page=t},view:()=>[m(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[m("div.sidebar-header",[m("a[href=''][id='mainMenuOpen']",m("i[data-feather='menu']")),m("h5","Menu"),m("a[href=''][id='sidebarMenuClose']",m("i[data-feather='x']"))]),m("div.sidebar-body",m("ul.sidebar-nav",[m("li.nav-label.mg-b-15","Admisiones"),m("li.nav-item.show",[m(m.route.Link,{href:"/admisiones",class:"nav-link with-sub"},[m("i[data-feather='layout']")," Admisiones "]),m("nav.nav",[m(Ts)])])]))])]},As={view:()=>[m("div.content.content-components",m("div.container",{style:{"max-width":"100%"}},[m("ol.breadcrumb.df-breadcrumbs.mg-b-10",[m("li.breadcrumb-item",m(m.route.Link,{href:"/"},["Metroplus"])),m("li.breadcrumb-item.active[aria-current='page']","Admisiones")]),m("h1.df-title.mg-t-20.mg-b-10","Admisiones:"),m("div.row.tx-14",[C.isShow("admisiones",7)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/admisiones/pre")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-hospital tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Pre Admisiones"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Pre Admisiones")])])])]:[],C.isShow("admisiones",27)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/admisiones/etiquetas")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-user-tag tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Impresi\xF3n de Etiquetas"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Impresi\xF3n de Etiquetas")])])])]:[]])]))]},ks={oninit:()=>{_.page="",kt.page="",C.isAuth()},oncreate:()=>{document.title="Admisiones | "+C.title},view:()=>[m(_,{oncreate:_.setPage("admisiones")}),m(kt),m(As)]};function Ss(){return{interval:null,seconds:89,isPaused:!1}}const Ya={increment(t){t.seconds--,t.seconds==0&&window.location.reload(),e.redraw()},start(t){t.interval=setInterval(Ya.increment,1e3,t)},stop(t){t.interval=clearInterval(t.interval)},reset(t){t.seconds=0},toggle(t){t.isPaused?Ya.start(t):Ya.stop(t),t.isPaused=!t.isPaused}};function Cs(){const t=Ss();return Ya.start(t),{view(){return[e("div.mg-b-20",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Este reporte se actualiza automaticamente en:")]),e("div.d-flex.justify-content-between.mg-b-5",[e("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),e("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-15",t.isPaused?[e("i.fas.fa-play",{onclick(){Ya.toggle(t)}})]:[e("i.fas.fa-pause",{onclick(){Ya.toggle(t)}})]))]),e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:a=>{a.dom.style.width="100%"},onupdate:a=>{a.dom.style.width=t.seconds+"%"}}))])]},onremove(){Ya.stop(t)}}}const Ut={pacientes:[],oninit:t=>{_.page="",kt.page="",Ut.dataPendientesAlta=[],Ut.dataCamaTotales=[],C.isAuth("admisiones",7)},oncreate:t=>{document.title="Pre Admisiones | "+C.title,Rs(t.attrs)&&Is()},view:t=>(moment().format("DD-MM-YYYY"),[e(_,{oncreate:_.setPage("admisiones")}),e(kt,{oncreate:kt.setPage(7)}),e("div.content.content-components",e("div.container",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" Metroplus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/admisiones"},[" Admisiones "])),e("li.breadcrumb-item.active[aria-current='page']","Pre Admisiones")]),e("h1.df-title.mg-t-20","Pre Admisiones:"),e("div.row.animated.fadeInUp",{},[e("div.col-12.mg-b-5.wd-100p.d-none[data-label='Filtrar'][id='filterTable']",e("div.row",[e("div.col-sm-12.pd-b-10",e("div.input-group",[e(".df-example.demo-forms.wd-100p[data-label='Buscar']",[e("input.form-control[type='text'][id='searchField'][data-role='tagsinput']",{oncreate:()=>{new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("text"),queryTokenizer:Bloodhound.tokenizers.whitespace})}})])]))])),e("div.col-12",[e("div.table-loader.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")])),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e(Cs),e("table.table.table-xs.d-none[id='table-data-pacientes'][width='100%']"),e("div.mg-b-10.d-flex.align-items-center.justify-content-between",[e("h5.mg-b-0","Pre Admisiones de Pacientes: ")]),e("table.table.table-sm.tx-12[id='table-preadmisiones'][width='100%']")])])])])),e("div.section-nav",[])])};function Is(){$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-data-pacientes").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/admisiones/pre",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(a,o,r){return r.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.ADM},visible:!0,aTargets:[3]}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){$(".table-content").show(),$(".table-loader").hide(),a.aoData.map(function(o){Ut.pacientes.push(o._aData)}),e.redraw.sync(),Ns()},rowId:"NUM",liveAjax:{interval:25e3,dtCallbacks:!1,abortOn:["error","timeout","parsererror"],resetPaging:!1}}).on("xhr.dt",function(a,o,r,i){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(a,o,r,i){$(".table-loader").show(),$(".table-content").hide()}).on("xhrErr.liveAjax",function(a,o,r,i){console.log("xhrErr","General XHR Error: "+i)}).on("xhrErrTimeout.liveAjax",function(a,o,r,i){console.log("xhrErrTimeout","XHR Error: Timeout")}).on("xhrErrError.liveAjax",function(a,o,r,i){console.log("XHR Error: Error")}).on("xhrErrAbort.liveAjax",function(a,o,r,i){console.log("xhrErrAbort","XHR Error: Abort")}).on("xhrErrParseerror.liveAjax",function(a,o,r,i){console.log("xhrErrParseerror","XHR Error: Parse Error")}).on("xhrErrUnknown.liveAjax",function(a,o,r,i){console.log("xhrErrParseerror","(Unknown) XHR Error: "+i)}).on("xhrSkipped.liveAjax",function(a,o,r){console.log("xhrSkipped","XHR Skipped because liveAjax is "+r)}).on("setInterval.liveAjax",function(a,o,r){console.log("setInterval","XHR polling interval set to "+r)}).on("init.liveAjax",function(a,o,r){console.log("init","liveAjax initiated")}).on("clearTimeout.liveAjax",function(a,o,r){console.log("clearTimeout","liveAjax timeout cleared")}).on("abortXhr.liveAjax",function(a,o,r){console.log("abortXhr","liveAjax XHR request was aborted")}).on("setPause.liveAjax",function(a,o,r){console.log("setPause","liveAjax XHR polling was "+(r===!0?"paused":"un-paused"))}).on("onUpdate.liveAjax",function(a,o,r,i,s){Ut.dataPendientesAlta=[],Ut.camasTotales=[],Ut.camasTotales=0,Ut.pendienteAlta=0,r!==void 0&&r.delete.length!==0&&(Wa("#table-preadmisiones",Ut.dataPendientesAlta),Wa("#table-camas-totales",Ut.camasTotales)),r!==void 0&&r.create.length!==0&&(Wa("#table-preadmisiones",Ut.dataPendientesAlta),Wa("#table-camas-totales",Ut.camasTotales)),r!==void 0&&Object.keys(r.update).length!==0&&(Wa("#table-preadmisiones",Ut.dataPendientesAlta),Wa("#table-camas-totales",Ut.camasTotales))}).on("noUpdate.liveAjax",function(a,o,r,i){console.log("noUpdate","JSON Processed - Table not updated, no new data")});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").change(function(a){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchField").val()).draw()}),t}function Wa(t,a){var o=$(t).DataTable();o.clear(),o.rows.add(a).draw()}function Ns(){moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-preadmisiones").DataTable({data:Ut.pacientes,dom:"ftp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,pageLength:200,columns:[{title:"FECHA:"},{title:"HC:"},{title:"M\xB0 ADM:"},{title:"PACIENTE:"},{title:"F. PROGRAMADA:"},{title:"ADM POSTERIOR:"},{title:"TIPO DCTO.:"}],aoColumnDefs:[{mRender:function(a,o,r){return r.FECHA_PREAD},visible:!0,aTargets:[0]},{mRender:function(a,o,r){return r.HC},visible:!0,aTargets:[1]},{mRender:function(a,o,r){return r.ADM},visible:!0,aTargets:[2]},{mRender:function(a,o,r){return r.NOMBRE_PTE},visible:!0,aTargets:[3]},{mRender:function(a,o,r){return r.FECHA_POSIBLE_ADM},visible:!0,aTargets:[4]},{mRender:function(a,o,r){return r.ADMISION_POSTERIOR},visible:!0,aTargets:[5]},{mRender:function(a,o,r){return r.TIPO_DCTO},visible:!0,aTargets:[6]}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){},order:[[3,"Desc"]]});return t}function Rs(t){for(var a in t)if(t.hasOwnProperty(a))return!1;return!0}const Ls={view:()=>{let t=Qe.getDataUser();if(t.length!==0)return[t.modulesAccess.mantenimiento.map(function(a,o,r){return[m(m.route.Link,{href:"/"+a.href,class:Xa.page==a.idModulo?"active":""},[a.label])]})]}},Xa={page:"",setPage:t=>{Xa.page=t},view:()=>[m(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[m("div.sidebar-header",[m("a[href=''][id='mainMenuOpen']",m("i[data-feather='menu']")),m("h5","Menu"),m("a[href=''][id='sidebarMenuClose']",m("i[data-feather='x']"))]),m("div.sidebar-body",m("ul.sidebar-nav",[m("li.nav-label.mg-b-15","Mantenimiento"),m("li.nav-item.show",[m(m.route.Link,{href:"/mantenimiento",class:"nav-link with-sub"},[m("i[data-feather='layout']")," Mantenimiento "]),m("nav.nav",[m(Ls)])])]))])]},Fs={view:()=>[m("div.content.content-components",m("div.container",[m("ol.breadcrumb.df-breadcrumbs.mg-b-10",[m("li.breadcrumb-item",m(m.route.Link,{href:"/"},["Metrovirtual"])),m("li.breadcrumb-item.active[aria-current='page']","Mantenimiento")]),m("h1.df-title.mg-t-20.mg-b-10","Mantenimiento:"),m("div.row.tx-14",[m("div.col-sm-6",m("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end.mg-b-5",[m("div.mg-b-25",m("i.wd-50.ht-50.tx-gray-500[data-feather='layout']")),m("h5.tx-inverse.mg-b-20","Integraci\xF3n Higienizaci\xF3n"),m(m.route.Link,{href:"/mantenimiento/higienizacion",class:"tx-medium"},["Ir a Integraci\xF3n Higienizaci\xF3n",m("i.icon.ion-md-arrow-forward.mg-l-5")])]))])]))]},Os={oninit:()=>{_.page="",Xa.page="",C.isAuth()},oncreate:()=>{document.title="Mantenimiento | "+C.title},view:()=>[m(_,{oncreate:_.setPage("mantenimiento")}),m(Xa),m(Fs)]},Pa={mensajes:[],fetchPacientes:()=>{Pa.showBusquedas="d-none",Pa.showPacientes="d-none",Pa.showProcess="",e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/integracion-higienizacion"}).then(function(t){Pa.showPacientes="",Pa.showProcess="d-none",Pa.mensajes=t.data;var a=$("#table-higienizacion").DataTable();a.clear(),a.rows.add(Pa.mensajes).draw()}).catch(function(t){})},oninit:()=>{_.page="",Xa.page="",Pa.mensajes=[],C.isAuth()},oncreate:()=>{document.title="Integraci\xF3n de Higienizaci\xF3n | "+C.title,Hs(),$s()},view:()=>[e(_,{oncreate:_.setPage("mantenimiento")}),e(Xa,{oncreate:Xa.setPage(8)}),e("div.content.content-components",e("div.container",[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" Metrovirtual "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/mantenimiento"},[" Mantenimiento "])),e("li.breadcrumb-item.active[aria-current='page']","Integraci\xF3n de Higienizaci\xF3n")]),e("h1.df-title.mg-t-20.mg-b-10","Integraci\xF3n de Higienizaci\xF3n:"),e("div.row.tx-14",[e("div.col-12.mg-b-10.wd-100p",e("div.row.mg-t-10",[e("div.col-sm-12.pd-b-10",[e("label.nav-label.tx-semibold","Transacciones Inbound:"),e("hr")])])),e("div.table-loader-in.col-12.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")])),e("div.table-content-in.col-12.mg-b-10",[e("div.col-12.pd-r-0.pd-l-0.pd-b-20.",e("table.table.table-sm[id='table-inboundTRX'][width='100%']"))]),e("div.col-12.mg-t-10.mg-b-10.wd-100p",e("div.row.mg-t-10",[e("div.col-sm-12.pd-b-10",[e("label.nav-label.tx-semibold","Transacciones Outbound:"),e("hr")])])),e("div.table-loader-out.col-12.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")])),e("div.table-content-out.col-12.mg-b-10",[e("div.col-12.pd-r-0.pd-l-0.pd-b-20.",e("table.table.table-sm[id='table-outboundTRX'][width='100%']"))])])]))]};function Hs(){$(".table-content-in").hide(),$(".table-loader-in").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-inboundTRX").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/hg-in",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"CODIGO HTTP:"},{title:"STATUS:"},{title:"HABITACI\xD3N:"},{title:"TIMESTAMP:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(a,o,r){return'<span class="badge badge-success mg-r-2">200</span> '},visible:!0,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.status},visible:!0,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.hab},visible:!0,aTargets:[3],orderable:!1},{mRender:function(a,o,r){return r.timestamp},visible:!0,aTargets:[4],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){$(".table-content-in").show(),$(".table-loader-in").hide()}}).on("xhr.dt",function(a,o,r,i){$(".table-loader-in").hide(),$(".table-content-in").show()}).on("page.dt",function(a,o,r,i){$(".table-loader-in").show(),$(".table-content-in").hide()});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),t}function $s(){$(".table-content-out").hide(),$(".table-loader-out").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-outboundTRX").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/hg-out",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"CODIGO HTTP:"},{title:"STATUS:"},{title:"HABITACI\xD3N:"},{title:"TIMESTAMP:"},{title:"OPCIONES:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(a,o,r){return'<span class="badge badge-success mg-r-2">200</span> '},visible:!0,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.ESTADO},visible:!0,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.PK_FK_HABITACION},visible:!0,aTargets:[3],orderable:!1},{mRender:function(a,o,r){return r.timestamp},visible:!0,aTargets:[4],orderable:!1},{mRender:function(a,o,r){return'<a href="'+r.URL_LOG+'" role="button" class="btn btn-xs btn-block btn-primary" target="_blank">Ver Log</a>'},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){$(".table-content-out").show(),$(".table-loader-out").hide()}}).on("xhr.dt",function(a,o,r,i){$(".table-loader-out").hide(),$(".table-content-out").show()}).on("page.dt",function(a,o,r,i){$(".table-loader-out").show(),$(".table-content-out").hide()});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),t}const Ys={view:()=>{let t=Qe.getDataUser();if(t.length!==0)return[t.modulesAccess.hospitalizacion.map(function(a,o,r){return[m(m.route.Link,{href:"/"+a.href,class:xa.page==a.idModulo?"active":""},[a.label])]})]}},xa={page:"",setPage:t=>{xa.page=t},view:()=>[m(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[m("div.sidebar-header",[m("a[href=''][id='mainMenuOpen']",m("i[data-feather='menu']")),m("h5","Menu"),m("a[href=''][id='sidebarMenuClose']",m("i[data-feather='x']"))]),m("div.sidebar-body",m("ul.sidebar-nav",[m("li.nav-label.mg-b-15","Hospitalizaci\xF3n"),m("li.nav-item.show",[m(m.route.Link,{href:"/hospitalizacion",class:"nav-link with-sub"},[m("i[data-feather='layout']")," Hospitalizaci\xF3n "]),m("nav.nav",[m(Ys)])])]))])]},js={view:()=>[m("div.content.content-components",m("div.container",[m("ol.breadcrumb.df-breadcrumbs.mg-b-10",[m("li.breadcrumb-item",m(m.route.Link,{href:"/"},["MetroPlus"])),m("li.breadcrumb-item.active[aria-current='page']","Hospitalizaci\xF3n")]),m("h1.df-title.mg-t-20.mg-b-10","Hospitalizaci\xF3n:"),m("div.row.tx-14",[C.isShow("hospitalizacion",17)?[m("div.col-sm-6",m("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end.mg-b-5",[m("div.mg-b-25",m("i.tx-50.tx-gray-500.fas.fa-procedures")),m("h5.tx-inverse.mg-b-20","Control de Camas GEMA-MV"),m(m.route.Link,{href:"/hospitalizacion/control-camas",class:"tx-medium"},["Ir a Control de Camas GEMA-MV",m("i.icon.ion-md-arrow-forward.mg-l-5")])]))]:[],C.isShow("hospitalizacion",9)?[m("div.col-sm-6",m("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end.mg-b-5",[m("div.mg-b-25",m("i.tx-50.tx-gray-500.fas.fa-file-alt")),m("h5.tx-inverse.mg-b-20","Pasaportes de Pacientes"),m(m.route.Link,{href:"/hospitalizacion/pasaportes",class:"tx-medium"},["Ir a Pasaportes de Pacientes",m("i.icon.ion-md-arrow-forward.mg-l-5")])]))]:[]])]))]},Us={oninit:()=>{_.page="",xa.page="",C.isAuth()},oncreate:()=>{document.title="Hospitalizaci\xF3n | "+C.title},view:()=>[m(_,{oncreate:_.setPage("hospitalizacion")}),m(xa),m(js)]},po={pacientes:[],showPacientes:"d-none",showBusquedas:"d-none",tipoBusqueda:"",searchField:"",showProcess:"d-none",oninit:()=>{_.page="",xa.page="",po.searchField="",po.showBusquedas="",po.pacientes=[],C.isAuth()},oncreate:()=>{document.title="Hospitalizaci\xF3n Pasaportes | "+C.title},view:()=>[e(_,{oncreate:_.setPage("hospitalizacion")}),e(xa,{oncreate:xa.setPage(9)}),e("div.content.content-components",e("div.container",[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" Metrovirtual "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/hospitalizacion"},[" Hospitalizaci\xF3n "])),e("li.breadcrumb-item.active[aria-current='page']","Pasaportes de Pacientes")]),e("h1.df-title.mg-t-20.mg-b-10","Pasaportes de Pacientes"),e("div.row.tx-14",[e("div.col-12.mg-b-10.wd-100p",e("div.row.mg-t-10",[e("div.col-sm-12.pd-b-10.mg-b-10",[e("label.nav-label.tx-semibold","B\xFAsqueda de Pacientes:"),e("hr")])])),e("div.table-loader.col-12.wd-100p",{class:po.showProcess},e("div.placeholder-paragraph",[e("div.line"),e("div.line")])),e("div.col-12",{class:"d-none"},[e("label.nav-label.tx-semibold","B\xFAsquedas Recientes:"),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",e("table.table.table-sm[id='table-ultimas-busquedas'][width='100%']"))])])])),e("div.section-nav",[e("label.nav-label.mg-b-10","Opciones Pacientes"),e("a.nav-link[href='#section1']","Feather Icons")])]},Bs={view:t=>[e("p.mg-0",[e("div.tx-12",t.attrs.DIFERENCIA==1?[e("span",{class:"badge badge-danger mg-l-5 mg-r-5",title:"Diferencia"},[],"X")]:[],t.attrs.TIPO!=="CAMAS TOTAL"?[e("span.wd-20p",{class:"badge badge-primary mg-l-5 mg-r-5"},[],t.attrs.TIPO)]:[],t.attrs.NOMBRE_GEMA!==null?[e("span.wd-100p",{class:"badge badge-primary mg-l-5 mg-r-5"},[],"NOMBRE GEMA: "+t.attrs.NOMBRE_GEMA)]:[],e("span.wd-10p",{class:"badge badge-primary mg-l-5 mg-r-5"},[],t.attrs.HABITACION_GEMA),e("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"NHC"),t.attrs.NHCL,e("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"ESTADO GEMA"),t.attrs.ESTADO_GEMA,e("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"ESTADO MV"),t.attrs.ESTADO_MV,t.attrs.NOMBRE_MV!==null?[e("span.wd-100p",{class:"badge badge-dark mg-l-5 mg-r-5"},[],"NOMBRE MV: "+t.attrs.NOMBRE_MV)]:[])])]},Vs={view:t=>[e("p.mg-0",[e("div.tx-12",e("span.wd-10p",{class:"badge badge-danger mg-l-5 mg-r-5"},t.attrs.HABITACION_MV),e("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"NHC"),t.attrs.NHCL,e("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"ATENCION MV"),t.attrs.ATENCION_MV,t.attrs.NOMBRE_MV!==null?[e("span.wd-100p",{class:"badge badge-primary mg-l-5 mg-r-5"},[],t.attrs.NOMBRE_MV)]:[])])]},Ce={error:"",data:[],dataMuestras:[],fetch:()=>{Ce.error="",Ce.data=[],e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-lab",body:{numeroPedido:ct.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status?(Ce.data=t.data,ct.data=t.data[0],ct.validarStatus()):Ce.error=t.message}).catch(function(t){})}},He={tuboLila:1,tuboRojo:1,tuboCeleste:1,tuboNegro:1,tuboVerde:1,gsav:1,hemocultivo:1,qtb:1},ca={checkedAll:!1,seleccionarTodos:t=>{ca.checkedAll=t;var a=moment().format("DD-MM-YYYY HH:mm");return Ce.data.map(function(o,r,i){t?(Ce.data[r].STATUS_TOMA=a,Ce.data[r].customCheked=!0,ca.udpateStatusTomaMuestra(Ce.data[r].CD_EXA_LAB,1)):(Ce.data[r].STATUS_TOMA="",Ce.data[r].customCheked=!1,ca.udpateStatusTomaMuestra(Ce.data[r].CD_EXA_LAB,2))})},udpateStatusTomaMuestra:(t,a)=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-status-pedido-lab",body:{numeroPedido:ct.numeroPedido,cod_exa_lab:t,sts:a},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(o){console.log(o),ct.validarStatus()}).catch(function(o){})},view:()=>Ce.error?[e("p.mg-0",Ce.error)]:Ce.data.length!==0?[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("div.mg-b-30",e("i.tx-60.fas.fa-file."+ct.classPedido)),e("h5.tx-inverse.mg-b-10","Detalle de Pedido N\xB0: "+ct.numeroPedido+" - Status: "+ct.descSstatusPedido),ct.data.TIPO_PEDIDO=="R"?[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[e("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")]:[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[e("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")],e("p.mg-5.tx-20.mg-t-10",[e("i.fas.fa-user.mg-r-8.text-secondary"),ct.data.PTE_MV]),e("p.mg-5.tx-15",["Fecha Pedido: ",ct.data.FECHA_TOMA]),e("p.mg-5.tx-15",["M\xE9dico: ",ct.data.MED_MV]),e("p.mg-5.tx-15",["Ubicaci\xF2n: ",ct.data.SECTOR,": ",ct.data.CAMA]),e("p.mg-5",["Histor\xEDa Cl\xEDnica: "]),e("p.mg-5",[e("span.badge.badge-primary.mg-r-5.tx-14","GEMA: "+ct.data.HC_MV+"01"),e("span.badge.badge-success.mg-r-5.tx-14","MV: "+ct.data.HC_MV)]),e("ul.nav.nav-tabs.mg-t-15[id='myTab'][role='tablist']",[e("li.nav-item",e("a.nav-link.active[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']","Detalle Pedido")),e("li.nav-item",e("a.nav-link[id='profile-tab'][data-toggle='tab'][href='#profile'][role='tab'][aria-controls='profile'][aria-selected='false']","Toma de Muestras"))]),e(".tab-content.bd.bd-gray-300.bd-t-0.pd-20.mg-t-10[id='myTabContent']",[e(".tab-pane.fade.show.active[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[Ce.error?[e("p.mg-0",Ce.error)]:Ce.data!==void 0&&Ce.data.length!==0?[e("h6","Detalle Pedido:"),e("div.table-responsive",e("table.table.table-dashboard.mg-b-0",[e("thead",e("tr",[e("th","FECHA PROGRAMADA"),e("th","FECHA TOMA MUESTRA"),e("th","FECHA RECEP. LAB."),e("th.text-right","EXAMEN")])),e("tbody",[Ce.data.map(function(t,a,o){return[e("tr",[e("td.tx-color-03.tx-normal",t.FECHA_TOMA+" "+t.HORA_TOMA),e("td.tx-color-03.tx-normal",t.STATUS_TOMA.length!==0?t.STATUS_TOMA:"Pendiente"),e("td.tx-color-03.tx-normal",t.STATUS_TOMA.length!==0?t.STATUS_TOMA:"Pendiente"),e("td.tx-medium.text-right",t.NM_EXA_LAB)])]})])]))]:e("div.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")])]),e(".tab-pane.fade[id='profile'][role='tabpanel'][aria-labelledby='profile-tab']",[e("p.mg-5",[e("span.badge.badge-light.wd-100p.tx-14","Registro de Toma de Muestras")]),e("div.table-responsive.mg-b-10.mg-t-10",e("table.table.table-dashboard.table-hover.mg-b-0",[e("thead",e("tr",[e("th.text-left","EXAMEN"),e("th","FECHA DE TOMA DE MUESTRA")])),e("tbody",[e("tr.d-none",[e("td.tx-normal",e("div.custom-control.custom-checkbox",[e("input.custom-control-input[type='checkbox'][id='selectTomaTodos']",{checked:ca.checkedAll,onclick:function(t){ca.seleccionarTodos(this.checked)}}),e("label.custom-control-label[for='selectTomaTodos']","Seleccionar Todos")])),e("td.tx-medium.text-right")]),Ce.data.map(function(t,a,o){return[e("tr",[e("td.tx-18.tx-medium.text-left",t.NM_EXA_LAB),e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.custom-control-input.tx-16[type='checkbox'][id='"+t.CD_EXA_LAB+"']",{checked:Ce.data[a].customCheked,onupdate:function(r){this.checked=Ce.data[a].customCheked},onclick:function(r){r.preventDefault();var i=this.checked;Ce.data[a].customCheked=!Ce.data[a].customCheked,i?(this.checked=!0,Ce.data[a].STATUS_TOMA=moment().format("DD-MM-YYYY HH:mm"),ca.udpateStatusTomaMuestra(t.CD_EXA_LAB,1)):(this.checked=!1,ca.checkedAll=!1,Ce.data[a].STATUS_TOMA="",ca.udpateStatusTomaMuestra(t.CD_EXA_LAB,2))}}),e("label.custom-control-label.tx-16[for='"+t.CD_EXA_LAB+"']",(Ce.data[a].STATUS_TOMA.length!==0,Ce.data[a].STATUS_TOMA))]))])]})])])),e("p.mg-5",[e("span.badge.badge-light.wd-100p.tx-14","Registro de Insumos")]),e("div.table-responsive.mg-b-10.mg-t-10",e("table.table.table-dashboard.table-hover.mg-b-0",[e("thead",e("tr",[e("th.text-left","INSUMOS"),e("th.text-left","CANTIDAD")])),e("tbody",[e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboLila']"),e("label.tx-20.tx-semibold.custom-control-label[for='tuboLila']","Tubo Lila")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{t.dom.innerText=He.tuboLila},onupdate:t=>{t.dom.innerText=He.tuboLila}})),e("button.btn.btn[type='button']",{onclick:()=>{He.tuboLila++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{He.tuboLila--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboRojo']"),e("label.tx-20.tx-semibold..custom-control-label[for='tuboRojo']","Tubo Rojo")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{t.dom.innerText=He.tuboRojo},onupdate:t=>{t.dom.innerText=He.tuboRojo}})),e("button.btn.btn[type='button']",{onclick:()=>{He.tuboRojo++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{He.tuboRojo--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboCeleste']"),e("label.tx-20.tx-semibold..custom-control-label[for='tuboCeleste']","Tubo Celeste")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{t.dom.innerText=He.tuboCeleste},onupdate:t=>{t.dom.innerText=He.tuboCeleste}})),e("button.btn.btn[type='button']",{onclick:()=>{He.tuboCeleste++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{He.tuboCeleste--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboNegro']"),e("label.tx-20.tx-semibold..custom-control-label[for='tuboNegro']","Tubo Negro")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{t.dom.innerText=He.tuboNegro},onupdate:t=>{t.dom.innerText=He.tuboNegro}})),e("button.btn.btn[type='button']",{onclick:()=>{He.tuboNegro++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{He.tuboNegro--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboVerde']"),e("label.tx-20.tx-semibold..custom-control-label[for='tuboVerde']","Tubo Verde")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{t.dom.innerText=He.tuboVerde},onupdate:t=>{t.dom.innerText=He.tuboVerde}})),e("button.btn.btn[type='button']",{onclick:()=>{He.tuboVerde++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{He.tuboVerde--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='gsav']"),e("label.tx-20.tx-semibold..custom-control-label[for='gsav']","GSA V")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{t.dom.innerText=He.gsav},onupdate:t=>{t.dom.innerText=He.gsav}})),e("button.btn.btn[type='button']",{onclick:()=>{He.gsav++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{He.gsav--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='hemocultivo']"),e("label.tx-20.tx-semibold..custom-control-label[for='hemocultivo']","Hemocultivo")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{t.dom.innerText=He.hemocultivo},onupdate:t=>{t.dom.innerText=He.hemocultivo}})),e("button.btn.btn[type='button']",{onclick:()=>{He.hemocultivo++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{He.hemocultivo--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='qtb']"),e("label.tx-20.tx-semibold..custom-control-label[for='qtb']","QTB")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{t.dom.innerText=He.qtb},onupdate:t=>{t.dom.innerText=He.qtb}})),e("button.btn.btn[type='button']",{onclick:()=>{He.qtb++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{He.qtb--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])])])]))])])])]:[e("div.pd-t-10",[e("div.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")])])]},ct={numeroPedido:"",numeroHistoriaClinica:"",track:"",data:[],classPedido:"",descSstatusPedido:"",validarStatus:()=>{for(var t=0;t<Ce.data.length;t++)Ce.data[t].STATUS_TOMA.length!==0&&(Ce.data[t].customCheked=!0);for(var a=0,o=0,t=0;t<Ce.data.length;t++)Ce.data[t].STATUS_RESULTADO.length!==0&&a++,Ce.data[t].STATUS_TOMA.length!==0&&o++;Ce.data.length!==o&&Ce.data.length!==a&&(ct.classPedido="tx-warning",ct.descSstatusPedido="Muestras Pendientes"),Ce.data.length==o&&Ce.data.length!==a&&(ca.checkedAll=!0,ct.classPedido="tx-orange",ct.descSstatusPedido="Pendiente Resultado"),Ce.data.length==o&&Ce.data.length==a&&(ca.checkedAll=!0,ct.classPedido="tx-success",ct.descSstatusPedido="Finalizado - Gestionado")},view:()=>[e("div.animated.fadeInUp",{class:_e.showBitacora.length!==0?"":"d-none"},[e(ca)])]};function qs(){return{interval:null,seconds:89,isPaused:!1}}const ja={increment(t){t.seconds--,t.seconds==0&&window.location.reload(),e.redraw()},start(t){t.interval=setInterval(ja.increment,1e3,t)},stop(t){t.interval=clearInterval(t.interval)},reset(t){t.seconds=0},toggle(t){t.isPaused?ja.start(t):ja.stop(t),t.isPaused=!t.isPaused}};function Js(){const t=qs();return ja.start(t),{view(){return[e("div.mg-t-30.mg-b-20",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Este reporte se actualiza automaticamente en:")]),e("div.d-flex.justify-content-between.mg-b-5",[e("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),e("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-15",t.isPaused?[e("i.fas.fa-play",{onclick(){ja.toggle(t)}})]:[e("i.fas.fa-pause",{onclick(){ja.toggle(t)}})]))]),e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:a=>{a.dom.style.width="100%"},onupdate:a=>{a.dom.style.width=t.seconds+"%"}}))])]},onremove(){ja.stop(t)}}}const _e={dataPendientesAlta:[],dataSoloGema:[],dataGemaMV:[],dataCamaTotales:[],camasTotales:0,showBitacora:"",gemaMV:0,soloGema:0,soloMV:0,pendienteAlta:0,timerUpdate:0,oninit:t=>{yo(t.attrs)?_e.showBitacora="":(_e.showBitacora="d-none",ct.numeroPedido=t.attrs.numeroPedido),_.page="",xa.page="",_e.dataPendientesAlta=[],_e.dataCamaTotales=[],_e.camasTotales=0,_e.pendienteAlta=0,C.isAuth("hospitalizacion",17)},oncreate:t=>{document.title="Caja Recepci\xF3n Turnos | "+C.title,yo(t.attrs)?(Gs(),zs()):Ce.fetch()},onupdate:t=>{yo(t.attrs)?_e.showBitacora="":_e.showBitacora="d-none"},view:t=>{var a=moment().format("DD-MM-YYYY");return yo(t.attrs)?_e.showBitacora="":_e.showBitacora="d-none",[e(_,{oncreate:_.setPage("hospitalizacion")}),e(xa,{oncreate:xa.setPage(17)}),e("div.content.content-components",e("div.container",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" Metrovirtual "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/hospitalizacion"},[" Hospitalizaci\xF3n "])),e("li.breadcrumb-item.active[aria-current='page']","Control de Camas GEMA-MV:")]),e("h1.df-title.mg-t-20.mg-b-10","Control de Camas GEMA-MV:"),e("p.mg-b-20.tx-14.d-none",{class:t.attrs.numeroPedido==null?"":"d-none"},[e("i.fas.fa-info-circle.mg-r-5.text-secondary"),"Buscar por apellidos y nombres de paciente, historia cl\xEDnica y n\xFAmero de pedido."]),e("div.d-lg-none.d-md-block.mg-t-10.mg-b-10.bg-white",e("div.col-12.mg-t-30.mg-lg-t-0",e("div.row",[e("div.col-sm-6.col-lg-12.mg-t-30.mg-sm-t-0.mg-lg-t-30",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Pendiente Alta"),e("span.tx-10.tx-color-04","Hoy, "+a)]),e("div.d-flex.align-items-end.justify-content-between.mg-b-5",[_e.pendienteAlta==0?[e("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[e("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:o=>{o.dom.innerText=_e.pendienteAlta+" Paciente(s)"},onupdate:o=>{o.dom.innerText=_e.pendienteAlta+" Paciente(s)"}})]]),_e.pendienteAlta==0?[e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-danger.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]]),e("div.col-sm-6.col-lg-12.mg-t-30.mg-b-30.mg-sm-t-0.mg-lg-t-30",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","DIFERENCIA CAMAS"),e("span.tx-10.tx-color-04","Hoy, "+a)]),e("div.d-flex.align-items-end.justify-content-between.mg-b-5",[_e.camasTotales==0?[e("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[e("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:o=>{o.dom.innerText=_e.camasTotales+" Paciente(s)"},onupdate:o=>{o.dom.innerText=_e.camasTotales+" Paciente(s)"}})]]),_e.camasTotales==0?[e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-teal.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]])]))),e("div.row.animated.fadeInUp",{class:_e.showBitacora},[e("div.col-12",[e("div.table-loader.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")])),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e(Js),e("div.mg-b-10.d-flex.align-items-center.justify-content-between",[e("h5.mg-b-0","Camas Disponibles GEMA: ")]),e("table.table.table-xs.mg-b-10[id='table-status-camas'][width='100%']"),e("table.table.table-xs.d-none[id='table-control-camas'][width='100%']"),e("div.mg-b-10.d-flex.align-items-center.justify-content-between",[e("h5.mg-b-0.mg-t-15","Pendientes de Alta MV: "),e("div.tx-15.d-none",[e("a.link-03.lh-0[href='']",e("i.icon.ion-md-refresh")," Actualizar")])]),e("table.table.table-xs[id='table-pendientes-alta'][width='100%']"),e("div.mg-b-10.d-flex.align-items-center.justify-content-between",[e("h5.mg-b-0","Estado de Camas: ")]),e("div.mg-b-5.d-flex",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']")),e("table.table.table-xs[id='table-camas-totales'][width='100%']")])])]),e(ct)])),e("div.section-nav",[e("label.nav-label","Control de Camas"),e("div.mg-t-10.bg-white",e("div.col-12.mg-t-30.mg-lg-t-0",e("div.row",[e("div.col-sm-6.col-lg-12.mg-t-30.mg-sm-t-0.mg-lg-t-30",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Pendiente Alta"),e("span.tx-10.tx-color-04","Hoy, "+a)]),e("div.d-flex.align-items-end.justify-content-between.mg-b-5",[_e.pendienteAlta==0?[e("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[e("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:o=>{o.dom.innerText=_e.pendienteAlta+" Paciente(s)"},onupdate:o=>{o.dom.innerText=_e.pendienteAlta+" Paciente(s)"}})]]),_e.pendienteAlta==0?[e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-danger.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]]),e("div.col-sm-6.col-lg-12.mg-t-30.mg-sm-t-0.mg-lg-t-30",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","DIFERENCIA CAMAS"),e("span.tx-10.tx-color-04","Hoy, "+a)]),e("div.d-flex.align-items-end.justify-content-between.mg-b-5",[_e.camasTotales==0?[e("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[e("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:o=>{o.dom.innerText=_e.camasTotales+" Paciente(s)"},onupdate:o=>{o.dom.innerText=_e.camasTotales+" Paciente(s)"}})]]),_e.camasTotales==0?[e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-teal.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]]),e("div.col-sm-6.col-lg-12.mg-t-30.mg-b-30.mg-sm-t-0.mg-lg-t-30",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","GEMA Y MV"),e("span.tx-10.tx-color-04","Hoy, "+a)]),e("div.d-flex.align-items-end.justify-content-between.mg-b-5",[_e.gemaMV==0?[e("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[e("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:o=>{o.dom.innerText=_e.gemaMV+" Paciente(s)"},onupdate:o=>{o.dom.innerText=_e.gemaMV+" Paciente(s)"}})]]),_e.gemaMV==0?[e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-teal.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]])])))])]}};function zs(){$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-status-camas").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/adm-status-camas",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"N\xB0:"},{title:"\xC1REA:"},{title:"COVID:"},{title:"DISPONIBLES:"},{title:"EN LIMPIEZA:"},{title:"OCUPADAS:"},{title:"TOTAL CAMAS:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(a,o,r){return r.AREA},visible:!0,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.COVID},visible:!0,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.DISPONIBLES<5?'<div class="d-inline tx-danger tx-semibold "><span class="badge badge-danger tx-18">'+r.DISPONIBLES+"</span></div>":r.DISPONIBLES},visible:!0,aTargets:[3],orderable:!1},{mRender:function(a,o,r){return r.EN_LIMPIEZA>r.DISPONIBLES?'<div class="d-inline tx-danger tx-semibold "><span class="badge badge-danger tx-18">'+r.EN_LIMPIEZA+"</span></div>":r.EN_LIMPIEZA},visible:!0,aTargets:[4],orderable:!1},{mRender:function(a,o,r){return r.OCUPADAS},visible:!0,aTargets:[5],orderable:!1},{mRender:function(a,o,r){return r.TOTAL_CAMAS},visible:!0,aTargets:[6],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){}}).on("xhr.dt",function(a,o,r,i){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(a,o,r,i){$(".table-loader").show(),$(".table-content").hide()}).on("xhrErr.liveAjax",function(a,o,r,i){console.log("xhrErr","General XHR Error: "+i)}).on("xhrErrTimeout.liveAjax",function(a,o,r,i){console.log("xhrErrTimeout","XHR Error: Timeout")}).on("xhrErrError.liveAjax",function(a,o,r,i){console.log("XHR Error: Error")}).on("xhrErrAbort.liveAjax",function(a,o,r,i){console.log("xhrErrAbort","XHR Error: Abort")}).on("xhrErrParseerror.liveAjax",function(a,o,r,i){console.log("xhrErrParseerror","XHR Error: Parse Error")}).on("xhrErrUnknown.liveAjax",function(a,o,r,i){console.log("xhrErrParseerror","(Unknown) XHR Error: "+i)}).on("xhrSkipped.liveAjax",function(a,o,r){console.log("xhrSkipped","XHR Skipped because liveAjax is "+r)}).on("setInterval.liveAjax",function(a,o,r){console.log("setInterval","XHR polling interval set to "+r)}).on("init.liveAjax",function(a,o,r){console.log("init","liveAjax initiated")}).on("clearTimeout.liveAjax",function(a,o,r){console.log("clearTimeout","liveAjax timeout cleared")}).on("abortXhr.liveAjax",function(a,o,r){console.log("abortXhr","liveAjax XHR request was aborted")}).on("setPause.liveAjax",function(a,o,r){console.log("setPause","liveAjax XHR polling was "+(r===!0?"paused":"un-paused"))}).on("onUpdate.liveAjax",function(a,o,r,i,s){}).on("noUpdate.liveAjax",function(a,o,r,i){console.log("noUpdate","JSON Processed - Table not updated, no new data")});return t}function Gs(){$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-control-camas").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/adm-control-camas",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(a,o,r){return r.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[3],width:"100%",orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){$(".table-content").show(),$(".table-loader").hide(),a.aoData.map(function(o){_e.dataCamaTotales.push(o._aData),o._aData.DIFERENCIA==1&&_e.camasTotales++,o._aData.TIPO=="SIN ALTA EN MV"&&(_e.pendienteAlta++,_e.dataPendientesAlta.push(o._aData)),o._aData.TIPO=="GEMA Y MV"&&_e.gemaMV++}),e.redraw.sync(),Xs(),Ks()},rowId:"NUM",liveAjax:{interval:25e3,dtCallbacks:!1,abortOn:["error","timeout","parsererror"],resetPaging:!1}}).on("xhr.dt",function(a,o,r,i){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(a,o,r,i){$(".table-loader").show(),$(".table-content").hide()}).on("xhrErr.liveAjax",function(a,o,r,i){console.log("xhrErr","General XHR Error: "+i)}).on("xhrErrTimeout.liveAjax",function(a,o,r,i){console.log("xhrErrTimeout","XHR Error: Timeout")}).on("xhrErrError.liveAjax",function(a,o,r,i){console.log("XHR Error: Error")}).on("xhrErrAbort.liveAjax",function(a,o,r,i){console.log("xhrErrAbort","XHR Error: Abort")}).on("xhrErrParseerror.liveAjax",function(a,o,r,i){console.log("xhrErrParseerror","XHR Error: Parse Error")}).on("xhrErrUnknown.liveAjax",function(a,o,r,i){console.log("xhrErrParseerror","(Unknown) XHR Error: "+i)}).on("xhrSkipped.liveAjax",function(a,o,r){console.log("xhrSkipped","XHR Skipped because liveAjax is "+r)}).on("setInterval.liveAjax",function(a,o,r){console.log("setInterval","XHR polling interval set to "+r)}).on("init.liveAjax",function(a,o,r){console.log("init","liveAjax initiated")}).on("clearTimeout.liveAjax",function(a,o,r){console.log("clearTimeout","liveAjax timeout cleared")}).on("abortXhr.liveAjax",function(a,o,r){console.log("abortXhr","liveAjax XHR request was aborted")}).on("setPause.liveAjax",function(a,o,r){console.log("setPause","liveAjax XHR polling was "+(r===!0?"paused":"un-paused"))}).on("onUpdate.liveAjax",function(a,o,r,i,s){_e.dataPendientesAlta=[],_e.camasTotales=[],_e.camasTotales=0,_e.pendienteAlta=0,r!==void 0&&r.delete.length!==0&&(Za("#table-pendientes-alta",_e.dataPendientesAlta),Za("#table-camas-totales",_e.camasTotales)),r!==void 0&&r.create.length!==0&&(Za("#table-pendientes-alta",_e.dataPendientesAlta),Za("#table-camas-totales",_e.camasTotales)),r!==void 0&&Object.keys(r.update).length!==0&&(Za("#table-pendientes-alta",_e.dataPendientesAlta),Za("#table-camas-totales",_e.camasTotales))}).on("noUpdate.liveAjax",function(a,o,r,i){console.log("noUpdate","JSON Processed - Table not updated, no new data")});return t}function Za(t,a){var o=$(t).DataTable();o.clear(),o.rows.add(a).draw()}function Xs(){moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-pendientes-alta").DataTable({data:_e.dataPendientesAlta,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,pageLength:40,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){a.aoData.map(function(o,r){e.mount(o.anCells[0],{view:function(){return e(Vs,o._aData)}})})}});return t}function Ks(){moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-camas-totales").DataTable({data:_e.dataCamaTotales,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,pageLength:20,columns:!1,aoColumnDefs:[{mRender:function(a,o,r){return r.DIFERENCIA},visible:!1,aTargets:[0],orderable:!0},{mRender:function(a,o,r){return r.TIPO},visible:!1,aTargets:[1],orderable:!0},{mRender:function(a,o,r){return r.NOMBRE_GEMA},visible:!1,aTargets:[2],orderable:!0},{mRender:function(a,o,r){return r.NOMBRE_MV},visible:!1,aTargets:[3],orderable:!0},{mRender:function(a,o,r){return""},visible:!0,width:"100%",aTargets:[4],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){a.aoData.map(function(o,r){e.mount(o.anCells[4],{view:function(){return e(Bs,o._aData)}})})}});return $("#searchField").keyup(function(a){t.search($("#searchField").val()).draw()}),t}function yo(t){for(var a in t)if(t.hasOwnProperty(a))return!1;return!0}const bt={data:[],fetch:()=>{bt.data=[];for(var t=0;t<wt.dataFiltros.length;t++)wt.dataFiltros[t].id==wt.idFiltro&&(bt.data=wt.dataFiltros[t])},view:()=>{if(wt.showBitacora.length!==0&&bt.data.length!==0)return[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{wt.showBitacora="",bt.data=[],e.route.set("/laboratorio/notificaciones/filtros",{})}}))),e("div.mg-b-30",e("i.tx-40.fas.fa-filter.")),e("p.mg-5.tx-right",[e("button.btn.btn-xs.btn-secondary.mg-l-2[type='button']",{onclick:()=>{}},e("i.fas.fa-edit.mg-r-5")," Editar "),e("button.btn.btn-xs.btn-danger.mg-l-2[type='button']",{onclick:()=>{}},e("i.fas.fa-times-circle.mg-r-5")," Eliminar ")]),e("h5.tx-inverse.mg-b-10","Filtro: "+bt.data.nombre),bt.data.ene==0?[e("h5.tx-inverse.mg-b-10.tx-danger","Regla para: NO ENVIAR")]:[e("h5.tx-inverse.mg-b-10.tx-primary","Regla para: ENVIAR")],bt.data.x_servicio!==null?[e("h5.tx-inverse.mg-b-10","Por Servicio: "+bt.data.x_servicio)]:[],bt.data.x_origen!==null?[e("h5.tx-inverse.mg-b-10","Por Origen: "+bt.data.x_origen)]:[],bt.data.x_motivo!==null?[e("h5.tx-inverse.mg-b-10","Por Motivo: "+bt.data.x_motivo)]:[],bt.data.x_especialidad!==null?[e("h5.tx-inverse.mg-b-10","Por Especialidad: "+bt.data.x_especialidad)]:[],bt.data.x_medico!==null?[e("h5.tx-inverse.mg-b-10","Por M\xE9dico: "+bt.data.x_medico)]:[],bt.data.x_idprueba!==null?[e("h5.tx-inverse.mg-b-10","Por Id Prueba: "+bt.data.x_idprueba)]:[]])];if(wt.showBitacora.length!==0)return[e("div.pd-t-10",[e("div.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")])])]}},wt={dataPendientesAlta:[],dataSoloGema:[],dataGemaMV:[],dataFiltros:[],dataCamaTotales:[],camasTotales:0,showBitacora:"",gemaMV:0,soloGema:0,soloMV:0,pendienteAlta:0,timerUpdate:0,idFiltro:"",searchField:"",fetch:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=filtradas"}).then(function(t){wt.dataFiltros=t.data,Ws()}).catch(function(t){})},oninit:t=>{_.page="",de.page="",wt.dataPendientesAlta=[],wt.dataCamaTotales=[],wt.camasTotales=0,wt.pendienteAlta=0,C.isAuth("laboratorio",15)},oncreate:t=>{document.title="Notificaciones Enviadas | "+C.title,wt.fetch()},view:t=>(t.attrs!==void 0&&t.attrs.idFiltro!==void 0?(wt.idFiltro=t.attrs.idFiltro,wt.showBitacora="d-none",bt.fetch(),console.log(bt.data)):(wt.idFiltro="",wt.showBitacora=""),[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(15)}),e("div.content.content-components",{style:{"margin-right":"0px"}},e("div.container",{style:{"max-width":"none"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Notificaciones Pendientes")]),e("h1.df-title.mg-t-20.mg-b-10","Notificaciones Pendientes:"),e("div.row.animated.fadeInUp",{class:wt.showBitacora},[e("div.col-12",[e("div.filemgr-content-header.",[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']"))]),e("div.mg-t-90.table-loader.wd-100p",e("div.placeholder-paragraph.",[e("div.line"),e("div.line")])),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.mg-t-70",[e("table.table.table-sm.tx-12[id='table-NotificacionesPendientesLab'][width='100%']")])])]),e(bt)]))])};function Ws(){$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-NotificacionesPendientesLab").DataTable({data:wt.dataFiltros,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,responsive:!0,order:[[0,"Desc"]],columns:[{title:"N\xB0:"},{title:"SC:"},{title:"FECHA:"},{title:"NHC:"},{title:"PACIENTE:"},{title:"STATUS:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(a,o,r){return r.sc},visible:!0,aTargets:[1]},{mRender:function(a,o,r){return r.fechaExamen},visible:!0,aTargets:[2]},{mRender:function(a,o,r){return r.numeroHistoriaClinica},visible:!0,aTargets:[3]},{mRender:function(a,o,r){return r.apellidosPaciente+" "+r.nombresPaciente},visible:!0,aTargets:[4]},{mRender:function(a,o,r){return r.statusEnvio},visible:!0,aTargets:[5]}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){$(".table-content").show(),$(".table-loader").hide()}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchField").val()).draw()}),t}const va={data:[],fetch:()=>{va.data=[];for(var t=0;t<st.dataErroresEnvio.length;t++)st.dataErroresEnvio[t].sc==st.sc&&(va.data=st.dataErroresEnvio[t])},fetchFiltro:()=>{va.data=[];for(var t=0;t<st.dataErroresFiltro.length;t++)st.dataErroresFiltro[t].sc==st.sc&&(va.data=st.dataErroresFiltro[t])},view:()=>{if(st.showBitacora.length!==0&&va.data.length!==0)return[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{st.showBitacora="",va.data=[],e.route.set("/laboratorio/notificaciones/error",{})}}))),e("div.mg-b-30",e("i.tx-40.fas.fa-envelope.")),e("p.mg-5.tx-right",[e("button.btn.btn-xs.btn-secondary.mg-l-2[type='button']",{onclick:()=>{}},e("i.fas.fa-edit.mg-r-5")," Reenviar "),e("button.btn.btn-xs.btn-danger.mg-l-2[type='button']",{onclick:()=>{}},e("i.fas.fa-times-circle.mg-r-5")," Reprocesar ")]),e("h5.tx-inverse.mg-b-10","SC: "+va.data.sc)])];if(st.showBitacora.length!==0)return[e("div.pd-t-10",[e("div.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")])])]}},st={dataErroresFiltro:[],dataErroresEnvio:[],showBitacora:"",sc:"",searchField:"",fetch:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=errorEnviadas"}).then(function(t){st.dataErroresEnvio=t.data,Zs()}).catch(function(t){})},fetchErrorFiltro:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=errorFiltradas"}).then(function(t){st.dataErroresFiltro=t.data,Qs()}).catch(function(t){})},oninit:t=>{_.page="",de.page="",C.isAuth("laboratorio",15)},oncreate:t=>{document.title="Notificaciones con Error | "+C.title,st.fetch(),st.fetchErrorFiltro()},view:t=>(t.attrs!==void 0&&t.attrs.sc!==void 0&&t.attrs.type!==void 0?(st.sc=t.attrs.sc,st.showBitacora="d-none",t.attrs.type=="errorNotificacion"?va.fetch():va.fetchFiltro()):(st.sc="",st.showBitacora=""),[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(15)}),e("div.content.content-components",{style:{"margin-right":"0px"}},e("div.container",{style:{"max-width":"none"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Notificaciones con Error")]),e("h1.df-title.mg-t-20.mg-b-10","Notificaciones con Error:"),e("div.row.animated.fadeInUp",{class:st.showBitacora},[e("div.col-12.wd-100p",e("div.row.mg-t-10",[e("div.col-sm-12",[e("label.nav-label.tx-semibold","Errores en Env\xEDo:")])])),e("div.col-12",[e("div.filemgr-content-header.",[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']"))]),e("div.mg-t-90.table-loader.wd-100p",e("div.placeholder-paragraph.",[e("div.line"),e("div.line")])),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.mg-t-70",[e("table.table.table-sm.tx-12[id='table-notificaciones-errores'][width='100%']")])]),e("div.col-12.wd-100p",e("div.row.mg-t-10",[e("div.col-sm-12",[e("label.nav-label.tx-semibold","Errores en Filtro:")])])),e("div.col-12",[e("div.filemgr-content-header.",[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchFieldFiltro']"))]),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.mg-t-70",[e("table.table.table-sm.tx-12[id='table-notificaciones-errores-filtro'][width='100%']")])])]),e(va)]))])};function Zs(){$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-notificaciones-errores").DataTable({data:st.dataErroresEnvio,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,responsive:!0,order:[[0,"Desc"]],columns:[{title:"N\xB0:"},{title:"SC:"},{title:"FECHA:"},{title:"NHC:"},{title:"PACIENTE:"},{title:"STATUS:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(a,o,r){return r.sc},visible:!0,aTargets:[1]},{mRender:function(a,o,r){return r.fechaExamen},visible:!0,aTargets:[2]},{mRender:function(a,o,r){return r.numeroHistoriaClinica},visible:!0,aTargets:[3]},{mRender:function(a,o,r){return r.apellidosPaciente+" "+r.nombresPaciente},visible:!0,aTargets:[4]},{mRender:function(a,o,r){return r.statusEnvio},visible:!0,aTargets:[5]}],fnRowCallback:function(a,o,r,i){$(a).attr("id",o.sc).css("cursor","pointer"),$(a).addClass("verNotificacion")},drawCallback:function(a){$(".table-content").show(),$(".table-loader").hide(),$(".verNotificacion").click(function(o){o.preventDefault();var r=this;st.showBitacora="d-none",e.route.set("/laboratorio/notificaciones/error/",{sc:r.id,type:"errorNotificacion"})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchField").val()).draw()}),t}function Qs(){$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-notificaciones-errores-filtro").DataTable({data:st.dataErroresFiltro,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,responsive:!0,order:[[0,"Desc"]],columns:[{title:"N\xB0:"},{title:"SC:"},{title:"FECHA:"},{title:"NHC:"},{title:"PACIENTE:"},{title:"STATUS:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(a,o,r){return r.sc},visible:!0,aTargets:[1]},{mRender:function(a,o,r){return r.fechaExamen},visible:!0,aTargets:[2]},{mRender:function(a,o,r){return r.numeroHistoriaClinica},visible:!0,aTargets:[3]},{mRender:function(a,o,r){return r.apellidosPaciente+" "+r.nombresPaciente},visible:!0,aTargets:[4]},{mRender:function(a,o,r){return r.statusEnvio},visible:!0,aTargets:[5]}],fnRowCallback:function(a,o,r,i){$(a).attr("id",o.sc).css("cursor","pointer"),$(a).addClass("verNotificacionFiltro")},drawCallback:function(a){$(".table-content").show(),$(".table-loader").hide(),$(".verNotificacionFiltro").click(function(o){o.preventDefault();var r=this;st.showBitacora="d-none",e.route.set("/laboratorio/notificaciones/error/",{sc:r.id,type:"errorNotificacionFiltro"})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchFieldFiltro").keyup(function(a){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchFieldFiltro").val()).draw()}),t}const ed={view:()=>{let t=Qe.getDataUser();if(t.length!==0)return[t.modulesAccess["terapia-respiratoria"].map(function(a,o,r){return[m(m.route.Link,{href:"/"+a.href,class:Rt.page==a.idModulo?"active":""},[a.label])]})]}},Rt={page:"",setPage:t=>{Rt.page=t},view:()=>[m(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[m("div.sidebar-header",[m("a[href=''][id='mainMenuOpen']",m("i[data-feather='menu']")),m("h5","Menu"),m("a[href=''][id='sidebarMenuClose']",m("i[data-feather='x']"))]),m("div.sidebar-body",m("ul.sidebar-nav",[m("li.nav-label.mg-b-15","Terapia Respiratoria"),m("li.nav-item.show",[m(m.route.Link,{href:"/terapia-respiratoria",class:"nav-link with-sub"},[m("i[data-feather='layout']")," Terapia Respiratoria "]),m("nav.nav",[m(ed)])])]))])]};function td(){return{interval:null,seconds:100,isPaused:!1}}const Ua={showFilter:!0,showSearch:!0,show:!1,increment(t){t.seconds--,t.seconds==0&&window.location.reload(),e.redraw()},start(t){t.interval=setInterval(Ua.increment,1e3,t)},stop(t){t.interval=clearInterval(t.interval)},reset(t){t.seconds=100},toggle(t){t.isPaused?Ua.start(t):Ua.stop(t),t.isPaused=!t.isPaused}};function ad(){const t=td();return Ua.start(t),{view(){return[e("div.mg-b-0",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualizaci\xF3n en:")]),e("div.d-flex.justify-content-between.mg-b-5",[e("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),e("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-15",t.isPaused?[e("i.fas.fa-play.pd-2",{title:"Start",onclick(){Ua.toggle(t)},style:{cursor:"pointer"}})]:[e("i.fas.fa-pause.pd-2",{title:"Pause",onclick(){Ua.toggle(t)},style:{cursor:"pointer"}})]))]),e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:a=>{a.dom.style.width="100%"},onupdate:a=>{a.dom.style.width=t.seconds+"%"}}))])]},onremove(){Ua.stop(t)}}}const od={oncreate:()=>{if(J.loadPedidos(),J.searchField.length!==0){var t=$("#table-pedidos").DataTable();t.search(J.searchField).draw()}},view:()=>e("div.row.animated.fadeInUp",{},[e("div.col-12",[e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[e("h5.mg-b-0","Pedidos de Terapia Respiratoria:",e("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:t=>{J.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),J.idFiltro==2&&(t.dom.innerHTML="Pedidos entre Fechas"),J.idFiltro==3&&(t.dom.innerHTML="Pedidos de Emergencia"),J.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa"),J.idFiltro==5&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n")},onupdate:t=>{J.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),J.idFiltro==2&&(t.dom.innerHTML="Pedidos entre Fechas"),J.idFiltro==3&&(t.dom.innerHTML="Pedidos de Emergencia"),J.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa"),J.idFiltro==5&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n")}})),e("div.d-flex.tx-14",[e(".",{class:J.idFiltro==1?"d-none":"d-flex"},[e("div.link-03",{title:"Desde"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),e("div.link-03",{style:{cursor:"pointer"},title:"Desde"},e("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:t=>{t.dom.value=J.idFiltro!==1?moment(moment(J.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{J.fechaDesde=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),J.loader=!0,J.pedidos=[],J.fetchPedidos(),e.route.set("/terapia-respiratoria/pedidos?idFiltro="+J.idFiltro+"&fechaDesde="+J.fechaDesde+"&fechaHasta="+J.fechaHasta)},style:{border:"transparent"}})),e("div.link-03",{title:"Hasta"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),e("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},e("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:t=>{t.dom.value=J.idFiltro!==1?moment(moment(J.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{J.fechaHasta=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),J.loader=!0,J.pedidos=[],J.fetchPedidos(),e.route.set("/terapia-respiratoria/pedidos?idFiltro="+J.idFiltro+"&fechaDesde="+J.fechaDesde+"&fechaHasta="+J.fechaHasta)},style:{border:"transparent"}}))]),e("div.dropdown.dropleft",[e("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},e("i.fas.fa-filter.tx-18.pd-5")),e(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[e("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),e(e.route.Link,{class:"dropdown-item",href:"/terapia-respiratoria/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),e(e.route.Link,{class:"dropdown-item",href:"/terapia-respiratoria/pedidos/?idFiltro=2&fechaDesde="+J.fechaDesde+"&fechaHasta="+J.fechaHasta},["Pedidos entre Fechas"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=3&fechaDesde="+J.fechaDesde+"&fechaHasta="+J.fechaHasta},["Pedidos de Emergencia"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=4&fechaDesde="+J.fechaDesde+"&fechaHasta="+J.fechaHasta},["Pedidos de C. Externa"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=5&fechaDesde="+J.fechaDesde+"&fechaHasta="+J.fechaHasta},["Pedidos de Hospitalizaci\xF3n"])])])])]),e("div.col-sm-12.filemgr-content-header",{class:J.idFiltro==1?"mg-t-35":"mg-t-40"},[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(t){J.searchField=t.target.value},value:J.searchField}))]),e("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])},J={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:t=>{Rt.page="",J.pedidos.length==0&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),J.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),J.fechaHasta=moment().format("DD-MM-YYYY"),J.loader=!0,J.pedidos=[],J.fetchPedidos())},oncreate:t=>{vt.suscribirCanal("MetroPlus-Terapia-Respiratoria")},loadPedidos:()=>{$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:J.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(a,o,r){return r.CD_PRE_MED},visible:!1,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(a,o,r){return r.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){J.loader=!1,a.aoData.map(function(o){$(o.anCells[5]).css("padding","0").css("background-color","#f7fafe"),e.mount(o.anCells[5],{view:function(){return[e("div.d-flex",{},[e("div.pd-0.flex-grow-1",e("div.pd-2",{style:{"background-color":"rgb(168, 190, 214)"}},e("i.fas.fa-file-alt.tx-semibold.tx-15.pd-2.mg-r-5"),e(".d-inline.tx-15.mg-r-5",o._aData.CD_PRE_MED),e("i.fas.fa-hospital.tx-semibold.tx-12.pd-2"),e(".tx-semibold.d-inline.tx-12"," SECTOR: "),e(".d-inline.tx-12.mg-r-5",o._aData.SECTOR!==null?o._aData.SECTOR+" "+o._aData.UBICACION:"No Disponible"),e("i.fas.fa-user-md.tx-semibold.tx-12.pd-2"),e(".tx-semibold.d-inline.tx-12"," MED: "),o._aData.MED_MV)),e("div.pd-2.tx-medium.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},o._aData.EDAD+" - "+o._aData.PESO+" - "+o._aData.ALTURA+".")]),e("div.d-flex.mg-b-20",{style:{"background-color":"rgb(234, 239, 245)"}},[e("div.pd-0.flex-grow-1",e("td.wd-1p.tx-white",{style:{"background-color":o._aData.SECTOR=="EMERGENCIA"?"#f10075":"#0168fa"}},o._aData.SECTOR=="EMERGENCIA"?"E":"H"),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"FECHA:"),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.FECHA_PEDIDO+" "+o._aData.HORA_PEDIDO),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"NHC:"),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.CD_PACIENTE),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"N\xB0 AT.: "),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.AT_MV),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"PTE: "),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.NM_PACIENTE)),e("div.pd-0.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},e("td.tx-10",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"},onclick:()=>{e.route.set("/terapia-respiratoria/pedido/",{numeroHistoriaClinica:o._aData.CD_PACIENTE,numeroAtencion:o._aData.AT_MV,numeroPedido:o._aData.CD_PRE_MED,track:"view"})}},e(".tx-normal",e("i.fas.fa-file-alt.pd-1.mg-r-2"),"Ver Pedido")))])]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){t.search($("#searchField").val()).draw()}),t},fetchPedidos:()=>{let t="";J.idFiltro==1?t="?idFiltro="+J.idFiltro:t="?idFiltro="+J.idFiltro+"&fechaDesde="+J.fechaDesde+"&fechaHasta="+J.fechaHasta,e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/terapia-respiratoria/pedidos"+t,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(a){J.loader=!1,J.pedidos=a.data}).catch(function(a){setTimeout(function(){J.fetchPedidos()},2e3)})},reloadData:()=>{var t=$("#table-pedidos").DataTable();t.clear(),t.rows.add(J.pedidos).draw()},view:t=>J.loader?[e(Rt,{oncreate:Rt.setPage(18)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:J.error.length!==0?[e(Rt,{oncreate:Rt.setPage(18)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("p","No existe infrmac dd ncin")])]))]:!J.loader&&J.pedidos.length!==0?[e(Rt,{oncreate:Rt.setPage(18)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e(od)])),e("div.section-nav",[e("label.nav-label","RECEPCI\xD3N DE PedidosTR"),e("div.mg-t-10.bg-white",{},e("div.mg-t-10.bg-white",e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","N\xB0 de PedidosTR:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",J.pedidos.length),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Pedido(s)")])])])),e("div.pd-20",e(ad)))])]:!J.loader&&J.pedidos.length==0?[e(Rt,{oncreate:Rt.setPage(18)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e(".alert.alert-danger[role='alert']","No existe informaci\xF3n disponible.")])])]))]:[e(Rt,{oncreate:Rt.setPage(18)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("p"," Error interno.")])])]))]},yt={data:[],fetch:()=>{yt.data=[];for(var t=0;t<_t.dataFiltros.length;t++)_t.dataFiltros[t].id==_t.idFiltro&&(yt.data=_t.dataFiltros[t])},view:()=>{if(_t.showBitacora.length!==0&&yt.data.length!==0)return[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{_t.showBitacora="",yt.data=[],e.route.set("/laboratorio/notificaciones/filtros",{})}}))),e("div.mg-b-30",e("i.tx-40.fas.fa-filter.")),e("p.mg-5.tx-right",[e("button.btn.btn-xs.btn-secondary.mg-l-2[type='button']",{onclick:()=>{}},e("i.fas.fa-edit.mg-r-5")," Editar "),e("button.btn.btn-xs.btn-danger.mg-l-2[type='button']",{onclick:()=>{}},e("i.fas.fa-times-circle.mg-r-5")," Eliminar ")]),e("h5.tx-inverse.mg-b-10","Filtro: "+yt.data.nombre),yt.data.ene==0?[e("h5.tx-inverse.mg-b-10.tx-danger","Regla para: NO ENVIAR")]:[e("h5.tx-inverse.mg-b-10.tx-primary","Regla para: ENVIAR")],yt.data.x_servicio!==null?[e("h5.tx-inverse.mg-b-10","Por Servicio: "+yt.data.x_servicio)]:[],yt.data.x_origen!==null?[e("h5.tx-inverse.mg-b-10","Por Origen: "+yt.data.x_origen)]:[],yt.data.x_motivo!==null?[e("h5.tx-inverse.mg-b-10","Por Motivo: "+yt.data.x_motivo)]:[],yt.data.x_especialidad!==null?[e("h5.tx-inverse.mg-b-10","Por Especialidad: "+yt.data.x_especialidad)]:[],yt.data.x_medico!==null?[e("h5.tx-inverse.mg-b-10","Por M\xE9dico: "+yt.data.x_medico)]:[],yt.data.x_idprueba!==null?[e("h5.tx-inverse.mg-b-10","Por Id Prueba: "+yt.data.x_idprueba)]:[]])];if(_t.showBitacora.length!==0)return[e("div.pd-t-10",[e("div.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")])])]}},_t={dataPendientesAlta:[],dataSoloGema:[],dataGemaMV:[],dataFiltros:[],dataCamaTotales:[],camasTotales:0,showBitacora:"",gemaMV:0,soloGema:0,soloMV:0,pendienteAlta:0,timerUpdate:0,idFiltro:"",searchField:"",fetch:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/tr/pedidos"}).then(function(t){_t.dataFiltros=t.data,rd()}).catch(function(t){})},oninit:t=>{_.page="",de.page="",_t.dataPendientesAlta=[],_t.dataCamaTotales=[],_t.camasTotales=0,_t.pendienteAlta=0,C.isAuth("laboratorio",15)},oncreate:t=>{document.title="Pedidos de Terapia Respiratoria | "+C.title,_t.fetch()},view:t=>(t.attrs!==void 0&&t.attrs.idFiltro!==void 0?(_t.idFiltro=t.attrs.idFiltro,_t.showBitacora="d-none",yt.fetch()):(_t.idFiltro="",_t.showBitacora=""),[e(_,{oncreate:_.setPage("laboratorio")}),e("div.content.content-components",{},e("div.container",{},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos de Terapia Respiratoria:")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos de Banco de Sangre:"),e("div.row.animated.fadeInUp",{class:_t.showBitacora},[e("div.col-12",[e("div.filemgr-content-header.",[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']"))]),e("div.mg-t-90.table-loader.wd-100p",e("div.placeholder-paragraph.",[e("div.line"),e("div.line")])),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.mg-t-70",[e("table.table.table-sm.tx-12[id='table-BSPedidos'][width='100%']")])])]),e(yt)]))])};function rd(){$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-BSPedidos").DataTable({data:_t.dataFiltros,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,responsive:!0,order:[[0,"Desc"]],columns:[{title:"N\xB0:"},{title:"FECHA:"},{title:"NHC:"},{title:"PACIENTE:"},{title:"N\xB0 ATENCION:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(a,o,r){return r.HR_PRE_MED},visible:!0,aTargets:[1]},{mRender:function(a,o,r){return r.CD_PACIENTE},visible:!0,aTargets:[2]},{mRender:function(a,o,r){return r.NM_PACIENTE},visible:!0,aTargets:[3]},{mRender:function(a,o,r){return r.CD_ATENDIMENTO},visible:!0,aTargets:[4]}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){$(".table-content").show(),$(".table-loader").hide()}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchField").val()).draw()}),t}const id={view:()=>{let t=Qe.getDataUser();if(t.length!==0)return[t.modulesAccess.neurofisiologia.map(function(a,o,r){return[m(m.route.Link,{href:"/"+a.href,class:Lt.page==a.idModulo?"active":""},[a.label])]})]}},Lt={page:"",setPage:t=>{Lt.page=t},view:()=>[m(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[m("div.sidebar-header",[m("a[href=''][id='mainMenuOpen']",m("i[data-feather='menu']")),m("h5","Menu"),m("a[href=''][id='sidebarMenuClose']",m("i[data-feather='x']"))]),m("div.sidebar-body",m("ul.sidebar-nav",[m("li.nav-label.mg-b-15","Neurofisiolog\xEDa"),m("li.nav-item.show",[m(m.route.Link,{href:"/neurofisiologia",class:"nav-link with-sub"},[m("i[data-feather='layout']")," Neurofisiolog\xEDa "]),m("nav.nav",[m(id)])])]))])]};function nd(){return{interval:null,seconds:100,isPaused:!1}}const Ba={showFilter:!0,showSearch:!0,show:!1,increment(t){t.seconds--,t.seconds==0&&window.location.reload(),e.redraw()},start(t){t.interval=setInterval(Ba.increment,1e3,t)},stop(t){t.interval=clearInterval(t.interval)},reset(t){t.seconds=100},toggle(t){t.isPaused?Ba.start(t):Ba.stop(t),t.isPaused=!t.isPaused}};function sd(){const t=nd();return Ba.start(t),{view(){return[e("div.mg-b-0",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualizaci\xF3n en:")]),e("div.d-flex.justify-content-between.mg-b-5",[e("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),e("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-15",t.isPaused?[e("i.fas.fa-play.pd-2",{title:"Start",onclick(){Ba.toggle(t)},style:{cursor:"pointer"}})]:[e("i.fas.fa-pause.pd-2",{title:"Pause",onclick(){Ba.toggle(t)},style:{cursor:"pointer"}})]))]),e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:a=>{a.dom.style.width="100%"},onupdate:a=>{a.dom.style.width=t.seconds+"%"}}))])]},onremove(){Ba.stop(t)}}}const dd={oncreate:()=>{if(z.loadPedidos(),z.searchField.length!==0){var t=$("#table-pedidos").DataTable();t.search(z.searchField).draw()}},view:()=>e("div.row.animated.fadeInUp",{},[e("div.col-12",[e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[e("h5.mg-b-0","Pedidos de Neurofisiolog\xEDa:",e("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:t=>{z.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),z.idFiltro==2&&(t.dom.innerHTML="Pedidos entre Fechas"),z.idFiltro==3&&(t.dom.innerHTML="Pedidos de Emergencia"),z.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa"),z.idFiltro==5&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n")},onupdate:t=>{z.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),z.idFiltro==2&&(t.dom.innerHTML="Pedidos entre Fechas"),z.idFiltro==3&&(t.dom.innerHTML="Pedidos de Emergencia"),z.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa"),z.idFiltro==5&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n")}})),e("div.d-flex.tx-14",[e(".",{class:z.idFiltro==1?"d-none":"d-flex"},[e("div.link-03",{title:"Desde"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),e("div.link-03",{style:{cursor:"pointer"},title:"Desde"},e("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:t=>{t.dom.value=z.idFiltro!==1?moment(moment(z.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{z.fechaDesde=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),z.loader=!0,z.pedidos=[],z.fetchPedidos(),e.route.set("/neurofisiologia/pedidos?idFiltro="+z.idFiltro+"&fechaDesde="+z.fechaDesde+"&fechaHasta="+z.fechaHasta)},style:{border:"transparent"}})),e("div.link-03",{title:"Hasta"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),e("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},e("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:t=>{t.dom.value=z.idFiltro!==1?moment(moment(z.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{z.fechaHasta=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),z.loader=!0,z.pedidos=[],z.fetchPedidos(),e.route.set("/neurofisiologia/pedidos?idFiltro="+z.idFiltro+"&fechaDesde="+z.fechaDesde+"&fechaHasta="+z.fechaHasta)},style:{border:"transparent"}}))]),e("div.dropdown.dropleft",[e("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},e("i.fas.fa-filter.tx-18.pd-5")),e(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[e("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),e(e.route.Link,{class:"dropdown-item",href:"/neurofisiologia/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),e(e.route.Link,{class:"dropdown-item",href:"/neurofisiologia/pedidos/?idFiltro=2&fechaDesde="+z.fechaDesde+"&fechaHasta="+z.fechaHasta},["Pedidos entre Fechas"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/neurofisiologia/pedidos/?idFiltro=3&fechaDesde="+z.fechaDesde+"&fechaHasta="+z.fechaHasta},["Pedidos de Emergencia"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/neurofisiologia/pedidos/?idFiltro=4&fechaDesde="+z.fechaDesde+"&fechaHasta="+z.fechaHasta},["Pedidos de C. Externa"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/neurofisiologia/pedidos/?idFiltro=5&fechaDesde="+z.fechaDesde+"&fechaHasta="+z.fechaHasta},["Pedidos de Hospitalizaci\xF3n"])])])])]),e("div.col-sm-12.filemgr-content-header",{class:z.idFiltro==1?"mg-t-35":"mg-t-40"},[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(t){z.searchField=t.target.value},value:z.searchField}))]),e("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])},z={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:t=>{Lt.page="",z.pedidos.length==0&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),z.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),z.fechaHasta=moment().format("DD-MM-YYYY"),z.loader=!0,z.pedidos=[],z.fetchPedidos())},oncreate:t=>{vt.suscribirCanal("MetroPlus-Imagen")},loadPedidos:()=>{$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:z.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(a,o,r){return r.CD_PRE_MED},visible:!1,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(a,o,r){return r.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){z.loader=!1,a.aoData.map(function(o){$(o.anCells[5]).css("padding","0").css("background-color","#f7fafe"),e.mount(o.anCells[5],{view:function(){return[e("div.d-flex",{},[e("div.pd-0.flex-grow-1",e("div.pd-2",{style:{"background-color":"rgb(168, 190, 214)"}},e("i.fas.fa-file-alt.tx-semibold.tx-15.pd-2.mg-r-5"),e(".d-inline.tx-15.mg-r-5",o._aData.CD_PRE_MED),e("i.fas.fa-hospital.tx-semibold.tx-12.pd-2"),e(".tx-semibold.d-inline.tx-12"," SECTOR: "),e(".d-inline.tx-12.mg-r-5",o._aData.SECTOR+" "+o._aData.UBICACION),e("i.fas.fa-user-md.tx-semibold.tx-12.pd-2"),e(".tx-semibold.d-inline.tx-12"," MED: "),o._aData.MED_MV)),e("div.pd-2.tx-medium.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},o._aData.EDAD+" - "+o._aData.PESO+" - "+o._aData.ALTURA)]),e("div.d-flex.mg-b-20",{style:{"background-color":"rgb(234, 239, 245)"}},[e("div.pd-0.flex-grow-1",e("td.wd-1p.tx-white",{style:{"background-color":o._aData.SECTOR=="EMERGENCIA"?"#f10075":"#0168fa"}},o._aData.SECTOR=="EMERGENCIA"?"E":"H"),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"FECHA:"),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.FECHA_PEDIDO+" "+o._aData.HORA_PEDIDO),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"NHC:"),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.CD_PACIENTE),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"N\xB0 AT.: "),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.AT_MV),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"PTE: "),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.NM_PACIENTE)),e("div.pd-0.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},e("td.tx-10",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"},onclick:()=>{e.route.set("/neurofisiologia/pedido/",{numeroHistoriaClinica:o._aData.CD_PACIENTE,numeroAtencion:o._aData.AT_MV,numeroPedido:o._aData.CD_PRE_MED,track:"view"})}},e(".tx-normal",e("i.fas.fa-file-alt.pd-1.mg-r-2"),"Ver Pedido")))])]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){t.search($("#searchField").val()).draw()}),t},fetchPedidos:()=>{let t="";z.idFiltro==1?t="?idFiltro="+z.idFiltro:t="?idFiltro="+z.idFiltro+"&fechaDesde="+z.fechaDesde+"&fechaHasta="+z.fechaHasta,e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/neuro/pedidos"+t,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(a){z.loader=!1,z.pedidos=a.data}).catch(function(a){setTimeout(function(){z.fetchPedidos()},2e3)})},reloadData:()=>{var t=$("#table-pedidos").DataTable();t.clear(),t.rows.add(z.pedidos).draw()},view:t=>z.loader?[e(Lt,{oncreate:Lt.setPage(20)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/neurofisiologia"},[" Neurofisiolog\xEDa "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:z.error.length!==0?[e(Lt,{oncreate:Lt.setPage(20)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/neurofisiologia"},[" Neurofisiolog\xEDa "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("p","No existe infrmac dd ncin")])]))]:!z.loader&&z.pedidos.length!==0?[e(Lt,{oncreate:Lt.setPage(20)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/neurofisiologia"},[" Neurofisiolog\xEDa "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e(dd)])),e("div.section-nav",[e("label.nav-label","Recepci\xF3n de Pedidos"),e("div.mg-t-10.bg-white",{},e("div.mg-t-10.bg-white",e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","N\xB0 de NeuroPedidos:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",z.pedidos.length),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Pedido(s)")])])])),e("div.pd-20",e(sd)))])]:!z.loader&&z.pedidos.length==0?[e(Lt,{oncreate:Lt.setPage(20)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/neurofisiologia"},[" Neurofisiolog\xEDa "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e(".alert.alert-danger[role='alert']","No existe informaci\xF3n disponible.")])])]))]:[e(Lt,{oncreate:Lt.setPage(20)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/neurofisiologia"},[" Neurofisiolog\xEDa "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("p"," Error interno.")])])]))]},ld={view:()=>{let t=Qe.getDataUser();if(t.length!==0)return[t.modulesAccess.imagen.map(function(a,o,r){return[m(m.route.Link,{href:"/"+a.href,class:Ft.page==a.idModulo?"active":""},[a.label])]})]}},Ft={page:"",setPage:t=>{Ft.page=t},view:()=>[m(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[m("div.sidebar-header",[m("a[href=''][id='mainMenuOpen']",m("i[data-feather='menu']")),m("h5","Menu"),m("a[href=''][id='sidebarMenuClose']",m("i[data-feather='x']"))]),m("div.sidebar-body",m("ul.sidebar-nav",[m("li.nav-label.mg-b-15","Imagen"),m("li.nav-item.show",[m(m.route.Link,{href:"/imagen",class:"nav-link with-sub"},[m("i[data-feather='layout']")," Imagen "]),m("nav.nav",[m(ld)])])]))])]};function cd(){return{interval:null,seconds:100,isPaused:!1}}const Va={showFilter:!0,showSearch:!0,show:!1,increment(t){t.seconds--,t.seconds==0&&window.location.reload(),e.redraw()},start(t){t.interval=setInterval(Va.increment,1e3,t)},stop(t){t.interval=clearInterval(t.interval)},reset(t){t.seconds=100},toggle(t){t.isPaused?Va.start(t):Va.stop(t),t.isPaused=!t.isPaused}};function ud(){const t=cd();return Va.start(t),{view(){return[e("div.mg-b-0",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualizaci\xF3n en:")]),e("div.d-flex.justify-content-between.mg-b-5",[e("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),e("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-15",t.isPaused?[e("i.fas.fa-play.pd-2",{title:"Start",onclick(){Va.toggle(t)},style:{cursor:"pointer"}})]:[e("i.fas.fa-pause.pd-2",{title:"Pause",onclick(){Va.toggle(t)},style:{cursor:"pointer"}})]))]),e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:a=>{a.dom.style.width="100%"},onupdate:a=>{a.dom.style.width=t.seconds+"%"}}))])]},onremove(){Va.stop(t)}}}const md={oncreate:()=>{if(G.loadPedidos(),G.searchField.length!==0){var t=$("#table-pedidos").DataTable();t.search(G.searchField).draw()}},view:()=>e("div.row.animated.fadeInUp",{},[e("div.col-12",[e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[e("h5.mg-b-0","Pedidos de Imagen:",e("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:t=>{G.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),G.idFiltro==2&&(t.dom.innerHTML="Pedidos entre Fechas"),G.idFiltro==3&&(t.dom.innerHTML="Pedidos de Emergencia"),G.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa"),G.idFiltro==5&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n")},onupdate:t=>{G.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),G.idFiltro==2&&(t.dom.innerHTML="Pedidos entre Fechas"),G.idFiltro==3&&(t.dom.innerHTML="Pedidos de Emergencia"),G.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa"),G.idFiltro==5&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n")}})),e("div.d-flex.tx-14",[e(".",{class:G.idFiltro==1?"d-none":"d-flex"},[e("div.link-03",{title:"Desde"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),e("div.link-03",{style:{cursor:"pointer"},title:"Desde"},e("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:t=>{t.dom.value=G.idFiltro!==1?moment(moment(G.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{G.fechaDesde=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),G.loader=!0,G.pedidos=[],G.fetchPedidos(),e.route.set("/imagen/pedidos?idFiltro="+G.idFiltro+"&fechaDesde="+G.fechaDesde+"&fechaHasta="+G.fechaHasta)},style:{border:"transparent"}})),e("div.link-03",{title:"Hasta"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),e("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},e("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:t=>{t.dom.value=G.idFiltro!==1?moment(moment(G.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{G.fechaHasta=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),G.loader=!0,G.pedidos=[],G.fetchPedidos(),e.route.set("/imagen/pedidos?idFiltro="+G.idFiltro+"&fechaDesde="+G.fechaDesde+"&fechaHasta="+G.fechaHasta)},style:{border:"transparent"}}))]),e("div.dropdown.dropleft",[e("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},e("i.fas.fa-filter.tx-18.pd-5")),e(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[e("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),e(e.route.Link,{class:"dropdown-item",href:"/imagen/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),e(e.route.Link,{class:"dropdown-item",href:"/imagen/pedidos/?idFiltro=2&fechaDesde="+G.fechaDesde+"&fechaHasta="+G.fechaHasta},["Pedidos entre Fechas"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=3&fechaDesde="+G.fechaDesde+"&fechaHasta="+G.fechaHasta},["Pedidos de Emergencia"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=4&fechaDesde="+G.fechaDesde+"&fechaHasta="+G.fechaHasta},["Pedidos de C. Externa"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=5&fechaDesde="+G.fechaDesde+"&fechaHasta="+G.fechaHasta},["Pedidos de Hospitalizaci\xF3n"])])])])]),e("div.col-sm-12.filemgr-content-header",{class:G.idFiltro==1?"mg-t-35":"mg-t-40"},[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(t){G.searchField=t.target.value},value:G.searchField}))]),e("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])},G={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:t=>{Ft.page="",G.pedidos.length==0&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),G.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),G.fechaHasta=moment().format("DD-MM-YYYY"),G.loader=!0,G.pedidos=[],G.fetchPedidos())},oncreate:t=>{vt.suscribirCanal("MetroPlus-Imagen")},loadPedidos:()=>{$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:G.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(a,o,r){return r.CD_PRE_MED},visible:!1,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(a,o,r){return r.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){G.loader=!1,a.aoData.map(function(o){$(o.anCells[5]).css("padding","0").css("background-color","#f7fafe"),e.mount(o.anCells[5],{view:function(){return[e("div.d-flex",{},[e("div.pd-0.flex-grow-1",e("div.pd-2",{style:{"background-color":"rgb(168, 190, 214)"}},e("i.fas.fa-file-alt.tx-semibold.tx-15.pd-2.mg-r-5"),e(".d-inline.tx-15.mg-r-5",o._aData.CD_PRE_MED),e("i.fas.fa-hospital.tx-semibold.tx-12.pd-2"),e(".tx-semibold.d-inline.tx-12"," SECTOR: "),e(".d-inline.tx-12.mg-r-5",o._aData.SECTOR+" "+o._aData.UBICACION),e("i.fas.fa-user-md.tx-semibold.tx-12.pd-2"),e(".tx-semibold.d-inline.tx-12"," MED: "),o._aData.MED_MV)),e("div.pd-2.tx-medium.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},o._aData.EDAD+" - "+o._aData.PESO+" - "+o._aData.ALTURA)]),e("div.d-flex.mg-b-20",{style:{"background-color":"rgb(234, 239, 245)"}},[e("div.pd-0.flex-grow-1",e("td.wd-1p.tx-white",{style:{"background-color":o._aData.SECTOR=="EMERGENCIA"?"#f10075":"#0168fa"}},o._aData.SECTOR=="EMERGENCIA"?"E":"H"),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"FECHA:"),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.FECHA_PEDIDO+" "+o._aData.HORA_PEDIDO),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"NHC:"),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.CD_PACIENTE),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"N\xB0 AT.: "),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.AT_MV),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"PTE: "),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.NM_PACIENTE)),e("div.pd-0.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},e("td.tx-10",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"},onclick:()=>{e.route.set("/imagen/pedido/",{numeroHistoriaClinica:o._aData.CD_PACIENTE,numeroAtencion:o._aData.AT_MV,numeroPedido:o._aData.CD_PRE_MED,track:"view"})}},e(".tx-normal",e("i.fas.fa-file-alt.pd-1.mg-r-2"),"Ver Pedido")))])]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){t.search($("#searchField").val()).draw()}),t},fetchPedidos:()=>{let t="";G.idFiltro==1?t="?idFiltro="+G.idFiltro:t="?idFiltro="+G.idFiltro+"&fechaDesde="+G.fechaDesde+"&fechaHasta="+G.fechaHasta,e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/imagen/pedidos"+t,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(a){G.loader=!1,G.pedidos=a.data}).catch(function(a){setTimeout(function(){G.fetchPedidos()},2e3)})},reloadData:()=>{var t=$("#table-pedidos").DataTable();t.clear(),t.rows.add(G.pedidos).draw()},view:t=>G.loader?[e(Ft,{oncreate:Ft.setPage(24)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/imagen"},[" Imagen "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:G.error.length!==0?[e(Ft,{oncreate:Ft.setPage(24)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/imagen"},[" Imagen "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("p","No existe infrmac dd ncin")])]))]:!G.loader&&G.pedidos.length!==0?[e(Ft,{oncreate:Ft.setPage(24)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/imagen"},[" Imagen "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e(md)])),e("div.section-nav",[e("label.nav-label","RECEPCI\xD3N DE PEDIDOS"),e("div.mg-t-10.bg-white",{},e("div.mg-t-10.bg-white",e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","N\xB0 de Pedidos:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",G.pedidos.length),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Pedido(s)")])])])),e("div.pd-20",e(ud)))])]:!G.loader&&G.pedidos.length==0?[e(Ft,{oncreate:Ft.setPage(24)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/imagen"},[" Imagen "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e(".alert.alert-danger[role='alert']","No existe informaci\xF3n disponible.")])])]))]:[e(Ft,{oncreate:Ft.setPage(24)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/imagen"},[" Imagen "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("p"," Error interno.")])])]))]},Ve={secs:[],nombres:"",show:!1,view:()=>{let t="",a="",o="";return tt.num==0&&setTimeout(function(){tt.num=tt.data.length,tt.parseFetch(),e.redraw.sync()},2e3),Ve.secs.length==0?[e("div.pd-10.wd-100p",e("div.d-inline.tx-secondary.tx-12",{oncreate:r=>{r.dom.innerHTML="Procesando "+tt.data.length+" formulario(s) encontrado(s)..."}}),e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]:[Ve.secs.map(function(r,i,s){if(r.name=="prescripciones_texto"&&(a=r.answer),r.name=="evolucion_medica_texto"&&(t=r.answer),r.name=="cd_documento_clinico"&&(o="http://172.16.253.18/mvpep/api/clinical-documents/"+r.answer+".pdf?company=1&department=75"),r.name=="Logotipo_archivo")return[e("div.d-inline.tx-secondary.tx-12",{oncreate:c=>{c.dom.innerHTML=tt.data.length+" formulario(s) encontrado(s)."}}),e("table.table.table-bordered.wd-100p",{style:{zoom:tt.zoom}},[e("thead",[e("tr",e("th[colspan='12'][scope='col']",[e("i.tx-light.fas.fa-file-alt.mg-r-2."),e("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),e("tr",[e("th[colspan='10'][scope='col']",e("div.m-0.p-0",e("img",{width:"100rem",src:"data:image/png;base64,"+r.answer}))),e("th.tx-right[colspan='2'][scope='col']",e("a.tx-right.tx-semibold",{href:o,target:"_blank"},e("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),e("tbody",[e("tr",[e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ESTABLECIMIENTO")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NOMBRE")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","APELLIDO")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","SEXO (M-F)")),e("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NHCL.")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ADM."))]),e("tr",[e("th.text-center[colspan='3'][scope='row']",e("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",Ve.nombres)),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",Ve.apellidos_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ve.sexo)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ve.nhcl)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ve.numero_admision))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","EDAD")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","UBICACION")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),e("tr",[e("td.text-center[colspan='1'][scope='row']",e("div.m-0.p-0.text-center",Ve.edad||Ve.edad_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ve.identificacion)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ve.fecha_admision)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ve.fecha_admision)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",Ve.ubicacion)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",Ve.medico_tratante))]),e("tr",[e("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCI\xD3N")),e("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",e("br"),"CADA PRESCRIPCI\xD3N"]))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FECHA",e("br"),"d\xEDa/mes/a\xF1o"])),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","HORA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCI\xD3N")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",e("br"),"(PARA ENFERMER\xCDA Y OTRO PERSONAL)"])),e("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",e("br"),"F\xC1RMACOS INSUMOS"]))]),e("tr",[e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.tx-bold.text-justify",t!==null&&t.length!==0?e.trust(t.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.text-justify",a!==null&&a.length!==0?e.trust(a.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},tt={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:t=>(Object.keys(t.data).map(function(a,o,r){Ve.secs.push(t.data[a])}),Ve.secs.map(function(a,o,r){a.name=="nombres"&&(Ve.nombres=a.answer),a.name=="apellidos_paciente"&&(Ve.apellidos_paciente=a.answer),a.name=="sexo de paciente"&&(Ve.sexo=a.answer),a.name=="nhcl"&&(Ve.nhcl=a.answer),a.name=="numero_admision"&&(Ve.numero_admision=a.answer),a.name=="edad"&&(Ve.edad=a.answer),a.name=="edad_paciente"&&(Ve.edad_paciente=a.answer),a.name=="identificacion_paciente"&&(Ve.identificacion=a.answer),a.name=="fecha_admision"&&(Ve.fecha_admision=a.answer),a.name=="ubicacion_atencion"&&(Ve.ubicacion=a.answer),a.name=="fecha_alta"&&(Ve.fecha_alta=a.answer==null?"":a.answer),a.name=="medico_tratante"&&(Ve.medico_tratante=a.answer)})),parseFetch:()=>(Ve.secs=[],tt.data.map(function(t,a,o){tt.parseDoc(tt.data[a])})),fetch:()=>{tt.data=[],tt.error="",e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+tt.nhc+"&adm="+tt.adm,headers:{Authorization:localStorage.accessToken}}).then(function(t){t.length!==0?(tt.data=t,tt.num=0):tt.error="El documento solicitado no esta disponible."}).catch(function(t){setTimeout(function(){tt.fetch()},5e3)})},view:()=>tt.error?[e(".alert.alert-danger[role='alert']",tt.error)]:tt.data.length!==0?[e(Ve)]:[e("div.d-inline.tx-secondary.tx-12",{oncreate:t=>{t.dom.innerHTML="Buscando informaci\xF3n..."}}),e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},Xt={data:[],detalle:[],error:"",showFor:"",fetch:()=>{Xt.data=[],Xt.error="",e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:Ae.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(t){t.status?(Xt.data=t.data,tt.adm=Xt.data[0].ADM,tt.nhc=Xt.data[0].NHCL,tt.fetch()):Xt.error=t.message}).catch(function(t){setTimeout(function(){Xt.fetch()},5e3)})},view:()=>Xt.error?[e(".alert.alert-danger[role='alert']",Xt.error)]:Xt.data.length!==0?[e(tt)]:[e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},pd={view:()=>{if(Ae.examenes.length!==0)return Ae.examenes.map(function(t,a,o){return[e(".tx-14.tx-semibold.d-inline",t.EXAMEN),t.OBS_EXAMEN!==null?[e("br"),e(".d-inline","Observaciones:"),e("br"),e(".d-inline",t.OBS_EXAMEN),e("br"),e("br")]:""]})}},Ae={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:t=>{t.attrs.numeroPedido!==void 0&&(document.title="Detalle de Pedidos N\xB0: "+t.attrs.numeroPedido+" | "+C.title,(Ae.data!==void 0&&Ae.data.length==0||Ae.numeroPedido!==t.attrs.numeroPedido)&&(Ae.numeroPedido=t.attrs.numeroPedido,Ae.numeroAtencion=t.attrs.numeroAtencion,Ae.numeroHistoriaClinica=t.attrs.numeroHistoriaClinica,Ae.fetch()))},fetch:()=>{Ae.data=[],Ae.loader=!0,e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-imagen",body:{numeroPedido:Ae.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status?(Ae.loader=!1,Ae.data=t.data,Ae.examenes=t.examenes,Xt.fetch()):Ae.error=t.message}).catch(function(t){})},view:t=>[e(_,{oncreate:_.setPage("imagen")}),e(Ft,{oncreate:Ft.setPage(24)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/imagen"},[" Imagen "])),e("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),e("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N\xB0: "+Ae.numeroPedido),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",{oncreate:a=>{Ae.loader?a.dom.hidden=!1:a.dom.hidden=!0},onupdate:a=>{Ae.loader?a.dom.hidden=!1:a.dom.hidden=!0}},[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])]),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:a=>{Ae.loader?a.dom.hidden=!0:a.dom.hidden=!1},onupdate:a=>{Ae.loader?a.dom.hidden=!0:a.dom.hidden=!1}},[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{G.idFiltro!==void 0&&G.idFiltro>1?e.route.set("/imagen/pedidos/",{idFiltro:G.idFiltro,fechaDesde:G.fechaDesde,fechaHasta:G.fechaHasta}):e.route.set("/imagen/pedidos/",{idFiltro:1})}}))),Ae.data.TIPO_PEDIDO=="R"?[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[e("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")]:[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[e("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")],e("div.table-responsive",[e("table.table.table-bordered.table-sm.tx-12",[e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS DEL PEDIDO:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 de Pedido:"),e("td",{style:{"background-color":"#eaeff5"}},Ae.data.CD_PRE_MED),e("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Ae.data.FECHA_PEDIDO+" "+Ae.data.HORA_PEDIDO),e("th",{style:{"background-color":"#a8bed6"}},"Origen:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Ae.data.SECTOR)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"M\xE9dico Solicitante:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Ae.data.MED_MV),e("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Ae.data.ESPECIALIDAD)])]),e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Ae.data.NM_PACIENTE),e("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),e("td",{style:{"background-color":"#eaeff5"}},Ae.data.EDAD),e("th",{style:{"background-color":"#a8bed6"}},"NHC:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Ae.data.CD_PACIENTE)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 Atenci\xF3n:"),e("td",{style:{"background-color":"#eaeff5"}},Ae.data.AT_MV),e("th",{style:{"background-color":"#a8bed6"}},"Peso:"),e("td",{style:{"background-color":"#eaeff5"}},Ae.data.PESO+"Kg."),e("th",{style:{"background-color":"#a8bed6"}},"Altura:"),e("td",{style:{"background-color":"#eaeff5"}},Ae.data.ALTURA+"m."),e("th",{style:{"background-color":"#a8bed6"}},"Ubicaci\xF3n:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Ae.data.SECTOR+" "+Ae.data.UBICACION)]),e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","EX\xC1MENES Y OBSERVACIONES:")]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Ex\xE1menes:"),e("td[colspan='8']",{style:{"background-color":"#eaeff5"}},e(pd))]),e("tr.d-print-none.bg-litecoin.op-9.tx-white.",[e("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),e("tr.d-print-none",[e("td[colspan='9']",{style:{"background-color":"#eaeff5"}},e("ul.nav.nav-tabs[id='myTab'][role='tablist']",[e("li.nav-item",e("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},e("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005"))]))]),e("tr.d-print-none",[e("td[colspan='9']",{},e(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[e(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[e(Xt)])]))]),e("tr.d-print-none",[])])])])])])])])]))]},fd={view:()=>[m("div.content.content-components",m("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[m("ol.breadcrumb.df-breadcrumbs.mg-b-10",[m("li.breadcrumb-item",m(m.route.Link,{href:"/"},["MetroPlus"])),m("li.breadcrumb-item.active[aria-current='page']","Imagen")]),m("h1.df-title.mg-t-20.mg-b-10","Imagen:"),m("div.row.tx-14",[C.isShow("imagen",24)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/imagen/pedidos")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-inbox tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Recepci\xF3n de Pedidos"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepci\xF3n de Pedidos")])])])]:[],C.isShow("imagen",31)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/imagen/agendamiento")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-calendar tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Agendamiento de Imagen"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Agendamiento de Imagen")])])])]:[],C.isShow("imagen",35)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/imagen/notificaciones")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-bell tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Notificaciones de Imagen"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones de Imagen")])])])]:[]])]))]},bd={oninit:()=>{_.page="",Ft.page="",C.isAuth()},oncreate:()=>{document.title="Imagen | "+C.title},view:()=>[m(_,{oncreate:_.setPage("imagen")}),m(Ft),m(fd)]},hd={view:()=>[m("div.content.content-components",m("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[m("ol.breadcrumb.df-breadcrumbs.mg-b-10",[m("li.breadcrumb-item",m(m.route.Link,{href:"/"},["MetroPlus"])),m("li.breadcrumb-item.active[aria-current='page']","Neurofisiolog\xEDa")]),m("h1.df-title.mg-t-20.mg-b-10","Neurofisiolog\xEDa:"),m("div.row.tx-14",[C.isShow("neurofisiologia",20)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/neurofisiologia/pedidos")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-inbox tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Recepci\xF3n de Pedidos"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepci\xF3n de Pedidos")])])])]:[]])]))]},gd={oninit:()=>{_.page="",Lt.page="",C.isAuth()},oncreate:()=>{document.title="Neurofisiolog\xEDa | "+C.title},view:()=>[m(_,{oncreate:_.setPage("neurofisiologia")}),m(Lt),m(hd)]},qe={secs:[],nombres:"",show:!1,view:()=>{let t="",a="",o="";return at.num==0&&setTimeout(function(){at.num=at.data.length,at.parseFetch(),e.redraw.sync()},2e3),qe.secs.length==0?[e("div.pd-10.wd-100p",e("div.d-inline.tx-secondary.tx-12",{oncreate:r=>{r.dom.innerHTML="Procesando "+at.data.length+" formulario(s) encontrado(s)..."}}),e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]:[qe.secs.map(function(r,i,s){if(r.name=="prescripciones_texto"&&(a=r.answer),r.name=="evolucion_medica_texto"&&(t=r.answer),r.name=="cd_documento_clinico"&&(o="http://172.16.253.18/mvpep/api/clinical-documents/"+r.answer+".pdf?company=1&department=75"),r.name=="Logotipo_archivo")return[e("div.d-inline.tx-secondary.tx-12",{oncreate:c=>{c.dom.innerHTML=at.data.length+" formulario(s) encontrado(s)."}}),e("table.table.table-bordered.wd-100p",{style:{zoom:at.zoom}},[e("thead",[e("tr",e("th[colspan='12'][scope='col']",[e("i.tx-light.fas.fa-file-alt.mg-r-2."),e("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),e("tr",[e("th[colspan='10'][scope='col']",e("div.m-0.p-0",e("img",{width:"100rem",src:"data:image/png;base64,"+r.answer}))),e("th.tx-right[colspan='2'][scope='col']",e("a.tx-right.tx-semibold",{href:o,target:"_blank"},e("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),e("tbody",[e("tr",[e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ESTABLECIMIENTO")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NOMBRE")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","APELLIDO")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","SEXO (M-F)")),e("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NHCL.")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ADM."))]),e("tr",[e("th.text-center[colspan='3'][scope='row']",e("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",qe.nombres)),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",qe.apellidos_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",qe.sexo)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",qe.nhcl)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",qe.numero_admision))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","EDAD")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","UBICACION")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),e("tr",[e("td.text-center[colspan='1'][scope='row']",e("div.m-0.p-0.text-center",qe.edad||qe.edad_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",qe.identificacion)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",qe.fecha_admision)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",qe.fecha_admision)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",qe.ubicacion)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",qe.medico_tratante))]),e("tr",[e("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCI\xD3N")),e("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",e("br"),"CADA PRESCRIPCI\xD3N"]))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FECHA",e("br"),"d\xEDa/mes/a\xF1o"])),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","HORA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCI\xD3N")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",e("br"),"(PARA ENFERMER\xCDA Y OTRO PERSONAL)"])),e("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",e("br"),"F\xC1RMACOS INSUMOS"]))]),e("tr",[e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.tx-bold.text-justify",t!==null&&t.length!==0?e.trust(t.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.text-justify",a!==null&&a.length!==0?e.trust(a.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},at={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:t=>(Object.keys(t.data).map(function(a,o,r){qe.secs.push(t.data[a])}),qe.secs.map(function(a,o,r){a.name=="nombres"&&(qe.nombres=a.answer),a.name=="apellidos_paciente"&&(qe.apellidos_paciente=a.answer),a.name=="sexo de paciente"&&(qe.sexo=a.answer),a.name=="nhcl"&&(qe.nhcl=a.answer),a.name=="numero_admision"&&(qe.numero_admision=a.answer),a.name=="edad"&&(qe.edad=a.answer),a.name=="edad_paciente"&&(qe.edad_paciente=a.answer),a.name=="identificacion_paciente"&&(qe.identificacion=a.answer),a.name=="fecha_admision"&&(qe.fecha_admision=a.answer),a.name=="ubicacion_atencion"&&(qe.ubicacion=a.answer),a.name=="fecha_alta"&&(qe.fecha_alta=a.answer==null?"":a.answer),a.name=="medico_tratante"&&(qe.medico_tratante=a.answer)})),parseFetch:()=>(qe.secs=[],at.data.map(function(t,a,o){at.parseDoc(at.data[a])})),fetch:()=>{at.data=[],at.error="",e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+at.nhc+"&adm="+at.adm,headers:{Authorization:localStorage.accessToken}}).then(function(t){t.length!==0?(at.data=t,at.num=0):at.error="El documento solicitado no esta disponible."}).catch(function(t){setTimeout(function(){at.fetch()},5e3)})},view:()=>at.error?[e(".alert.alert-danger[role='alert']",at.error)]:at.data.length!==0?[e(qe)]:[e("div.d-inline.tx-secondary.tx-12",{oncreate:t=>{t.dom.innerHTML="Buscando informaci\xF3n..."}}),e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},Kt={data:[],detalle:[],error:"",showFor:"",fetch:()=>{Kt.data=[],Kt.error="",e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:ke.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(t){t.status?(Kt.data=t.data,at.adm=Kt.data[0].ADM,at.nhc=Kt.data[0].NHCL,at.fetch()):Kt.error=t.message}).catch(function(t){setTimeout(function(){Kt.fetch()},5e3)})},view:()=>Kt.error?[e(".alert.alert-danger[role='alert']",Kt.error)]:Kt.data.length!==0?[e(at)]:[e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},vd={view:()=>{if(ke.examenes.length!==0)return ke.examenes.map(function(t,a,o){return[e(".tx-14.tx-semibold.d-inline",t.EXAMEN),e("br"),t.OBS_EXAMEN!==null?e(".d-inline","Observaciones:"):"",t.OBS_EXAMEN!==null?e("br"):"",t.OBS_EXAMEN!==null?e(".d-inline",t.OBS_EXAMEN):""]})}},ke={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:t=>{t.attrs.numeroPedido!==void 0&&(document.title="Detalle de Pedidos N\xB0: "+t.attrs.numeroPedido+" | "+C.title,(ke.data!==void 0&&ke.data.length==0||ke.numeroPedido!==t.attrs.numeroPedido)&&(ke.numeroPedido=t.attrs.numeroPedido,ke.numeroAtencion=t.attrs.numeroAtencion,ke.numeroHistoriaClinica=t.attrs.numeroHistoriaClinica,ke.fetch()))},fetch:()=>{ke.data=[],ke.loader=!0,e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-neuro",body:{numeroPedido:ke.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status?(ke.loader=!1,ke.data=t.data,ke.examenes=t.examenes,Kt.fetch()):ke.error=t.message}).catch(function(t){})},view:t=>[e(_,{oncreate:_.setPage("neurofisiologia")}),e(Lt,{oncreate:Lt.setPage(20)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/neurofisiologia"},["Neurofisiolog\xEDa"])),e("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),e("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N\xB0: "+ke.numeroPedido),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",{oncreate:a=>{ke.loader?a.dom.hidden=!1:a.dom.hidden=!0},onupdate:a=>{ke.loader?a.dom.hidden=!1:a.dom.hidden=!0}},[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])]),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:a=>{ke.loader?a.dom.hidden=!0:a.dom.hidden=!1},onupdate:a=>{ke.loader?a.dom.hidden=!0:a.dom.hidden=!1}},[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{z.idFiltro!==void 0&&z.idFiltro>1?e.route.set("/neurofisiologia/pedidos/",{idFiltro:z.idFiltro,fechaDesde:z.fechaDesde,fechaHasta:z.fechaHasta}):e.route.set("/neurofisiologia/pedidos/",{idFiltro:1})}}))),ke.data.TIPO_NeuroPedido=="N"?[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[e("i.fas.fa-file-alt.mg-r-5")],"NeuroPedido Urgente")]:[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[e("i.fas.fa-file-alt.mg-r-5")],"NeuroPedido Normal")],e("div.table-responsive",[e("table.table.table-bordered.table-sm.tx-12",[e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS DEL NeuroPedido:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 de NeuroPedido:"),e("td",{style:{"background-color":"#eaeff5"}},ke.data.CD_PRE_MED),e("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},ke.data.FECHA_PEDIDO+" "+ke.data.HORA_PEDIDO),e("th",{style:{"background-color":"#a8bed6"}},"Origen:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},ke.data.SECTOR)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"M\xE9dico Solicitante:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},ke.data.MED_MV),e("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},ke.data.ESPECIALIDAD)])]),e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},ke.data.NM_PACIENTE),e("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),e("td",{style:{"background-color":"#eaeff5"}},ke.data.EDAD),e("th",{style:{"background-color":"#a8bed6"}},"NHC:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},ke.data.CD_PACIENTE)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 Atenci\xF3n:"),e("td",{style:{"background-color":"#eaeff5"}},ke.data.AT_MV),e("th",{style:{"background-color":"#a8bed6"}},"Peso:"),e("td",{style:{"background-color":"#eaeff5"}},ke.data.PESO),e("th",{style:{"background-color":"#a8bed6"}},"Altura:"),e("td",{style:{"background-color":"#eaeff5"}},ke.data.ALTURA),e("th",{style:{"background-color":"#a8bed6"}},"Ubicaci\xF3n:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},ke.data.SECTOR+" "+ke.data.UBICACION)]),e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","EX\xC1MENES Y OBSERVACIONES:")]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Ex\xE1menes:"),e("td[colspan='8']",{style:{"background-color":"#eaeff5"}},e(vd))]),e("tr.d-print-none.bg-litecoin.op-9.tx-white.",[e("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),e("tr.d-print-none",[e("td[colspan='9']",{style:{"background-color":"#eaeff5"}},e("ul.nav.nav-tabs[id='myTab'][role='tablist']",[e("li.nav-item",e("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},e("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005"))]))]),e("tr.d-print-none",[e("td[colspan='9']",{},e(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[e(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[e(Kt)])]))]),e("tr.d-print-none",[])])])])])])])])]))]},xd={view:()=>[m("div.content.content-components",m("div.container",{style:{"max-width":"100%"}},[m("ol.breadcrumb.df-breadcrumbs.mg-b-10",[m("li.breadcrumb-item",m(m.route.Link,{href:"/"},["MetroPlus"])),m("li.breadcrumb-item.active[aria-current='page']","Terapia Respiratoria")]),m("h1.df-title.mg-t-20.mg-b-10","Terapia Respiratoria:"),m("div.row.tx-14",[C.isShow("terapia-respiratoria",18)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/terapia-respiratoria/pedidos")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-inbox tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Recepci\xF3n de Pedidos"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepci\xF3n de Pedidos")])])])]:[]])]))]},yd={oninit:()=>{_.page="",Rt.page="",C.isAuth()},oncreate:()=>{document.title="Terapia Respiratoria | "+C.title},view:()=>[m(_,{oncreate:_.setPage("terapia-respiratoria")}),m(Rt),m(xd)]},Je={secs:[],nombres:"",show:!1,view:()=>{let t="",a="",o="";return ot.num==0&&setTimeout(function(){ot.num=ot.data.length,ot.parseFetch(),e.redraw.sync()},2e3),Je.secs.length==0?[e("div.pd-10.wd-100p",e("div.d-inline.tx-secondary.tx-12",{oncreate:r=>{r.dom.innerHTML="Procesando "+ot.data.length+" formulario(s) encontrado(s)..."}}),e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]:[Je.secs.map(function(r,i,s){if(r.name=="prescripciones_texto"&&(a=r.answer),r.name=="evolucion_medica_texto"&&(t=r.answer),r.name=="cd_documento_clinico"&&(o="http://172.16.253.18/mvpep/api/clinical-documents/"+r.answer+".pdf?company=1&department=75"),r.name=="Logotipo_archivo")return[e("div.d-inline.tx-secondary.tx-12",{oncreate:c=>{c.dom.innerHTML=ot.data.length+" formulario(s) encontrado(s)."}}),e("table.table.table-bordered.wd-100p",{style:{zoom:ot.zoom}},[e("thead",[e("tr",e("th[colspan='12'][scope='col']",[e("i.tx-light.fas.fa-file-alt.mg-r-2."),e("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),e("tr",[e("th[colspan='10'][scope='col']",e("div.m-0.p-0",e("img",{width:"100rem",src:"data:image/png;base64,"+r.answer}))),e("th.tx-right[colspan='2'][scope='col']",e("a.tx-right.tx-semibold",{href:o,target:"_blank"},e("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),e("tbody",[e("tr",[e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ESTABLECIMIENTO")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NOMBRE")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","APELLIDO")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","SEXO (M-F)")),e("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NHCL.")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ADM."))]),e("tr",[e("th.text-center[colspan='3'][scope='row']",e("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",Je.nombres)),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",Je.apellidos_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Je.sexo)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Je.nhcl)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Je.numero_admision))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","EDAD")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","UBICACION")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),e("tr",[e("td.text-center[colspan='1'][scope='row']",e("div.m-0.p-0.text-center",Je.edad||Je.edad_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Je.identificacion)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Je.fecha_admision)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Je.fecha_admision)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",Je.ubicacion)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",Je.medico_tratante))]),e("tr",[e("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCI\xD3N")),e("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",e("br"),"CADA PRESCRIPCI\xD3N"]))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FECHA",e("br"),"d\xEDa/mes/a\xF1o"])),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","HORA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCI\xD3N")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",e("br"),"(PARA ENFERMER\xCDA Y OTRO PERSONAL)"])),e("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",e("br"),"F\xC1RMACOS INSUMOS"]))]),e("tr",[e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.tx-bold.text-justify",t!==null&&t.length!==0?e.trust(t.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.text-justify",a!==null&&a.length!==0?e.trust(a.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},ot={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:t=>(Object.keys(t.data).map(function(a,o,r){Je.secs.push(t.data[a])}),Je.secs.map(function(a,o,r){a.name=="nombres"&&(Je.nombres=a.answer),a.name=="apellidos_paciente"&&(Je.apellidos_paciente=a.answer),a.name=="sexo de paciente"&&(Je.sexo=a.answer),a.name=="nhcl"&&(Je.nhcl=a.answer),a.name=="numero_admision"&&(Je.numero_admision=a.answer),a.name=="edad"&&(Je.edad=a.answer),a.name=="edad_paciente"&&(Je.edad_paciente=a.answer),a.name=="identificacion_paciente"&&(Je.identificacion=a.answer),a.name=="fecha_admision"&&(Je.fecha_admision=a.answer),a.name=="ubicacion_atencion"&&(Je.ubicacion=a.answer),a.name=="fecha_alta"&&(Je.fecha_alta=a.answer==null?"":a.answer),a.name=="medico_tratante"&&(Je.medico_tratante=a.answer)})),parseFetch:()=>(Je.secs=[],ot.data.map(function(t,a,o){ot.parseDoc(ot.data[a])})),fetch:()=>{ot.data=[],ot.error="",e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+ot.nhc+"&adm="+ot.adm,headers:{Authorization:localStorage.accessToken}}).then(function(t){t.length!==0?(ot.data=t,ot.num=0):ot.error="El documento solicitado no esta disponible."}).catch(function(t){setTimeout(function(){ot.fetch()},5e3)})},view:()=>ot.error?[e(".alert.alert-danger[role='alert']",ot.error)]:ot.data.length!==0?[e(Je)]:[e("div.d-inline.tx-secondary.tx-12",{oncreate:t=>{t.dom.innerHTML="Buscando informaci\xF3n..."}}),e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},Wt={data:[],detalle:[],error:"",showFor:"",fetch:()=>{Wt.data=[],Wt.error="",e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:Se.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(t){t.status?(Wt.data=t.data,ot.adm=Wt.data[0].ADM,ot.nhc=Wt.data[0].NHCL,ot.fetch()):Wt.error=t.message}).catch(function(t){setTimeout(function(){Wt.fetch()},5e3)})},view:()=>Wt.error?[e(".alert.alert-danger[role='alert']",Wt.error)]:Wt.data.length!==0?[e(ot)]:[e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},wd={view:()=>{if(Se.examenes.length!==0)return Se.examenes.map(function(t,a,o){return[e(".tx-14.tx-semibold.d-inline",t.EXAMEN),e("br"),t.OBS_EXAMEN!==null?e(".d-inline","Observaciones:"):"",t.OBS_EXAMEN!==null?e("br"):"",t.OBS_EXAMEN!==null?e(".d-inline",t.OBS_EXAMEN):""]})}},Se={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:t=>{C.isAuth(),t.attrs.numeroPedido!==void 0&&(document.title="Detalle de Pedidos N\xB0: "+t.attrs.numeroPedido+" | "+C.title,(Se.data!==void 0&&Se.data.length==0||Se.numeroPedido!==t.attrs.numeroPedido)&&(Se.numeroPedido=t.attrs.numeroPedido,Se.numeroAtencion=t.attrs.numeroAtencion,Se.numeroHistoriaClinica=t.attrs.numeroHistoriaClinica,Se.fetch()))},fetch:()=>{Se.data=[],Se.loader=!0,e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-tr",body:{numeroPedido:Se.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status?(Se.loader=!1,Se.data=t.data,Se.examenes=t.examenes,Wt.fetch()):Se.error=t.message}).catch(function(t){})},view:t=>[e(_,{oncreate:_.setPage("imagen")}),e(Rt,{oncreate:Rt.setPage(24)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/terapia-respiratoria"},["Terapia Respiratoria"])),e("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),e("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N\xB0: "+Se.numeroPedido),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",{oncreate:a=>{Se.loader?a.dom.hidden=!1:a.dom.hidden=!0},onupdate:a=>{Se.loader?a.dom.hidden=!1:a.dom.hidden=!0}},[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])]),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:a=>{Se.loader?a.dom.hidden=!0:a.dom.hidden=!1},onupdate:a=>{Se.loader?a.dom.hidden=!0:a.dom.hidden=!1}},[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{J.idFiltro!==void 0&&J.idFiltro>1?e.route.set("/terapia-respiratoria/pedidos/",{idFiltro:J.idFiltro,fechaDesde:J.fechaDesde,fechaHasta:J.fechaHasta}):e.route.set("/terapia-respiratoria/pedidos/",{idFiltro:1})}}))),Se.data.TIPO_PEDIDO=="N"?[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[e("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")]:[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[e("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")],e("div.table-responsive",[e("table.table.table-bordered.table-sm.tx-12",[e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS DEL PEDIDO:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 de Pedido:"),e("td",{style:{"background-color":"#eaeff5"}},Se.data.CD_PRE_MED),e("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Se.data.FECHA_PEDIDO+" "+Se.data.HORA_PEDIDO),e("th",{style:{"background-color":"#a8bed6"}},"Origen:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Se.data.SECTOR)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"M\xE9dico Solicitante:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Se.data.MED_MV),e("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Se.data.ESPECIALIDAD)])]),e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Se.data.NM_PACIENTE),e("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),e("td",{style:{"background-color":"#eaeff5"}},Se.data.EDAD),e("th",{style:{"background-color":"#a8bed6"}},"NHC:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Se.data.CD_PACIENTE)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 Atenci\xF3n:"),e("td",{style:{"background-color":"#eaeff5"}},Se.data.AT_MV),e("th",{style:{"background-color":"#a8bed6"}},"Peso:"),e("td",{style:{"background-color":"#eaeff5"}},Se.data.PESO),e("th",{style:{"background-color":"#a8bed6"}},"Altura:"),e("td",{style:{"background-color":"#eaeff5"}},Se.data.ALTURA),e("th",{style:{"background-color":"#a8bed6"}},"Ubicaci\xF3n:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Se.data.SECTOR+" "+Se.data.UBICACION)]),e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","EX\xC1MENES Y OBSERVACIONES:")]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Ex\xE1menes:"),e("td[colspan='8']",{style:{"background-color":"#eaeff5"}},e(wd))]),e("tr.d-print-none.bg-litecoin.op-9.tx-white.",[e("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),e("tr.d-print-none",[e("td[colspan='9']",{style:{"background-color":"#eaeff5"}},e("ul.nav.nav-tabs[id='myTab'][role='tablist']",[e("li.nav-item",e("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},e("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005"))]))]),e("tr.d-print-none",[e("td[colspan='9']",{},e(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[e(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[e(Wt)])]))]),e("tr.d-print-none",[])])])])])])])])]))]},_d={view:()=>{let t=Qe.getDataUser();if(t.length!==0)return[t.modulesAccess.endoscopia.map(function(a,o,r){return[m(m.route.Link,{href:"/"+a.href,class:Ot.page==a.idModulo?"active":""},[a.label])]})]}},Ot={page:"",setPage:t=>{Ot.page=t},view:()=>[m(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[m("div.sidebar-header",[m("a[href=''][id='mainMenuOpen']",m("i[data-feather='menu']")),m("h5","Menu"),m("a[href=''][id='sidebarMenuClose']",m("i[data-feather='x']"))]),m("div.sidebar-body",m("ul.sidebar-nav",[m("li.nav-label.mg-b-15","Endoscop\xEDa"),m("li.nav-item.show",[m(m.route.Link,{href:"/endoscopia",class:"nav-link with-sub"},[m("i[data-feather='layout']")," Endoscop\xEDa "]),m("nav.nav",[m(_d)])])]))])]},Pd={view:()=>[m("div.content.content-components",m("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[m("ol.breadcrumb.df-breadcrumbs.mg-b-10",[m("li.breadcrumb-item",m(m.route.Link,{href:"/"},["MetroPlus"])),m("li.breadcrumb-item.active[aria-current='page']","Endoscop\xEDa")]),m("h1.df-title.mg-t-20.mg-b-10","Endoscop\xEDa:"),m("div.row.tx-14",[C.isShow("endoscopia",25)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/endoscopia/pedidos")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-inbox tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Recepci\xF3n de Pedidos"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepci\xF3n de Pedidos")])])])]:[]])]))]},Ed={oninit:()=>{_.page="",Ot.page="",C.isAuth()},oncreate:()=>{document.title="Endoscop\xEDa | "+C.title},view:()=>[m(_,{oncreate:_.setPage("endoscopia")}),m(Ot),m(Pd)]};function Md(){return{interval:null,seconds:100,isPaused:!1}}const qa={showFilter:!0,showSearch:!0,show:!1,increment(t){t.seconds--,t.seconds==0&&window.location.reload(),e.redraw()},start(t){t.interval=setInterval(qa.increment,1e3,t)},stop(t){t.interval=clearInterval(t.interval)},reset(t){t.seconds=100},toggle(t){t.isPaused?qa.start(t):qa.stop(t),t.isPaused=!t.isPaused}};function Dd(){const t=Md();return qa.start(t),{view(){return[e("div.mg-b-0",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualizaci\xF3n en:")]),e("div.d-flex.justify-content-between.mg-b-5",[e("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),e("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-15",t.isPaused?[e("i.fas.fa-play.pd-2",{title:"Start",onclick(){qa.toggle(t)},style:{cursor:"pointer"}})]:[e("i.fas.fa-pause.pd-2",{title:"Pause",onclick(){qa.toggle(t)},style:{cursor:"pointer"}})]))]),e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:a=>{a.dom.style.width="100%"},onupdate:a=>{a.dom.style.width=t.seconds+"%"}}))])]},onremove(){qa.stop(t)}}}const Td={oncreate:()=>{if(X.loadPedidos(),X.searchField.length!==0){var t=$("#table-pedidos").DataTable();t.search(X.searchField).draw()}},view:()=>e("div.row.animated.fadeInUp",{},[e("div.col-12",[e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[e("h5.mg-b-0","Pedidos de Endoscop\xEDa:",e("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:t=>{X.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),X.idFiltro==2&&(t.dom.innerHTML="Pedidos entre Fechas"),X.idFiltro==3&&(t.dom.innerHTML="Pedidos de Emergencia"),X.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa"),X.idFiltro==5&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n")},onupdate:t=>{X.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),X.idFiltro==2&&(t.dom.innerHTML="Pedidos entre Fechas"),X.idFiltro==3&&(t.dom.innerHTML="Pedidos de Emergencia"),X.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa"),X.idFiltro==5&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n")}})),e("div.d-flex.tx-14",[e(".",{class:X.idFiltro==1?"d-none":"d-flex"},[e("div.link-03",{title:"Desde"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),e("div.link-03",{style:{cursor:"pointer"},title:"Desde"},e("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:t=>{t.dom.value=X.idFiltro!==1?moment(moment(X.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{X.fechaDesde=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),X.loader=!0,X.pedidos=[],X.fetchPedidos(),e.route.set("/endoscopia/pedidos?idFiltro="+X.idFiltro+"&fechaDesde="+X.fechaDesde+"&fechaHasta="+X.fechaHasta)},style:{border:"transparent"}})),e("div.link-03",{title:"Hasta"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),e("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},e("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:t=>{t.dom.value=X.idFiltro!==1?moment(moment(X.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{X.fechaHasta=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),X.loader=!0,X.pedidos=[],X.fetchPedidos(),e.route.set("/endoscopia/pedidos?idFiltro="+X.idFiltro+"&fechaDesde="+X.fechaDesde+"&fechaHasta="+X.fechaHasta)},style:{border:"transparent"}}))]),e("div.dropdown.dropleft",[e("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},e("i.fas.fa-filter.tx-18.pd-5")),e(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[e("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),e(e.route.Link,{class:"dropdown-item",href:"/imagen/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),e(e.route.Link,{class:"dropdown-item",href:"/imagen/pedidos/?idFiltro=2&fechaDesde="+X.fechaDesde+"&fechaHasta="+X.fechaHasta},["Pedidos entre Fechas"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=3&fechaDesde="+X.fechaDesde+"&fechaHasta="+X.fechaHasta},["Pedidos de Emergencia"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=4&fechaDesde="+X.fechaDesde+"&fechaHasta="+X.fechaHasta},["Pedidos de C. Externa"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=5&fechaDesde="+X.fechaDesde+"&fechaHasta="+X.fechaHasta},["Pedidos de Hospitalizaci\xF3n"])])])])]),e("div.col-sm-12.filemgr-content-header",{class:X.idFiltro==1?"mg-t-35":"mg-t-40"},[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(t){X.searchField=t.target.value},value:X.searchField}))]),e("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])},X={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:t=>{Ot.page="",X.pedidos.length==0&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),X.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),X.fechaHasta=moment().format("DD-MM-YYYY"),X.loader=!0,X.pedidos=[],X.fetchPedidos())},oncreate:t=>{vt.suscribirCanal("MetroPlus-Endoscopia")},loadPedidos:()=>{$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:X.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(a,o,r){return r.CD_PRE_MED},visible:!1,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(a,o,r){return r.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){X.loader=!1,a.aoData.map(function(o){$(o.anCells[5]).css("padding","0").css("background-color","#f7fafe"),e.mount(o.anCells[5],{view:function(){return[e("div.d-flex",{},[e("div.pd-0.flex-grow-1",e("div.pd-2",{style:{"background-color":"rgb(168, 190, 214)"}},e("i.fas.fa-file-alt.tx-semibold.tx-15.pd-2.mg-r-5"),e(".d-inline.tx-15.mg-r-5",o._aData.CD_PRE_MED),e("i.fas.fa-hospital.tx-semibold.tx-12.pd-2"),e(".tx-semibold.d-inline.tx-12"," SECTOR: "),e(".d-inline.tx-12.mg-r-5",o._aData.SECTOR+" "+o._aData.UBICACION),e("i.fas.fa-user-md.tx-semibold.tx-12.pd-2"),e(".tx-semibold.d-inline.tx-12"," MED: "),o._aData.MED_MV)),e("div.pd-2.tx-medium.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},o._aData.EDAD+" - "+o._aData.PESO+" - "+o._aData.ALTURA)]),e("div.d-flex.mg-b-20",{style:{"background-color":"rgb(234, 239, 245)"}},[e("div.pd-0.flex-grow-1",e("td.wd-1p.tx-white",{style:{"background-color":o._aData.SECTOR=="EMERGENCIA"?"#f10075":"#0168fa"}},o._aData.SECTOR=="EMERGENCIA"?"E":"H"),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"FECHA:"),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.FECHA_PEDIDO+" "+o._aData.HORA_PEDIDO),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"NHC:"),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.CD_PACIENTE),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"N\xB0 AT.: "),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.AT_MV),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"PTE: "),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.NM_PACIENTE)),e("div.pd-0.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},e("td.tx-10",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"},onclick:()=>{e.route.set("/endoscopia/pedido/",{numeroHistoriaClinica:o._aData.CD_PACIENTE,numeroAtencion:o._aData.AT_MV,numeroPedido:o._aData.CD_PRE_MED,track:"view"})}},e(".tx-normal",e("i.fas.fa-file-alt.pd-1.mg-r-2"),"Ver Pedido")))])]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){t.search($("#searchField").val()).draw()}),t},fetchPedidos:()=>{let t="";X.idFiltro==1?t="?idFiltro="+X.idFiltro:t="?idFiltro="+X.idFiltro+"&fechaDesde="+X.fechaDesde+"&fechaHasta="+X.fechaHasta,e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/endoscopia/pedidos"+t,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(a){X.loader=!1,X.pedidos=a.data}).catch(function(a){setTimeout(function(){X.fetchPedidos()},2e3)})},reloadData:()=>{var t=$("#table-pedidos").DataTable();t.clear(),t.rows.add(X.pedidos).draw()},view:t=>X.loader?[e(Ot,{oncreate:Ot.setPage(25)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/endoscopia"},[" Endoscop\xEDa "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:X.error.length!==0?[e(Ot,{oncreate:Ot.setPage(25)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/endoscopia"},[" Endoscop\xEDa "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("p","No existe infrmac dd ncin")])]))]:!X.loader&&X.pedidos.length!==0?[e(Ot,{oncreate:Ot.setPage(25)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/endoscopia"},[" Endoscop\xEDa "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e(Td)])),e("div.section-nav",[e("label.nav-label","RECEPCI\xD3N DE PEDIDOS"),e("div.mg-t-10.bg-white",{},e("div.mg-t-10.bg-white",e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","N\xB0 de Pedidos:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",X.pedidos.length),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Pedido(s)")])])])),e("div.pd-20",e(Dd)))])]:!X.loader&&X.pedidos.length==0?[e(Ot,{oncreate:Ot.setPage(25)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/endoscopia"},[" Endoscop\xEDa "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e(".alert.alert-danger[role='alert']","No existe informaci\xF3n disponible.")])])]))]:[e(Ot,{oncreate:Ot.setPage(25)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/endoscopia"},[" Endoscop\xEDa "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("p"," Error interno.")])])]))]},ze={secs:[],nombres:"",show:!1,view:()=>{let t="",a="",o="";return rt.num==0&&setTimeout(function(){rt.num=rt.data.length,rt.parseFetch(),e.redraw.sync()},2e3),ze.secs.length==0?[e("div.pd-10.wd-100p",e("div.d-inline.tx-secondary.tx-12",{oncreate:r=>{r.dom.innerHTML="Procesando "+rt.data.length+" formulario(s) encontrado(s)..."}}),e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]:[ze.secs.map(function(r,i,s){if(r.name=="prescripciones_texto"&&(a=r.answer),r.name=="evolucion_medica_texto"&&(t=r.answer),r.name=="cd_documento_clinico"&&(o="http://172.16.253.18/mvpep/api/clinical-documents/"+r.answer+".pdf?company=1&department=75"),r.name=="Logotipo_archivo")return[e("div.d-inline.tx-secondary.tx-12",{oncreate:c=>{c.dom.innerHTML=rt.data.length+" formulario(s) encontrado(s)."}}),e("table.table.table-bordered.wd-100p",{style:{zoom:rt.zoom}},[e("thead",[e("tr",e("th[colspan='12'][scope='col']",[e("i.tx-light.fas.fa-file-alt.mg-r-2."),e("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),e("tr",[e("th[colspan='10'][scope='col']",e("div.m-0.p-0",e("img",{width:"100rem",src:"data:image/png;base64,"+r.answer}))),e("th.tx-right[colspan='2'][scope='col']",e("a.tx-right.tx-semibold",{href:o,target:"_blank"},e("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),e("tbody",[e("tr",[e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ESTABLECIMIENTO")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NOMBRE")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","APELLIDO")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","SEXO (M-F)")),e("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NHCL.")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ADM."))]),e("tr",[e("th.text-center[colspan='3'][scope='row']",e("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",ze.nombres)),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",ze.apellidos_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",ze.sexo)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",ze.nhcl)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",ze.numero_admision))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","EDAD")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","UBICACION")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),e("tr",[e("td.text-center[colspan='1'][scope='row']",e("div.m-0.p-0.text-center",ze.edad||ze.edad_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",ze.identificacion)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",ze.fecha_admision)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",ze.fecha_admision)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",ze.ubicacion)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",ze.medico_tratante))]),e("tr",[e("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCI\xD3N")),e("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",e("br"),"CADA PRESCRIPCI\xD3N"]))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FECHA",e("br"),"d\xEDa/mes/a\xF1o"])),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","HORA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCI\xD3N")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",e("br"),"(PARA ENFERMER\xCDA Y OTRO PERSONAL)"])),e("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",e("br"),"F\xC1RMACOS INSUMOS"]))]),e("tr",[e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.tx-bold.text-justify",t!==null&&t.length!==0?e.trust(t.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.text-justify",a!==null&&a.length!==0?e.trust(a.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},rt={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:t=>(Object.keys(t.data).map(function(a,o,r){ze.secs.push(t.data[a])}),ze.secs.map(function(a,o,r){a.name=="nombres"&&(ze.nombres=a.answer),a.name=="apellidos_paciente"&&(ze.apellidos_paciente=a.answer),a.name=="sexo de paciente"&&(ze.sexo=a.answer),a.name=="nhcl"&&(ze.nhcl=a.answer),a.name=="numero_admision"&&(ze.numero_admision=a.answer),a.name=="edad"&&(ze.edad=a.answer),a.name=="edad_paciente"&&(ze.edad_paciente=a.answer),a.name=="identificacion_paciente"&&(ze.identificacion=a.answer),a.name=="fecha_admision"&&(ze.fecha_admision=a.answer),a.name=="ubicacion_atencion"&&(ze.ubicacion=a.answer),a.name=="fecha_alta"&&(ze.fecha_alta=a.answer==null?"":a.answer),a.name=="medico_tratante"&&(ze.medico_tratante=a.answer)})),parseFetch:()=>(ze.secs=[],rt.data.map(function(t,a,o){rt.parseDoc(rt.data[a])})),fetch:()=>{rt.data=[],rt.error="",e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+rt.nhc+"&adm="+rt.adm,headers:{Authorization:localStorage.accessToken}}).then(function(t){t.length!==0?(rt.data=t,rt.num=0):rt.error="El documento solicitado no esta disponible."}).catch(function(t){setTimeout(function(){rt.fetch()},5e3)})},view:()=>rt.error?[e(".alert.alert-danger[role='alert']",rt.error)]:rt.data.length!==0?[e(ze)]:[e("div.d-inline.tx-secondary.tx-12",{oncreate:t=>{t.dom.innerHTML="Buscando informaci\xF3n..."}}),e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},Zt={data:[],detalle:[],error:"",showFor:"",fetch:()=>{Zt.data=[],Zt.error="",e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:Ie.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(t){t.status?(Zt.data=t.data,rt.adm=Zt.data[0].ADM,rt.nhc=Zt.data[0].NHCL,rt.fetch()):Zt.error=t.message}).catch(function(t){setTimeout(function(){Zt.fetch()},5e3)})},view:()=>Zt.error?[e(".alert.alert-danger[role='alert']",Zt.error)]:Zt.data.length!==0?[e(rt)]:[e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},Ad={view:()=>{if(Ie.examenes.length!==0)return Ie.examenes.map(function(t,a,o){return[e(".tx-14.tx-semibold.d-inline",t.EXAMEN),t.OBS_EXAMEN!==null?[e("br"),e(".d-inline","Observaciones:"),e("br"),e(".d-inline",t.OBS_EXAMEN),e("br"),e("br")]:""]})}},Ie={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:t=>{t.attrs.numeroPedido!==void 0&&(document.title="Detalle de Pedido N\xB0: "+t.attrs.numeroPedido+" | "+C.title,(Ie.data!==void 0&&Ie.data.length==0||Ie.numeroPedido!==t.attrs.numeroPedido)&&(Ie.numeroPedido=t.attrs.numeroPedido,Ie.numeroAtencion=t.attrs.numeroAtencion,Ie.numeroHistoriaClinica=t.attrs.numeroHistoriaClinica,Ie.fetch()))},fetch:()=>{Ie.data=[],Ie.loader=!0,e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-endoscopia",body:{numeroPedido:Ie.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status?(Ie.loader=!1,Ie.data=t.data,Ie.examenes=t.examenes,Zt.fetch()):Ie.error=t.message}).catch(function(t){})},view:t=>[e(_,{oncreate:_.setPage("endoscopia")}),e(Ot,{oncreate:Ot.setPage(25)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/endoscopia"},[" Endoscop\xEDa"])),e("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),e("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N\xB0: "+Ie.numeroPedido),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",{oncreate:a=>{Ie.loader?a.dom.hidden=!1:a.dom.hidden=!0},onupdate:a=>{Ie.loader?a.dom.hidden=!1:a.dom.hidden=!0}},[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])]),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:a=>{Ie.loader?a.dom.hidden=!0:a.dom.hidden=!1},onupdate:a=>{Ie.loader?a.dom.hidden=!0:a.dom.hidden=!1}},[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{X.idFiltro!==void 0&&X.idFiltro>1?e.route.set("/endoscopia/pedidos/",{idFiltro:X.idFiltro,fechaDesde:X.fechaDesde,fechaHasta:X.fechaHasta}):e.route.set("/endoscopia/pedidos/",{idFiltro:1})}}))),e("div.table-responsive",[e("table.table.table-bordered.table-sm.tx-12",[e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS DEL PEDIDO:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 de EndoPedido:"),e("td",{style:{"background-color":"#eaeff5"}},Ie.data.CD_PRE_MED),e("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Ie.data.FECHA_PEDIDO+" "+Ie.data.HORA_PEDIDO),e("th",{style:{"background-color":"#a8bed6"}},"Origen:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Ie.data.SECTOR)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"M\xE9dico Solicitante:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Ie.data.MED_MV),e("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Ie.data.ESPECIALIDAD)])]),e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Ie.data.NM_PACIENTE),e("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),e("td",{style:{"background-color":"#eaeff5"}},Ie.data.EDAD),e("th",{style:{"background-color":"#a8bed6"}},"NHC:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Ie.data.CD_PACIENTE)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 Atenci\xF3n:"),e("td",{style:{"background-color":"#eaeff5"}},Ie.data.AT_MV),e("th",{style:{"background-color":"#a8bed6"}},"Peso:"),e("td",{style:{"background-color":"#eaeff5"}},Ie.data.PESO),e("th",{style:{"background-color":"#a8bed6"}},"Altura:"),e("td",{style:{"background-color":"#eaeff5"}},Ie.data.ALTURA),e("th",{style:{"background-color":"#a8bed6"}},"Ubicaci\xF3n:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Ie.data.SECTOR+" "+Ie.data.UBICACION)]),e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","EX\xC1MENES Y OBSERVACIONES:")]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Ex\xE1menes:"),e("td[colspan='8']",{style:{"background-color":"#eaeff5"}},e(Ad))]),e("tr.d-print-none.bg-litecoin.op-9.tx-white.",[e("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),e("tr.d-print-none",[e("td[colspan='9']",{style:{"background-color":"#eaeff5"}},e("ul.nav.nav-tabs[id='myTab'][role='tablist']",[e("li.nav-item",e("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},e("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005"))]))]),e("tr.d-print-none",[e("td[colspan='9']",{},e(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[e(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[e(Zt)])]))]),e("tr.d-print-none",[])])])])])])])])]))]},Ge={secs:[],nombres:"",show:!1,view:()=>{let t="",a="",o="";return it.num==0&&setTimeout(function(){it.num=it.data.length,it.parseFetch(),e.redraw.sync()},2e3),Ge.secs.length==0?[e("div.pd-10.wd-100p",e("div.d-inline.tx-secondary.tx-12",{oncreate:r=>{r.dom.innerHTML="Procesando "+it.data.length+" formulario(s) encontrado(s)..."}}),e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]:[Ge.secs.map(function(r,i,s){if(r.name=="prescripciones_texto"&&(a=r.answer),r.name=="evolucion_medica_texto"&&(t=r.answer),r.name=="cd_documento_clinico"&&(o="http://172.16.253.18/mvpep/api/clinical-documents/"+r.answer+".pdf?company=1&department=75"),r.name=="Logotipo_archivo")return[e("div.d-inline.tx-secondary.tx-12",{oncreate:c=>{c.dom.innerHTML=it.data.length+" formulario(s) encontrado(s)."}}),e("table.table.table-bordered.wd-100p",{style:{zoom:it.zoom}},[e("thead",[e("tr",e("th[colspan='12'][scope='col']",[e("i.tx-light.fas.fa-file-alt.mg-r-2."),e("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),e("tr",[e("th[colspan='10'][scope='col']",e("div.m-0.p-0",e("img",{width:"100rem",src:"data:image/png;base64,"+r.answer}))),e("th.tx-right[colspan='2'][scope='col']",e("a.tx-right.tx-semibold",{href:o,target:"_blank"},e("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),e("tbody",[e("tr",[e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ESTABLECIMIENTO")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NOMBRE")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","APELLIDO")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","SEXO (M-F)")),e("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NHCL.")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ADM."))]),e("tr",[e("th.text-center[colspan='3'][scope='row']",e("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",Ge.nombres)),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",Ge.apellidos_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ge.sexo)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ge.nhcl)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ge.numero_admision))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","EDAD")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","UBICACION")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),e("tr",[e("td.text-center[colspan='1'][scope='row']",e("div.m-0.p-0.text-center",Ge.edad||Ge.edad_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ge.identificacion)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ge.fecha_admision)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ge.fecha_admision)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",Ge.ubicacion)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",Ge.medico_tratante))]),e("tr",[e("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCI\xD3N")),e("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",e("br"),"CADA PRESCRIPCI\xD3N"]))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FECHA",e("br"),"d\xEDa/mes/a\xF1o"])),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","HORA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCI\xD3N")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",e("br"),"(PARA ENFERMER\xCDA Y OTRO PERSONAL)"])),e("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",e("br"),"F\xC1RMACOS INSUMOS"]))]),e("tr",[e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.tx-bold.text-justify",t!==null&&t.length!==0?e.trust(t.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.text-justify",a!==null&&a.length!==0?e.trust(a.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},it={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:t=>(Object.keys(t.data).map(function(a,o,r){Ge.secs.push(t.data[a])}),Ge.secs.map(function(a,o,r){a.name=="nombres"&&(Ge.nombres=a.answer),a.name=="apellidos_paciente"&&(Ge.apellidos_paciente=a.answer),a.name=="sexo de paciente"&&(Ge.sexo=a.answer),a.name=="nhcl"&&(Ge.nhcl=a.answer),a.name=="numero_admision"&&(Ge.numero_admision=a.answer),a.name=="edad"&&(Ge.edad=a.answer),a.name=="edad_paciente"&&(Ge.edad_paciente=a.answer),a.name=="identificacion_paciente"&&(Ge.identificacion=a.answer),a.name=="fecha_admision"&&(Ge.fecha_admision=a.answer),a.name=="ubicacion_atencion"&&(Ge.ubicacion=a.answer),a.name=="fecha_alta"&&(Ge.fecha_alta=a.answer==null?"":a.answer),a.name=="medico_tratante"&&(Ge.medico_tratante=a.answer)})),parseFetch:()=>(Ge.secs=[],it.data.map(function(t,a,o){it.parseDoc(it.data[a])})),fetch:()=>{it.data=[],it.error="",e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+it.nhc+"&adm="+it.adm,headers:{Authorization:localStorage.accessToken}}).then(function(t){t.length!==0?(it.data=t,it.num=0,e.redraw()):it.error="El documento solicitado no esta disponible."}).catch(function(t){setTimeout(function(){it.fetch()},5e3)})},view:()=>it.error?[e(".alert.alert-danger[role='alert']",it.error)]:it.data.length!==0?[e(Ge)]:[e("div.d-inline.tx-secondary.tx-12",{oncreate:t=>{t.dom.innerHTML="Buscando informaci\xF3n..."}}),e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},Qt={data:[],detalle:[],error:"",showFor:"",fetch:()=>{Qt.data=[],Qt.error="",e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:ce.data.PedidoExameLab.paciente.codigoPaciente+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(t){t.status?(Qt.data=t.data,it.adm=Qt.data[0].ADM,it.nhc=Qt.data[0].NHCL,it.fetch()):Qt.error=t.message}).catch(function(t){setTimeout(function(){Qt.fetch()},5e3)})},view:()=>Qt.error?[e(".alert.alert-danger[role='alert']",Qt.error)]:Qt.data.length!==0?[e(it)]:[e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},kd={view:()=>{if(ce.examenes!==0)return ce.examenes.Exame.length==null&&(ce.examenes.Exame=[ce.examenes.Exame]),ce.examenes.Exame.map(function(t,a,o){return t.operacao=="E"?[e(".tx-14.tx-semibold.tx-danger.d-inline",a+1+": "+t.descExame+" - "+t.codigoExameFaturamento),e("br")]:[e(".tx-14.tx-semibold.d-inline",a+1+": "+t.descExame+" - "+t.codigoExameFaturamento),e("br")]})}},we={error:"",documento:[],data:[],dataLisa:[],dataMuestras:[],fetch:()=>{we.error="",we.data=[],we.documento=[],e.request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/status-pedido-lisa",body:{numeroPedido:ce.numeroPedido,idTimeRecord:ce.idTimeRecord},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status?(ce.loader=!1,ce.data=t.data.pedido,ce.examenes=t.data.pedido.PedidoExameLab.listaExame,we.documento=t.data,we.data=t.data.dataTomaMuestra.examenesToma,we.dataMuestras=t.data.dataRecepcion.examenesRecep,we.documento.dataTomaMuestra.insumosToma=t.data.dataTomaMuestra.insumosToma,we.documento.dataTomaMuestra.fechaToma.length!==0&&($t.disabledToma=!0,$t.checkedAll=!0),Qt.fetch(),qt.fetch(),aa.fetch()):ce.error=t.message}).catch(function(t){})}},w={tuboLila:0,tuboRojo:0,tuboCeleste:0,tuboNegro:0,tuboVerde:0,gsav:0,hemocultivo:0,qtb:0},aa={observaciones:"",data:[],obs:"",show:!1,loadObservaciones:()=>{moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-observaciones").DataTable({data:aa.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){a.aoData.map(function(o,r){e.mount(o.anCells[0],{view:function(){return o._aData.title=="Nuevo Mensaje"?e("div.demo-static-toast",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[e("div.toast-header.bg-primary",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",o._aData.title),e("small.tx-white",moment.unix(o._aData.timestamp).format("HH:mm"))]),e("div.toast-body.small",o._aData.message)])):e("div.demo-static-toast",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[e("div.toast-header.bg-primary",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",o._aData.title),e("small.tx-white",moment.unix(o._aData.timestamp).format("HH:mm"))]),e("div.toast-body.small",o._aData.message)]))}})})}});return t},reloadObservaciones:()=>{var t=$("#table-observaciones").DataTable();t.clear(),t.rows.add(aa.data).draw()},fetch:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedido/"+ce.numeroPedido}).then(function(t){aa.data=t.data,aa.loadObservaciones()}).catch(function(t){})},sendNotiLab:()=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/noti-eme/"+ce.numeroPedido,body:{message:aa.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(aa.observaciones="",aa.fetch(),alert("Observaci\xF3n registrada con \xE9xito."))}).catch(function(t){EditarPedido.error=t.message})}},$t={checkedAll:!1,disabledToma:!1,disabledInsumos:!1,oncreate:()=>{we.documento.dataTomaMuestra.insumosToma.length!==0&&(w.tuboLila=we.documento.dataTomaMuestra.insumosToma.tuboLila,w.tuboRojo=we.documento.dataTomaMuestra.insumosToma.tuboRojo,w.tuboCeleste=we.documento.dataTomaMuestra.insumosToma.tuboCeleste,w.tuboNegro=we.documento.dataTomaMuestra.insumosToma.tuboNegro,w.tuboVerde=we.documento.dataTomaMuestra.insumosToma.tuboVerde,w.gsav=we.documento.dataTomaMuestra.insumosToma.gsav,w.hemocultivo=we.documento.dataTomaMuestra.insumosToma.hemocultivo,w.qtb=we.documento.dataTomaMuestra.insumosToma.qtb)},seleccionarTodos:t=>{$t.checkedAll=t;var a=moment().format("DD-MM-YYYY HH:mm");return we.data.map(function(o,r,i){t?(we.data[r].STATUS_TOMA="1",we.data[r].FECHA_TOMA=a,we.data[r].customCheked=!0):(we.data[r].STATUS_TOMA="",we.data[r].FECHA_TOMA="",we.data[r].customCheked=!1)})},validarUpdateMuestras:()=>{for(var t=0,a=0;a<we.data.length;a++)we.data[a].STATUS_TOMA.length!==0&&t++;if(t==0)throw alert("El regisro de Toma de (Muestra) e Insumos en necesario."),"El regisro de Toma de (Muestra) e Insumos en necesario.";var o=0;if(w.tuboLila!==0&&o++,w.tuboRojo!==0&&o++,w.tuboCeleste!==0&&o++,w.tuboNegro!==0&&o++,w.tuboVerde!==0&&o++,w.gsav!==0&&o++,w.hemocultivo!==0&&o++,w.qtb!==0&&o++,o===0)throw console.log(o),alert("El regisro de Toma de Muestra e (Insumos) en necesario."),"El regisro de Toma de Muestra e (Insumos) en necesario."},udpateStatusTomaMuestra:()=>{we.documento.dataTomaMuestra.insumosToma=w,e.request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/up-toma-status-pedido-lab",body:{documento:JSON.stringify(we.documento)},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){we.documento=t.data,we.data=t.data.dataTomaMuestra.examenesToma,we.documento.dataTomaMuestra.insumosToma=t.data.dataTomaMuestra.insumosToma}).catch(function(t){})},view:()=>we.error?[e("p.mg-0",we.error)]:we.data.length!==0?[e("div.bg-white.bd.d-flex.flex-column.justify-content-end",[$t.disabledToma?[e("p.mg-5.tx-right",[e("button.btn.btn-xs.btn-outline-secondary[type='button']",{onclick:()=>{$t.disabledToma=!1,$t.disabledInsumos=!1}},e("i.fas.fa-edit.mg-r-5")," EDITAR")])]:[],e(".",{style:{"pointer-events":$t.disabledToma?"none":"auto"}},[e("div.table-responsive.mg-b-10.mg-t-10",e("table.table.table-dashboard.table-hover.mg-b-0",[e("thead",e("tr",[e("th.text-dark.text-left.bg-light[colspan='2']","Toma de Muestra")]),e("tr",[e("th.text-left","EXAMEN"),e("th","CONFIRMACI\xD3N")])),e("tbody",[e("tr",[e("td.tx-normal",e("div.custom-control.custom-checkbox",[e("input.custom-control-input[type='checkbox'][id='selectTomaTodos']",{checked:$t.checkedAll,onclick:function(t){$t.seleccionarTodos(this.checked)}}),e("label.custom-control-label[for='selectTomaTodos']","Seleccionar Todos")])),e("td.tx-medium.text-right")]),we.data.map(function(t,a,o){return[e("tr",[e("td.tx-18.tx-medium.text-left",t.NM_EXA_LAB),e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.custom-control-input.tx-16[type='checkbox'][id='"+t.CD_EXA_LAB+"']",{checked:we.data[a].customCheked,onupdate:function(r){this.checked=we.data[a].customCheked},onclick:function(r){r.preventDefault();var i=this.checked;we.data[a].customCheked=!we.data[a].customCheked,i?(this.checked=!0,we.data[a].STATUS_TOMA="1",we.data[a].FECHA_TOMA=moment().format("DD-MM-YYYY HH:mm")):(this.checked=!1,$t.checkedAll=!1,we.data[a].STATUS_TOMA="",we.data[a].FECHA_TOMA="")}}),e("label.custom-control-label.tx-16[for='"+t.CD_EXA_LAB+"']",we.data[a].STATUS_TOMA.length!==0?we.data[a].FECHA_TOMA:we.data[a].STATUS_TOMA)]))])]})])])),e("div.table-responsive.mg-b-10.mg-t-10",e("table.table.table-dashboard.table-hover.mg-b-0",[e("thead",e("tr",[e("th.text-dark.text-left.bg-light[colspan='2']","INSUMOS")]),e("tr",[e("th.text-left","INSUMOS"),e("th.text-left","CANTIDAD")])),e("tbody",[e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboLila']",{onclick:t=>{t.target.checked?w.tuboLila=1:w.tuboLila=0},oncreate:t=>{w.tuboLila!==void 0&&w.tuboLila!==0&&(t.dom.checked=!0)},onupdate:t=>{w.tuboLila!==void 0&&w.tuboLila!==0?w.tuboLila==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold.custom-control-label[for='tuboLila']","Tubo Lila")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{w.tuboLila!==void 0&&w.tuboLila!==0?t.dom.innerText=w.tuboLila:t.dom.innerText=0},onupdate:t=>{w.tuboLila!==void 0&&w.tuboLila!==0?t.dom.innerText=w.tuboLila:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{w.tuboLila++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{w.tuboLila--,w.tuboLila<0&&(w.tuboLila=0)}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboRojo']",{onclick:t=>{t.target.checked?w.tuboRojo=1:w.tuboRojo=0},oncreate:t=>{w.tuboRojo!==void 0&&w.tuboRojo!==0&&(t.dom.checked=!0)},onupdate:t=>{w.tuboRojo!==void 0&&w.tuboRojo!==0?w.tuboRojo==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='tuboRojo']","Tubo Rojo")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{w.tuboRojo!==void 0&&w.tuboRojo!==0?t.dom.innerText=w.tuboRojo:t.dom.innerText=0},onupdate:t=>{w.tuboRojo!==void 0&&w.tuboRojo!==0?t.dom.innerText=w.tuboRojo:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{w.tuboRojo++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{w.tuboRojo--,w.tuboRojo<0&&(w.tuboRojo=0)}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboCeleste']",{onclick:t=>{t.target.checked?w.tuboCeleste=1:w.tuboCeleste=0},oncreate:t=>{w.tuboCeleste!==void 0&&w.tuboCeleste!==0&&(t.dom.checked=!0)},onupdate:t=>{w.tuboCeleste!==void 0&&w.tuboCeleste!==0?w.tuboCeleste==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='tuboCeleste']","Tubo Celeste")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{w.tuboCeleste!==void 0&&w.tuboCeleste!==0?t.dom.innerText=w.tuboCeleste:t.dom.innerText=0},onupdate:t=>{w.tuboCeleste!==void 0&&w.tuboCeleste!==0?t.dom.innerText=w.tuboCeleste:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{w.tuboCeleste++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{w.tuboCeleste--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboNegro']",{onclick:t=>{t.target.checked?w.tuboNegro=1:w.tuboNegro=0},oncreate:t=>{w.tuboNegro!==void 0&&w.tuboNegro!==0&&(t.dom.checked=!0)},onupdate:t=>{w.tuboNegro!==void 0&&w.tuboNegro!==0?w.tuboNegro==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='tuboNegro']","Tubo Negro")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{w.tuboNegro!==void 0&&w.tuboNegro!==0?t.dom.innerText=w.tuboNegro:t.dom.innerText=0},onupdate:t=>{w.tuboNegro!==void 0&&w.tuboNegro!==0?t.dom.innerText=w.tuboNegro:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{w.tuboNegro++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{w.tuboNegro--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboVerde']",{onclick:t=>{t.target.checked?w.tuboVerde=1:w.tuboVerde=0},oncreate:t=>{w.tuboVerde!==void 0&&w.tuboVerde!==0&&(t.dom.checked=!0)},onupdate:t=>{w.tuboVerde!==void 0&&w.tuboVerde!==0?w.tuboVerde==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='tuboVerde']","Tubo Verde")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{w.tuboVerde!==void 0&&w.tuboVerde!==0?t.dom.innerText=w.tuboVerde:t.dom.innerText=0},onupdate:t=>{w.tuboVerde!==void 0&&w.tuboVerde!==0?t.dom.innerText=w.tuboVerde:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{w.tuboVerde++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{w.tuboVerde--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='gsav']",{onclick:t=>{t.target.checked?w.gsav=1:w.gsav=0},oncreate:t=>{w.gsav!==void 0&&w.gsav!==0&&(t.dom.checked=!0)},onupdate:t=>{w.gsav!==void 0&&w.gsav!==0?w.gsav==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='gsav']","GSA V")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{w.gsav!==void 0&&w.gsav!==0?t.dom.innerText=w.gsav:t.dom.innerText=0},onupdate:t=>{w.gsav!==void 0&&w.gsav!==0?t.dom.innerText=w.gsav:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{w.gsav++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{w.gsav--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='hemocultivo']",{onclick:t=>{t.target.checked?w.hemocultivo=1:w.hemocultivo=0},oncreate:t=>{w.hemocultivo!==void 0&&w.hemocultivo!==0&&(t.dom.checked=!0)},onupdate:t=>{w.hemocultivo!==void 0&&w.hemocultivo!==0?w.hemocultivo==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='hemocultivo']","Hemocultivo")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{w.hemocultivo!==void 0&&w.hemocultivo!==0?t.dom.innerText=w.hemocultivo:t.dom.innerText=0},onupdate:t=>{w.hemocultivo!==void 0&&w.hemocultivo!==0?t.dom.innerText=w.hemocultivo:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{w.hemocultivo++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{w.hemocultivo--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='qtb']",{onclick:t=>{t.target.checked?w.qtb=1:w.qtb=0},oncreate:t=>{w.qtb!==void 0&&w.qtb!==0&&(t.dom.checked=!0)},onupdate:t=>{w.qtb!==void 0&&w.qtb!==0?w.qtb==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='qtb']","QTB")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{w.qtb!==void 0&&w.qtb!==0?t.dom.innerText=w.qtb:t.dom.innerText=0},onupdate:t=>{w.qtb!==void 0&&w.qtb!==0?t.dom.innerText=w.qtb:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{w.qtb++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{w.qtb--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])])])])),$t.disabledToma?[e("p.mg-5.",[we.documento.dataTomaMuestra.fechaToma.length!==0?[e("span.badge.badge-light.tx-right.wd-100p.tx-14","Toma de Muestra: FLEBOT1 "+we.documento.dataTomaMuestra.fechaToma)]:[]])]:[e("div.pd-10",[e("button.btn.btn-xs.btn-primary.btn-block.tx-semibold[type='button']",{disabled:$t.disabledToma,onclick:()=>{$t.validarUpdateMuestras();var t=moment().format("DD-MM-YYYY HH:mm");we.documento.dataTomaMuestra.usuarioToma="flebot1",we.documento.dataTomaMuestra.fechaToma=t,$t.disabledToma=!0,$t.udpateStatusTomaMuestra()}},"Guardar Registro")])]])])]:[e("div.pd-t-10",[e("div.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")])])]},qt={showLogs:"",dataXML:"",logsEnvio:[],examenes:[],oninit:()=>{qt.examenes=[]},agregarExamen:t=>{var a=!1;qt.examenes.map(function(o,r,i){qt.examenes[r].codigoExame==t.CD_EXA_LAB&&(a=!0)}),a||ce.examenes.Exame.map(function(o,r,i){ce.examenes.Exame[r].codigoExame==t.CD_EXA_LAB&&qt.examenes.push(ce.examenes.Exame[r])}),console.log(qt.examenes)},eliminarExamen:t=>{var a=!1,o=null;qt.examenes.map(function(r,i,s){qt.examenes[i].codigoExame==t.CD_EXA_LAB&&(a=!0,o=i)}),a&&(qt.examenes.splice(o,1),console.log(qt.examenes))},generarXML:()=>{let t={Exame:qt.examenes},a=moment().format("YYYY-MM-DD HH:mm:ss");ce.data.Cabecalho.mensagemID=moment().unix(),ce.data.Cabecalho.dataHora=a,ce.data.PedidoExameLab.listaExame=t,ce.data.PedidoExameLab.operacao="I";let o=tr(ce.data);console.log("documento",ce.data),console.log("xmlRes",o),qt.sendXML(o,ce.numeroPedido,a)},sendXML:(t,a,o)=>{e.request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido",body:{data:t,sc:a,idTimeRecord:o},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(r){setTimeout(function(){alert("Proceso realizado con \xE9xito."),window.location.reload()},2e3),console.log("result",r)}).catch(function(r){})},fetch:()=>{qt.logsEnvio=[],e.request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/logs-envio-pedido-lisa?numeroPedido="+ce.numeroPedido,headers:{Authorization:localStorage.accessToken}}).then(function(t){console.log(t),qt.logsEnvio=t.data}).catch(function(t){})}},ce={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",idTimeRecord:"",oninit:t=>{t.attrs.numeroPedido!==void 0&&t.attrs.idTimeRecord!==void 0&&(document.title="Detalle de Pedido N\xB0: "+t.attrs.numeroPedido+" | "+C.title,ce.numeroPedido=t.attrs.numeroPedido,ce.numeroAtencion=t.attrs.numeroAtencion,ce.numeroHistoriaClinica=t.attrs.numeroHistoriaClinica,ce.idTimeRecord=t.attrs.idTimeRecord,ce.fetch())},fetch:()=>{ce.data=[],ce.loader=!0,we.fetch()},view:t=>{if(ce.data.length!==0){let a=moment(ce.data.PedidoExameLab.paciente.dataNascimento),o=moment();ce.data.PedidoExameLab.paciente.anios=o.diff(a,"years")}return ce.loader?[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(16)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),e("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N\xB0: "+ce.numeroPedido),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(16)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),e("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N\xB0: "+ce.numeroPedido),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",{oncreate:a=>{ce.loader?a.dom.hidden=!1:a.dom.hidden=!0},onupdate:a=>{ce.loader?a.dom.hidden=!1:a.dom.hidden=!0}},[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])]),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:a=>{ce.loader?a.dom.hidden=!0:a.dom.hidden=!1},onupdate:a=>{ce.loader?a.dom.hidden=!0:a.dom.hidden=!1}},[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{K.idFiltro!==void 0&&K.idFiltro>1?e.route.set("/laboratorio/flebotomista/",{idFiltro:K.idFiltro,fechaDesde:K.fechaDesde,fechaHasta:K.fechaHasta}):e.route.set("/laboratorio/flebotomista/",{idFiltro:1})}}))),ce.data.PedidoExameLab.tipoSolicitacao=="R"?[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[e("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")]:[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[e("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")],e("div.table-responsive",[e("table.table.table-bordered.table-sm.tx-12",[e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='10']","DATOS DEL PEDIDO:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 de Pedido:"),e("td",{style:{"background-color":"#eaeff5"}},ce.data.PedidoExameLab.codigoPedido),e("th",{style:{"background-color":"#a8bed6"}},"Fecha Pedido:",e("br"),e(".d-inline.tx-danger","Fecha Toma de Muestra:")),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},ce.data.PedidoExameLab.dataExame,e("br"),ce.data.PedidoExameLab.dataExame),e("th",{style:{"background-color":"#a8bed6"}},"Origen:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},ce.data.PedidoExameLab.descSetorSolicitante)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"M\xE9dico Solicitante:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},ce.data.PedidoExameLab.descPrestadorSolicitante),e("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},ce.data.PedidoExameLab.descPrestadorSolicitante)])]),e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='10']","DATOS DEL PACIENTE:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),e("td[colspan='5']",{style:{"background-color":"#eaeff5"}},ce.data.PedidoExameLab.paciente.nome),e("th",{style:{"background-color":"#a8bed6"}},"Edad:"),e("td",{style:{"background-color":"#eaeff5"}},ce.data.PedidoExameLab.paciente.anios+" A\xF1o(s)"),e("th",{style:{"background-color":"#a8bed6"}},"NHC:"),e("td",{style:{"background-color":"#eaeff5"}},ce.data.PedidoExameLab.paciente.codigoPaciente)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 Atenci\xF3n:"),e("td",{style:{"background-color":"#eaeff5"}},ce.data.PedidoExameLab.atendimento.codigoAtendimento),e("th",{style:{"background-color":"#a8bed6"}},"Sexo:"),e("td",{style:{"background-color":"#eaeff5"}},ce.data.PedidoExameLab.paciente.sexo),e("th",{style:{"background-color":"#a8bed6"}},"F. de Nac.:"),e("td",{style:{"background-color":"#eaeff5"}},ce.data.PedidoExameLab.paciente.dataNascimento),e("th",{style:{"background-color":"#a8bed6"}},"Dg:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},(ce.data.PedidoExameLab.diagnostico.codigoDiagnostico.length==null?"":"CIE: "+ce.data.PedidoExameLab.diagnostico.codigoDiagnostico)+(ce.data.PedidoExameLab.diagnostico.dsDiagostico.length==null?"":" - "+ce.data.PedidoExameLab.diagnostico.dsDiagostico))]),e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='10']","EX\xC1MENES:")]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Ex\xE1menes:"),e("td[colspan='9']",{style:{"background-color":"#eaeff5"}},e(kd))]),e("tr.d-print-none.bg-litecoin.op-9.tx-white.",[e("th[scope='col'][colspan='10']","EVOLUCIONES Y PRESCRIPCIONES:")]),e("tr.d-print-none",[e("td[colspan='10']",{style:{"background-color":"#eaeff5"}},e("ul.nav.nav-tabs[id='myTab'][role='tablist']",[e("li.nav-item",e("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},e("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005")),e("li.nav-item",e("a.nav-link[id='home-muestra'][data-toggle='tab'][href='#muestra'][role='tab'][aria-controls='muestra']",{style:{color:"#476ba3"}},e("i.fas.fa-edit.pd-1.mg-r-2")," TOMA DE MUESTRA ")),e("li.nav-item",e("a.nav-link[id='home-comment'][data-toggle='tab'][href='#comment'][role='tab'][aria-controls='comment']",{style:{color:"#476ba3"}},e("i.fas.fa-inbox.pd-1.mg-r-2")," COMENTARIOS "))]))]),e("tr.d-print-none",[e("td[colspan='10']",e(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[e(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[e(Qt)]),e(".tab-pane.fade[id='muestra'][role='tabpanel'][aria-labelledby='home-muestra']",[e($t)]),e(".tab-pane.fade[id='comment'][role='tabpanel'][aria-labelledby='home-comment']",[e("p.mg-5",[e("span.badge.badge-light.wd-100p.tx-14","Observaciones"),e("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(a){aa.observaciones=a.target.value},value:aa.observaciones}),e("div.mg-0.mg-t-5.text-right",[e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){aa.observaciones.length!==0?aa.sendNotiLab():alert("Observaciones es obligatorio.")}},[e("i.fas.fa-paper-plane.mg-r-5")],"Guardar")]),e("hr.wd-100p.mg-t-5.mg-b-5")]),e("p.mg-5",[e("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),e("table.table.table-sm[id='table-observaciones'][width='100%']")])])]))]),e("tr.d-print-none",[])])])])])])])])]))]}};function tr(t){let a="";for(let o in t){if(a+=t[o]instanceof Array?"":"<"+o+">",t[o]instanceof Array)for(let r in t[o])a+=`
<`+o+`>
`,a+=tr(new Object(t[o][r])),a+="</"+o+">";else typeof t[o]=="object"?a+=tr(new Object(t[o])):a+=t[o];a+=t[o]instanceof Array?"":"</"+o+`>
`}return a=a.replace(/<\/?[0-9]{1,}>/g,""),a}const Sd={view:()=>{Qe.getDataUser();let t={modulesAccess:{patologia:[{idUser:"159",rol:"1",idModulo:"26",modulo:"patologia",href:"patologia/pedidos",label:"Recepci\xF3n de Pedidos"},{idUser:"159",rol:"1",idModulo:"27",modulo:"patologia",href:"patologia/gestionPlantillaMacroscopico",label:"Gesti\xF3n Plantillas Macr\xF3scopico"},{idUser:"159",rol:"1",idModulo:"28",modulo:"patologia",href:"patologia/gestionPlantillaDiagnostico",label:"Gesti\xF3n Plantillas Diagn\xF3stico"},{idUser:"159",rol:"1",idModulo:"29",modulo:"patologia",href:"patologia/gestionFirmas",label:"Firma Pat\xF3logo"}]}};if(t.length!==0)return[t.modulesAccess.patologia.map(function(a,o,r){return[e(e.route.Link,{href:"/"+a.href,class:ut.page==parseInt(a.idModulo)?"active":""},[a.label])]})]}},ut={page:"",setPage:t=>{ut.page=t},view:()=>[e(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[e("div.sidebar-header",[e("a[href=''][id='mainMenuOpen']",e("i[data-feather='menu']")),e("h5","Menu"),e("a[href=''][id='sidebarMenuClose']",e("i[data-feather='x']"))]),e("div.sidebar-body",e("ul.sidebar-nav",[e("li.nav-label.mg-b-15","Patolog\xEDa"),e("li.nav-item.show",[e(e.route.Link,{href:"/patologia",class:"nav-link with-sub"},[e("i[data-feather='layout']")," Patolog\xEDa "]),e("nav.nav",[e(Sd)])])]))])]},Cd={view:()=>[e("div.content.content-components",e("div.container",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},["MetroPlus"])),e("li.breadcrumb-item.active[aria-current='page']","Patolog\xEDa")]),e("h1.df-title.mg-t-20.mg-b-10","Patolog\xEDa:"),e("div.row.tx-14",[C.isShow("patologia",26)?[e("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{e.route.set("/patologia/pedidos")}},[e("div",{class:"media"},[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},e("i",{class:"fas fa-inbox tx-30 tx-white"})),e("div",{class:"media-body mg-l-15"},[e("p",{class:"tx-18 mg-b-0"},"Recepci\xF3n de Pedidos"),e("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Pedidos")])])])]:[],C.isShow("patologia",26)?[e("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{e.route.set("/patologia/gestionPlantillaMacroscopico")}},[e("div",{class:"media"},[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},e("i",{class:"fas fa-stream tx-30 tx-white"})),e("div",{class:"media-body mg-l-15"},[e("p",{class:"tx-18 mg-b-0"},"Gesti\xF3n Plantillas Macr\xF3scopico"),e("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Plantillas Macr\xF3scopico")])])])]:[],C.isShow("patologia",26)?[e("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{e.route.set("/patologia/gestionPlantillaDiagnostico")}},[e("div",{class:"media"},[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},e("i",{class:"fas fa-stream tx-30 tx-white"})),e("div",{class:"media-body mg-l-15"},[e("p",{class:"tx-18 mg-b-0"},"Gesti\xF3n Plantillas Diagn\xF3stico"),e("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Plantillas Diagn\xF3stico")])])])]:[],C.isShow("patologia",26)?[e("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{e.route.set("/patologia/gestionFirmas")}},[e("div",{class:"media"},[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},e("i",{class:"fas fa-cog tx-30 tx-white"})),e("div",{class:"media-body mg-l-15"},[e("p",{class:"tx-18 mg-b-0"},"Firma Pat\xF3logo"),e("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ver Firma Pat\xF3logo")])])])]:[]])]))]},Id={oninit:()=>{_.page="",ut.page="",C.isAuth()},oncreate:()=>{document.title="Patologia | "+C.title},view:()=>[e(_,{oncreate:_.setPage("patologia")}),e(ut),e(Cd)]},ua={view:function(t){return[e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[t.children.map(function(a){return a.path==""?e("li.breadcrumb-item.active[aria-current='page']",a.label):e("li.breadcrumb-item",e(e.route.Link,{href:a.path},[a.label]))})])])]}};function Nd(){return{interval:null,seconds:100,isPaused:!1}}const Ja={showFilter:!0,showSearch:!0,show:!1,increment(t){t.seconds--,t.seconds==0&&window.location.reload(),e.redraw()},start(t){t.interval=setInterval(Ja.increment,1e3,t)},stop(t){t.interval=clearInterval(t.interval)},reset(t){t.seconds=100},toggle(t){t.isPaused?Ja.start(t):Ja.stop(t),t.isPaused=!t.isPaused}};function Rd(){const t=Nd();return Ja.start(t),{view(){return[e("div.mg-b-0",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualizaci\xF3n en:")]),e("div.d-flex.justify-content-between.mg-b-5",[e("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),e("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-15",t.isPaused?[e("i.fas.fa-play.pd-2",{title:"Start",onclick(){Ja.toggle(t)},style:{cursor:"pointer"}})]:[e("i.fas.fa-pause.pd-2",{title:"Pause",onclick(){Ja.toggle(t)},style:{cursor:"pointer"}})]))]),e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:a=>{a.dom.style.width="100%"},onupdate:a=>{a.dom.style.width=t.seconds+"%"}}))])]},onremove(){Ja.stop(t)}}}const Ld={oncreate:()=>{N.loadPedidos(),N.searchField.length!==0&&$("#table-PatologiaPedidos").DataTable().search(N.searchField).draw()},view:()=>e("div.row.animated.fadeInUp",{},[e("div.col-12",[e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[e("h5.mg-b-0","Patolog\xEDa:",e("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:t=>{N.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),N.idFiltro==2&&(t.dom.innerHTML="Pedidos de Emergencia"),N.idFiltro==3&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n "),N.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa ")},onupdate:t=>{N.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),N.idFiltro==2&&(t.dom.innerHTML="Pedidos de Emergencia"),N.idFiltro==3&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n "),N.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa ")}})),e("div.d-flex.tx-14",[e(".",{class:N.idFiltro==1?"d-none":"d-flex"},[e("div.link-03",{title:"Desde"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),e("div.link-03",{style:{cursor:"pointer"},title:"Desde"},e("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:t=>{t.dom.value=N.idFiltro!==1?moment(moment(N.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{N.fechaDesde=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),N.loader=!0,N.pedidos=[],N.fetchPedidos(),e.route.set("/patologia/pedidos?idFiltro="+N.idFiltro+"&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta)},style:{border:"transparent"}})),e("div.link-03",{title:"Hasta"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),e("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},e("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:t=>{t.dom.value=N.idFiltro!==1?moment(moment(N.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{N.fechaHasta=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),N.loader=!0,N.pedidos=[],N.fetchPedidos(),e.route.set("/patologia/pedidos?idFiltro="+N.idFiltro+"&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta)},style:{border:"transparent"}}))]),e("div.dropdown.dropleft",[e("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},e("i.fas.fa-filter.tx-18.pd-5")),e(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[e("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),e(e.route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),e(e.route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=2&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta},["Pedidos de Emergencia"]),e(e.route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=3&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta},["Pedidos de Hospitalizaci\xF3n"]),e(e.route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=4&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta},["Pedidos de C. Externa"])])])])]),e("div.col-sm-12.filemgr-content-header",{class:N.idFiltro==1?"mg-t-35":"mg-t-40"},[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(t){N.searchField=t.target.value},value:N.searchField}))]),e("table.table.table-sm.tx-11[id='table-PatologiaPedidos'][width='100%']")])])])},N={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:t=>{ut.page="",N.pedidos.length==0&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),N.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),N.fechaHasta=moment().format("DD-MM-YYYY"),N.loader=!0,N.pedidos=[],N.fetchPedidos())},oncreate:t=>{vt.suscribirCanal("MetroPlus-PatologiaPedidos")},loadPedidos:()=>{$.fn.dataTable.ext.errMode="none";let t=$("#table-PatologiaPedidos").DataTable({data:N.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"N\xB0:"},{title:"Fecha:"},{title:"Pres. N\xB0:"},{title:"Paciente:"},{title:"M\xE9dico:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!0},{mRender:function(a,o,r){return r.fechaPedido},visible:!0,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.codigoPedido},visible:!0,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.paciente},visible:!0,aTargets:[3],orderable:!1},{mRender:function(a,o,r){return r.descPrestadorSolicitante},visible:!0,aTargets:[4],orderable:!1},{mRender:function(a,o,r){return"OPCIONES"},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(a,o,r,i){e.mount(a,{view:()=>[e("td.wd-5p",{class:o.TP_ATENDIMENTO=="I"?"bg-primary":"bg-danger"},[o.TP_ATENDIMENTO=="I"?e("span.badge.badge-pill.badge-primary.wd-100p.mg-b-1","I"):e("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1","E")]),e("td.wd-10p",{style:{}},o.FECHA_PEDIDO+" "+o.HORA_PEDIDO),e("td.wd-10p",{style:{}},e("span.tx-semibold.tx-dark.tx-15.mg-b-1",o.CD_PRE_MED)),e("td.wd-40p",{style:{}},[e(".d-inline.mg-r-5",{class:o.SECTOR=="EMERGENCIA"?"tx-danger":"tx-primary"},o.SECTOR+" "+o.UBICACION),e("br"),"NHC: "+o.CD_PACIENTE+" ATENCI\xD3N N\xB0:"+o.AT_MV,e("br"),o.EDAD+" "+o.PESO+" "+o.ALTURA,e("br"),e(".d-inline.tx-semibold",o.NM_PACIENTE),e("br")]),e("td.wd-40p",{style:{}},o.MED_MV),e("td.tx-center.tx-semibold",{onclick:()=>{e.route.set("/patologia/pedido/",{numeroHistoriaClinica:o.CD_PACIENTE,numeroAtencion:o.AT_MV,numeroPedido:o.CD_PRE_MED,medico:o.MED_MV,track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver Pedido ")]})},drawCallback:function(a){N.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){t.search($("#searchField").val()).draw()}),t},fetchPedidos:()=>{let t="";N.idFiltro==1?t="?type=ingresadas&idFiltro="+N.idFiltro:t="?type=ingresadas&idFiltro="+N.idFiltro+"&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta,e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/patologia/pedidos"+t,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(a){N.loader=!1,N.pedidos=a.data}).catch(function(a){setTimeout(function(){N.fetchPedidos()},2e3)})},reloadData:()=>{let t=$("#table-PatologiaPedidos").DataTable();t.clear(),t.rows.add(N.pedidos).draw()},view:t=>N.loader?[e(ut,{oncreate:ut.setPage(26)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e(ua,[{path:"/",label:"metroplus"},{path:"/patologia",label:"patologia"},{path:"",label:"pedidos ingresados"}]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:N.error.length!==0?[e(ut,{oncreate:ut.setPage(26)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e(ua,[{path:"/",label:"metroplus"},{path:"/patologia",label:"patologia"},{path:"",label:"pedidos ingresados"}]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("p","No existe informaci\xF3n.")])]))]:!N.loader&&N.pedidos.length!==0?[e(ut,{oncreate:ut.setPage(26)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e(ua,[{path:"/",label:"metroplus"},{path:"/patologia",label:"patologia"},{path:"",label:"pedidos ingresados"}]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e(Ld)])),e("div.section-nav",[e("label.nav-label","Pedidos Ingresados"),e("div.mg-t-10.bg-white",{},e("div.mg-t-10.bg-white",e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","Pedidos Ingresados:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",N.pedidos.length),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Pedido(s)")])])])),e("div.pd-20",e(Rd)))])]:!N.loader&&N.pedidos.length==0?[e(ut,{oncreate:ut.setPage(26)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e(ua,[{path:"/",label:"metroplus"},{path:"/patologia",label:"patologia"},{path:"",label:"pedidos ingresados"}]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div",{style:{width:"100%",height:"20px","margin-bottom":"20px"}},[e("div.d-flex.tx-14",[e(".",{class:N.idFiltro==1?"d-none":"d-flex"},[e("div.link-03",{title:"Desde"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),e("div.link-03",{style:{cursor:"pointer"},title:"Desde"},e("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:a=>{a.dom.value=N.idFiltro!==1?moment(moment(N.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:a=>{N.fechaDesde=moment(moment(a.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),N.loader=!0,N.pedidos=[],N.fetchPedidos(),e.route.set("/patologia/pedidos?idFiltro="+N.idFiltro+"&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta)},style:{border:"transparent"}})),e("div.link-03",{title:"Hasta"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),e("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},e("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:a=>{a.dom.value=N.idFiltro!==1?moment(moment(N.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:a=>{N.fechaHasta=moment(moment(a.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),N.loader=!0,N.pedidos=[],N.fetchPedidos(),e.route.set("/patologia/pedidos?idFiltro="+N.idFiltro+"&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta)},style:{border:"transparent"}}))]),e("div.dropdown.dropleft",[e("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},e("i.fas.fa-filter.tx-18.pd-5")),e(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[e("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),e(e.route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),e(e.route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=2&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta},["Pedidos de Emergencia"]),e(e.route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=3&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta},["Pedidos de Hospitalizaci\xF3n"]),e(e.route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=4&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta},["Pedidos de C. Externa"])])])])]),e("div.row.animated.fadeInUp",[e("div.col-12",[e(".alert.alert-danger[role='alert']","No existe informaci\xF3n disponible.")])])]))]:[e(ut,{oncreate:ut.setPage(26)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e(ua,[{path:"/",label:"metroplus"},{path:"/patologia",label:"patologia"},{path:"",label:"pedidos ingresados"}]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("p"," Error interno.")])])]))]},ya={view:()=>[e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])])]},ho={view:()=>[e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("div.row.animated.fadeInUp",[e("div.col-12",[e(".alert.alert-danger[role='alert']","No existe informaci\xF3n disponible.")])])])]};let Ee={listado:[],examenes:[],error:"",secuencialMuestra:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",medico:"",loading:!1,cargarListado:function(t){Ee.loading=!0,m.request({method:"GET",url:"http://localhost:8000/api/v1/muestras?nopedidomv="+t,body:{},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){Ee.listado=a.data,Ee.loading=!1}).catch(function(a){Ee.loading=!1,Ee.error=a,alert(Ee.error)})},cargarExamenes:t=>{m.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-patologia",body:{numeroPedido:t},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){a.status?Ee.examenes=a.examenes:Ee.error=a.message}).catch(function(a){Ee.error=a,alert(Ee.error)})},generarSecuencial:function(){m.request({method:"GET",url:"http://localhost:8000/api/v1/muestras/obtenersecuencial",body:{},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(t){Ee.secuencialMuestra=t.id+1}).catch(function(t){Ee.error=t,alert(Ee.error)})},guardar:t=>{m.request({method:"POST",url:"http://localhost:8000/api/v1/muestras?nopedidomv="+Ee.numeroPedido,body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){Ee.cargarListado(Ee.numeroPedido),Ee.secuencialMuestra=""}).catch(function(a){Ee.error="Se produjo error guardando la muestra: "+a.response.message,alert(Ee.error)})},actualizar:t=>{m.request({method:"PUT",url:"http://localhost:8000/api/v1/muestras/"+t.id+"?nopedidomv="+Ee.numeroPedido,body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){Ee.cargarListado(Ee.numeroPedido),Ee.secuencialMuestra=""}).catch(function(a){Ee.error="Se produjo error guardando la muestra: "+a.response.message,alert(Ee.error)})},asociarExamen:t=>{m.request({method:"POST",url:"http://localhost:8000/api/v1/asociacionexamenes?nopedidomv="+Ee.numeroPedido,body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(){Ee.cargarListado(Ee.numeroPedido)}).catch(function(a){Ee.error="Se produjo error guardando la muestra: "+a.response.message,alert(Ee.error)})},eliminarExamenasociado:t=>{m.request({method:"DELETE",url:"http://localhost:8000/api/v1/asociacionexamenes/eliminarasociacion/"+t+"?nopedidomv="+Ee.numeroPedido,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(){Ee.cargarListado(Ee.numeroPedido)}).catch(function(a){Ee.error="Se produjo error guardando la muestra: "+a.response.message,alert(Ee.error)})}},Tr=!0,wo=null;const ui={oninit:t=>{t.attrs.muestra!==void 0&&(wo=t.attrs.muestra,Tr=wo.valida==="1")},onbeforeupdate:function(t){return!1},view:t=>[m("th.tx-12",[m("div",[m("label[for='checkvalida']",{style:{"margin-right":"6px"}},"V\xE1lida"),m("input[type='checkbox'][id='checkvalida']",{checked:Tr,onclick:function(a){this.checked?m.mount(document.querySelector("#observacionesnovalida"),null):m.mount(document.querySelector("#observacionesnovalida"),{view:o=>m("textarea.form-control[id='inputobservacionesnovalida'][placeholder='Observaciones'][title='Observaciones']",{style:"min-height: 100px",rows:4,value:wo!==null?wo.observacionesmuestranovalida:""})})}})])])]};let Aa=Ee,ka=null;const Fd={oninit:t=>{t.attrs.muestra!==void 0&&(ka=t.attrs.muestra)},oncreate:t=>{ka&&ka.valida==="0"?m.mount(document.querySelector("#observacionesnovalida"),{view:a=>m("textarea.form-control[id='inputobservacionesnovalida'][placeholder='Observaciones'][title='Observaciones']",{style:"min-height: 100px",rows:4,value:ka.observacionesmuestranovalida})}):m.mount(document.querySelector("#observacionesnovalida"),null)},view:t=>m("form#editar-muestra",[m("table.table",[m("tr",[m("th.tx-12","ID"),m("td.tx-12",[m("input.form-control[id='inputmuestraid'][type='text']",{disabled:!0,value:ka.id})])]),m("tr.muestradescripcion",[m("th.tx-12","Descripci\xF3n"),m("td.tx-12",[m("textarea.form-control[id='inputmuestradescripcion'][placeholder='Descripci\xF3n'][title='Descripci\xF3n']",{style:"min-height: 100px",rows:4,value:ka.descripcion})])]),m("tr",[m(ui,{muestra:ka}),m("td.tx-12",[m("div#observacionesnovalida"),m("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){if(t.dom.inputmuestradescripcion.value.length===0)Aa.error="El campo Descripci\xF3n es Requerido",alert(Aa.error),t.dom.inputmuestradescripcion.focus();else if(!t.dom.checkvalida.checked&&t.dom.inputobservacionesnovalida.value.length===0)Aa.error="El campo Observaciones es Requerido, cuando la muestra no es v\xE1lida",alert(Aa.error),t.dom.inputobservacionesnovalida.focus();else{let a={id:parseInt(t.dom.inputmuestraid.value),nopedidomv:parseInt(Ee.numeroPedido),noatencionmv:parseInt(Ee.numeroAtencion),nohistoriaclinicamv:parseInt(Ee.numeroHistoriaClinica),descripcion:t.dom.inputmuestradescripcion.value,valida:t.dom.checkvalida.checked?1:0,observacionesmuestranovalida:t.dom.checkvalida.checked?null:t.dom.inputobservacionesnovalida.value};Aa.actualizar(a),m.mount(document.querySelector("#gestion-muestras"),null),m.mount(document.querySelector("#cerrar-gestion-muestras"),null),Aa.listado=[],Aa.loading=!0}},style:{margin:"6px 0"}},[m("i.fas.fa-save.mg-r-5")],"Guardar")])])])])};let Sa=Ee,Da=null;const Od={oninit:t=>{t.attrs.muestra!==void 0&&(Da=t.attrs.muestra)},onbeforeupdate:function(t){return!1},view:t=>m("form#asociar-muestra",[m("table.table",[m("tr.thead-light",[m("th.tx-12.tx-semibold","ASOCIAR EX\xC1MENES"),m("th.tx-12.tx-semibold",[m("span.tx-12.pd-r-10","MUESTRA:  "+Da.id),m("span.tx-12.pd-l-10.pd-r-10.mg-l-5","DESCRIPCION:  "+Da.descripcion),m("span.tx-12.pd-l-10.pd-r-10.mg-l-5","VALIDA:  "+(Da.valida==="1"?"S\xED":"NO"))])]),m("tr",[m("th.tx-12",{scope:"col"},"EX\xC1MENES"),m("td",[Sa.examenes.map(function(a){return[m("div",[m("input[type='checkbox']",{checked:Da.examenesAsociados.find(function(o){return o.codigoexamenmv===a.CD_TIP_PRESC})!==void 0,style:{float:"left","margin-top":"2px"},id:a.CD_TIP_PRESC,onclick:function(){if(this.checked){let o={idmuestra:parseInt(Da.id),codigoexamenmv:a.CD_TIP_PRESC,nopedidomv:parseInt(Ee.numeroPedido),descripcion:a.EXAMEN,observaciones:a.OBS_EXAMEN,status:a.STATUS,tieneinforme:0};Sa.asociarExamen(o),Sa.listado=[],Sa.loading=!0}else{let o=Da.examenesAsociados.findIndex(function(r){return r.codigoexamenmv===a.CD_TIP_PRESC});o>=0&&(Sa.eliminarExamenasociado(Da.examenesAsociados[o].id),Sa.listado=[],Sa.loading=!0)}}}),m("label.tx-semibold.tx-12",{style:{margin:"0 10px"}},a.EXAMEN)])]})])])])])},ar={view:()=>[m("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",{style:{width:"50%",float:"right"}},m("small.pd-2.tx-20",m("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{m.mount(document.querySelector("#gestion-muestras"),null),m.mount(document.querySelector("#cerrar-gestion-muestras"),null)}})))]};let Ar=Ee;const kr={oninit:t=>{t.attrs.muestra!==void 0&&(Ar=t.attrs.muestra)},view:t=>[Ar.listado.map(function(a){return[m("tr#"+a.id,[m("th.tx-12.muestraid",{style:{width:"10%"}},a.id),m("td.tx-12.muestradescription",{style:{width:"30%"}},a.descripcion),m("td.tx-12.muestravalida",{style:{width:"5%"}},a.valida==="1"?"S\xED":"NO"),m("td.tx-12.examenes",{style:{width:"25%"}},[a.examenesAsociados.map(function(o){return[m("span.tx-12.pd-r-10",o.descripcion),m("br")]})]),m("td.tx-12",{style:{padding:"0",width:"30%"}},[m("div.mg-0.mg-t-5.text-left",[m("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){m.mount(document.querySelector("#gestion-muestras"),{view:()=>m(Fd,{muestra:a})}),m.mount(document.querySelector("#cerrar-gestion-muestras"),ar)}},[m("i.fas.fa-edit.mg-r-5")],"Editar"),m("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{disabled:a.valida!=="1",onclick:function(){m.mount(document.querySelector("#gestion-muestras"),{view:()=>m(Od,{muestra:a})}),m.mount(document.querySelector("#cerrar-gestion-muestras"),ar)}},[m("i.fas.fa-link.mg-r-5")],"Asociar Ex\xE1menes")])])])]})]};let Tt=Ee;const Hd={oninit:t=>{t.attrs.numeroPedido!==void 0&&(Tt.numeroPedido=t.attrs.numeroPedido,Tt.cargarListado(Tt.numeroPedido),Tt.cargarExamenes(Tt.numeroPedido)),t.attrs.numeroAtencion!==void 0&&(Tt.numeroAtencion=t.attrs.numeroAtencion),t.attrs.numeroHistoriaClinica!==void 0&&(Tt.numeroHistoriaClinica=t.attrs.numeroHistoriaClinica),t.attrs.medico!==void 0&&(Tt.medico=t.attrs.medico)},oncreate:t=>{Tt.listado.length==0?m.mount(document.querySelector("div#loader"),ya):Tt.listado.length>0&&(m.mount(document.querySelector("div#loader"),null),m.mount(document.querySelector("table.table#listado-muestras"),{view:a=>[m(kr,{muestra:Tt})]}))},onupdate:t=>{document.querySelector("div#loader")&&(Tt.listado.length==0&&Tt.loading?m.mount(document.querySelector("div#loader"),ya):Tt.listado.length>0&&!Tt.loading?(m.mount(document.querySelector("div#loader"),null),m.mount(document.querySelector("table.table#listado-muestras"),{view:a=>[m(kr,{muestra:Tt})]})):Tt.listado.length==0&&!Tt.loading&&m.mount(document.querySelector("div#loader"),ho))},view:t=>[m("table.table",{style:{margin:"0"}},[m("thead.thead-light",[m("tr",[m("th.tx-12",{scope:"col",style:{width:"10%"}},"ID"),m("th.tx-12",{scope:"col",style:{width:"30%"}},"Descripci\xF3n"),m("th.tx-12",{scope:"col",style:{width:"5%"}},"V\xE1lida"),m("th.tx-12",{scope:"col",style:{width:"25%"}},"Ex\xE1menes Asociados"),m("th.tx-12",{scope:"col",style:{width:"30%"}},"")])])]),m("table.table#listado-muestras",{style:{margin:"0"}}),m("div#loader",{style:{"margin-top":"10px","padding-left":"10px"}})]};let _a=Ee;const $d={oninit:()=>{_a.generarSecuencial()},view:t=>m("form#crear-muestra",[m("table.table",[m("tr",[m("th.tx-12","ID MUESTRA"),m("td.tx-12",[m("input.form-control[id='inputmuestraid'][type='text']",{disabled:!0,value:_a.secuencialMuestra})])]),m("tr.muestradescripcion",[m("th.tx-12","Descripci\xF3n de la Muestra"),m("td.tx-12",[m("textarea.form-control[id='inputmuestradescripcion'][placeholder='Descripci\xF3n de la Muestra'][title='Descripci\xF3n de la Muestra']",{style:"min-height: 100px",rows:4})])]),m("tr",[m(ui),m("td.tx-12",[m("div#observacionesnovalida"),m("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){if(t.dom.inputmuestradescripcion.value.length===0)_a.error="El campo Descripci\xF3n es Requerido",alert(_a.error),t.dom.inputmuestradescripcion.focus();else if(!t.dom.checkvalida.checked&&t.dom.inputobservacionesnovalida.value.length===0)_a.error="El campo Observaciones es Requerido, cuando la muestra no es v\xE1lida",alert(_a.error),t.dom.inputobservacionesnovalida.focus();else{let a={nopedidomv:parseInt(Ee.numeroPedido),noatencionmv:parseInt(Ee.numeroAtencion),nohistoriaclinicamv:parseInt(Ee.numeroHistoriaClinica),idestadopedido:1,descripcion:t.dom.inputmuestradescripcion.value,valida:t.dom.checkvalida.checked?1:0,observacionesmuestranovalida:t.dom.checkvalida.checked?null:t.dom.inputobservacionesnovalida.value};_a.guardar(a),m.mount(document.querySelector("#gestion-muestras"),null),m.mount(document.querySelector("#cerrar-gestion-muestras"),null),_a.listado=[],_a.loading=!0}},style:{margin:"6px 0"}},[m("i.fas.fa-save.mg-r-5")],"Guardar")])])])])};let Oe={listado:[],muestras:[],muestrasAsociadas:[],error:"",secuencialInforme:"",consecutivo:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",medico:"",datosPaciente:null,loading:!1,cargarListado:function(t){Oe.loading=!0,m.request({method:"GET",url:"http://localhost:8000/api/v1/informe?nopedidomv="+t,body:{},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){Oe.listado=a.data,Oe.loading=!1}).catch(function(a){Oe.loading=!1,Oe.error=a,alert(Oe.error)})},cargarMuestras:t=>{m.request({method:"GET",url:"http://localhost:8000/api/v1/muestras?nopedidomv="+t,body:{},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){Oe.muestras=a.data}).catch(function(a){Oe.error=a,alert(Oe.error)})},cargarDatosPaciente:t=>{m.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-patologia",body:{},body:{numeroPedido:t},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){a.status?Oe.datosPaciente=a.data:Evoluciones.error=a.message}).catch(function(a){Oe.error=a,alert(Oe.error)})},guardar:t=>{m.request({method:"POST",url:"http://localhost:8000/api/v1/informe",body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){Oe.informecreaddo=a.data}).catch(function(a){Oe.error="Se produjo error guardando el Informe: "+a,alert(Oe.error)})},generarSecuencial:function(t,a){m.request({method:"GET",url:"http://localhost:8000/api/v1/informe/generarsecuencial/"+t+"/"+a,body:{},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(o){Oe.secuencialInforme=o.secuencialinforme,Oe.consecutivo=o.consecutivo}).catch(function(o){Oe.error=o,alert(Oe.error)})},actualizar:t=>{m.request({method:"PUT",url:"http://localhost:8000/api/v1/informe/"+t.id+"?nopedidomv="+Oe.numeroPedido,body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){Oe.cargarListado(Oe.numeroPedido)}).catch(function(a){Oe.error="Se produjo error guardando el informe: "+a,alert(Oe.error)})},finalizar:t=>{m.request({method:"PUT",url:"http://localhost:8000/api/v1/informe/"+t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){Oe.cargarListado(Oe.numeroPedido)}).catch(function(a){Oe.error="Se produjo error guardando el informe: "+a,alert(Oe.error)})}},Ue={listado:[],usuario:"",loading:!1,cargarListado:function(t){Ue.loading=!0,e.request({method:"GET",url:"http://localhost:8000/api/v1/plantillamacroscopica?usuario="+t,body:{},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){a.status?(Ue.listado=a.plantillas,Ue.usuario=t,Ue.loading=!1):(Ue.loading=!1,Ue.error=a.message)}).catch(function(a){Ue.loading=!1,Ue.error=a,alert(Ue.error)})},guardar:t=>{e.request({method:"POST",url:"http://localhost:8000/api/v1/plantillamacroscopica",body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){Ue.cargarListado(Ue.usuario)}).catch(function(a){Ue.error="Se produjo error guardando la Plantilla: "+a.response.message,alert(Ue.error)})},actualizar:t=>{e.request({method:"PUT",url:"http://localhost:8000/api/v1/plantillamacroscopica/"+parseInt(t.id),body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){Ue.cargarListado(Ue.usuario)}).catch(function(a){Ue.error="Se produjo error guardando la plantilla: "+a.response.message,alert(Ue.error)})},eliminar:t=>{e.request({method:"DELETE",url:"http://localhost:8000/api/v1/plantillamacroscopica/"+t.id,body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(){Ue.cargarListado(Ue.usuario)}).catch(function(a){Ue.error="Se produjo error eliminando la plantilla: "+a.response.message,alert(Ue.error)})}},We={listado:[],usuario:"",loading:!1,cargarListado:function(t){We.loading=!0,e.request({method:"GET",url:"http://localhost:8000/api/v1/plantilladiagnostico?usuario="+t,body:{},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){a.status?(We.listado=a.plantillas,We.usuario=t,We.loading=!1):(We.loading=!1,We.error=a.message)}).catch(function(a){We.loading=!1,We.error="Se produjo error cargando las plantillas: "+a.stack,alert(We.error)})},guardar:t=>{e.request({method:"POST",url:"http://localhost:8000/api/v1/plantilladiagnostico",body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){We.cargarListado(We.usuario)}).catch(function(a){We.error="Se produjo error guardando la plantilla: "+a.stack,alert(We.error)})},actualizar:t=>{e.request({method:"PUT",url:"http://localhost:8000/api/v1/plantilladiagnostico/"+parseInt(t.id),body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){We.cargarListado(We.usuario)}).catch(function(a){We.error="Se produjo error guardando la plantilla: "+a.stack,alert(We.error)})},eliminar:t=>{e.request({method:"DELETE",url:"http://localhost:8000/api/v1/plantilladiagnostico/"+parseInt(t.id),headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(){We.cargarListado(We.usuario)}).catch(function(a){We.error="Se produjo error eliminando la plantilla: "+a.stack,alert(We.error)})}},At={listado:[],secuencialCorte:[],informeId:"",editar:"",generarSecuencial:function(t){let a=1,o=At.secuencialCorte.findIndex(r=>r.letra===t);return o>=0?(a=At.secuencialCorte[o].consecutivo+1,At.secuencialCorte[o].consecutivo=a):At.secuencialCorte.push({letra:t,consecutivo:a}),a},cargarListado:function(t){m.request({method:"GET",url:"http://localhost:8000/api/v1/cortes?informeid="+t,body:{},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){a?At.listado=a.data:At.listado=[],At.secuencialCorte=[]}).catch(function(a){At.error=a,alert(At.error)})},guardar:t=>{m.request({method:"POST",url:"http://localhost:8000/api/v1/cortes?informeid="+At.informeId,body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){At.cargarListado(At.informeId),At.secuencialCorte=""}).catch(function(a){At.error="Se produjo error guardando el corte: "+a.response.message,alert(At.error)})}},Qa=At,Sr=null,Cr=1;const Yd={oninit:t=>{t.attrs.informeModelo!==void 0&&(Sr=t.attrs.informeModelo)},oncreate:t=>{t.dom.inputletra.focus()},view:t=>[m("form#crear-corte"),m("td.tx-12",{style:{width:"15%",padding:"8px 3px"}},[m("input.form-control[id='inputletra'][type='text'][form='crear-corte']",{style:{"text-transform":"uppercase"},onchange:function(a){t.dom.inputconsecutivo.value=Qa.generarSecuencial(a.target.value),t.dom.inputcortedescripcion.focus()},oninput:function(a){a.target.value.length>1&&(a.target.value=a.target.value.slice(0,1))}})]),m("td.tx-12",{style:{width:"15%",padding:"8px 3px"}},[m("input.form-control[id='inputconsecutivo'][type='text'][form='crear-corte']",{disabled:!0})]),m("td.tx-12",{style:{width:"50%"}},[m("textarea.form-control[id='inputcortedescripcion'][form='crear-corte'][placeholder='Descripci\xF3n del Corte'][title='Descripci\xF3n del Corte']",{style:"height: 38px",rows:4})]),m("td.tx-12",{style:{width:"20%",padding:"0"}},[m("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button'][form='crear-corte']",{onclick:function(){if(t.dom.btnnuevocorte.disabled=!1,t.dom.inputletra.value.length===0)Qa.error="El campo Letra es Requerido",alert(Qa.error),t.dom.inputletra.focus();else if(t.dom.inputcortedescripcion.value.length===0)Qa.error="El campo Descripci\xF3n es Requerido",alert(Qa.error),t.dom.inputcortedescripcion.focus();else{let a={id:Cr,informe_id:0,codigocorte:Sr.secuencialInforme+"-"+t.dom.inputletra.value.toUpperCase()+t.dom.inputconsecutivo.value,letra:t.dom.inputletra.value.toUpperCase(),consecutivo:t.dom.inputconsecutivo.value,descripcion:t.dom.inputcortedescripcion.value};Qa.listado.push(a),Cr+=1,m.mount(document.querySelector("#gestion-cortes"),null)}},style:{margin:"15px 5px 0 5px",width:"47%",padding:"5px"}},[m("i.fas.fa-save.mg-r-5")],"Guardar"),m("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button'][form='crear-corte']",{onclick:function(){t.dom.btnnuevocorte.disabled=!1,m.mount(document.querySelector("#gestion-cortes"),null)},style:{margin:"15px 0 0 0",width:"47%",padding:"5px"}},[m("i.fas.fa-save.mg-r-5")],"Cancelar")])]};let _o=At,so=null;const jd={oninit:t=>{t.attrs.corte!==void 0&&(so=t.attrs.corte)},oncreate:t=>{},view:t=>[m("form#editar-corte"),m("td.tx-12",{style:{width:"15%",padding:"8px 3px"}},[m("input.form-control[id='inputletra'][type='text'][form='editar-corte']",{disabled:!0,value:so.letra})]),m("td.tx-12",{style:{width:"15%",padding:"8px 3px"}},[m("input.form-control[id='inputconsecutivo'][type='text'][form='editar-corte']",{disabled:!0,value:so.consecutivo})]),m("td.tx-12",{style:{width:"50%"}},[m("textarea.form-control[id='inputcortedescripcion'][form='editar-corte'][placeholder='Descripci\xF3n del Corte'][title='Descripci\xF3n del Corte']",{style:"height: 38px",rows:4,value:so.descripcion})]),m("td.tx-12",{style:{width:"20%",padding:"0"}},[m("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button'][form='editar-corte']",{onclick:function(){if(t.dom.inputcortedescripcion.value.length===0)_o.error="El campo Descripci\xF3n es Requerido",alert(_o.error),t.dom.inputcortedescripcion.focus();else{let a=_o.listado.map(o=>o.id).indexOf(so.id);a!==-1&&(_o.listado[a].descripcion=t.dom.inputcortedescripcion.value),m.mount(document.querySelector("#gestion-cortes"),null)}},style:{margin:"15px 5px 0 5px",width:"47%",padding:"5px"}},[m("i.fas.fa-save.mg-r-5")],"Guardar"),m("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button'][form='editar-corte']",{onclick:function(){m.mount(document.querySelector("#gestion-cortes"),null)},style:{margin:"15px 0 0 0",width:"47%",padding:"5px"}},[m("i.fas.fa-save.mg-r-5")],"Cancelar")])]};let eo=At,to=null;const or={oninit:t=>{t.attrs.informeModelo!==void 0&&(to=t.attrs.informeModelo,to.listado.length>0&&(eo.listado=to.listado[0].cortes,eo.informeId=to.listado[0].id))},onupdate:t=>{to.listadoCortes=eo.listado},view:t=>[m("table.table.boton-nuevo-cortes",{style:{margin:"0"}},[m("tr",[m("th.tx-12",{style:{width:"80%"}},"INGRESAR CORTES:"),m("th.tx-12",{style:{width:"20%"}},[m("button#btnnuevocorte.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button'][form='crear-corte']",{style:{width:"95%"},onclick:function(){this.disabled=!0,m.mount(document.querySelector("#gestion-cortes"),{view:a=>m(Yd,{informeModelo:to})})}},[m("i.fas.fa-plus.mg-r-5")],"Nuevo Corte")])])]),m("table#gestion-cortes",{style:{width:"98%","margin-left":"1%"}}),m("table.table.encabezado-cortes",{style:{width:"98%","margin-left":"1%"}},[m("tr",[m("th.tx-12.thead-light",{scope:"col",style:{width:"15%"}},"Letra"),m("th.tx-12.thead-light",{scope:"col",style:{width:"15%"}},"Consecutivo"),m("th.tx-12.thead-light",{scope:"col",style:{width:"50%"}},"Descripci\xF3n"),m("th.tx-12.thead-light",{scope:"col",style:{width:"20%"}},"")])]),m("table.table.listado-cortes",{style:{width:"98%","margin-left":"1%"}},[eo.listado.map(function(a){return[m("tr#"+a.id,[m("th.tx-12",{style:{width:"15%"}},a.letra),m("th.tx-12",{style:{width:"15%"}},a.consecutivo),m("td.tx-12.cortedescription",{style:{width:"50%"}},[a.descripcion]),m("td.tx-12",{style:{width:"20%",padding:"0"}},[m("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button'][corteid="+a.id+"]",{onclick:function(o){m.mount(document.querySelector("#gestion-cortes"),{view:()=>m(jd,{corte:a})})},style:{margin:"5px 5px 5px 5px",width:"47%",padding:"5px"}},[m("i.fas.fa-edit.mg-r-5")],"Editar"),m("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button'][corteid="+a.id+"]",{onclick:function(o){if(window.confirm("Est\xE1 seguro que desea borrar el elemento?")){let r=eo.listado.filter(i=>i.id!==parseInt(o.target.getAttribute("corteid")));eo.listado=r}},style:{margin:"5px 0 5px 0",width:"47%",padding:"5px"}},[m("i.fas.fa-trash.mg-r-5")],"Eliminar")])])]})])]};let Uo="",Bo="",je=Oe,Ir=Ue,Vo=We,fa=null;const Ud={oninit:t=>{t.attrs.informeModelo!==void 0&&(je=t.attrs.informeModelo,fa=je.listado[0]),C.isAuth(),Ue.cargarListado(W.user.user),Vo.cargarListado(W.user.user)},view:t=>m("form#crear-informe",[m("table.table",[m("tr",[m("th.tx-12",{style:{width:"85%"}},[m("h3.mg-t-5.mg-b-10.tx-center",[m("span",{style:"margin: 0 30px 0 0"},"ANAT\xD3MICO")])]),m("th.tx-12",{style:{width:"15%"}},[m("button#btnnuevoanatomico.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{style:{width:"95%"},onclick:()=>{m.mount(document.querySelector("#crear-informe"),{view:()=>m(informeAnatomico,{attrs:{numeroPedido:je.numeroPedido,numeroAtencion:je.numeroAtencion,numeroHistoriaClinica:je.numeroHistoriaClinica,medico:je.medico}})})}},[m("i.fas.fa-plus.mg-r-5")],"Nuevo")])])]),m("table.table",[m("tr",[m("th.tx-12","ID P-ANAT\xD3MICO: "),m("td.tx-12",[m("input.form-control[id='inputinformeid'][type='text']",{disabled:!0,value:fa.codigoinforme})]),m("th.tx-12","NO. PEDIDO:"),m("td.tx-12",[m("input.form-control[id='inputnumeropedidomv'][type='text']",{value:fa.nopedidomv,disabled:!0})])]),m("tr",[m("th.tx-12","M\xC9DICO SOLICITANTE:"),m("td.tx-12",[m("input.form-control[id='inputmedicosolicitante'][type='text']",{value:fa.medicosolicitante,disabled:!0})]),m("th.tx-12","FECHA DEL DOCUMENTO:"),m("td.tx-12",[m("input.form-control[id='inputfechadocumento'][type='text']",{value:fa.fechapedido,disabled:!0})])])]),m("table.table",[m("tr",[m("th.tx-12","INFORMACI\xD3N CL\xCDNICA:"),m("th.tx-12","MUESTRAS ENVIADAS:")]),m("tr",[m("td.tx-12",{style:{width:"50%"}},[m("textarea.form-control[id='textareainformacionclinica']",{style:"min-height: 100px",rows:4,value:fa.informacionclinica})]),m("td.tx-12",{},[m("div[id='muestrasasociadas']",{style:{border:"1px solid #c0ccda",height:"100px",padding:"5px",overflow:"auto"}},[fa.muestrasAsociadas.map(function(a){return[m("div",[m("input[type='checkbox']",{style:{float:"left","margin-top":"2px"},class:"muestraenviada",id:a.id,checked:!0,onclick:function(){const o=muestrasAsociadas.map(r=>r.id).indexOf(parseInt(this.id));o!=-1&&(muestrasAsociadas[o].checked=this.checked)}}),m("label.tx-semibold.tx-12",{style:{margin:"0 10px",width:"90%"}},a.id+" - "+a.descripcion)])]})])])])]),m("table.table",[m("tr",[m("th.tx-12",[m("label.tx-12",{style:{width:"30%"}},"MACROSC\xD3PICO:"),m("label.tx-semibold.tx-12",{style:{width:"30%",color:"#0168fa"}},"AGREGAR TEXTO DEFINIDO PREVIAMENTE: "),m("select",{style:{width:"40%",height:"25px"},onchange:function(a){Uo=a.target.value;let o=Ir.listado.find(r=>r.nombreplantilla===Uo);t.dom.textareamacroscopico.value=o.plantilla},value:Uo},Ir.listado.map(a=>m("option",a.nombreplantilla)))])]),m("tr",[m("td.tx-12",[m("textarea.form-control[id='textareamacroscopico']",{style:"min-height: 100px",rows:4,value:fa.macroscopico})])])]),m(or,{informeModelo:je}),m("table.table",[m("tr",[m("th.tx-12",[m("label.tx-12",{style:{width:"30%"}},"DIAGN\xD3STICO:"),m("label.tx-semibold.tx-12",{style:{width:"30%",color:"#0168fa"}},"AGREGAR TEXTO DEFINIDO PREVIAMENTE: "),m("select",{style:{width:"40%",height:"25px"},onchange:function(a){Bo=a.target.value;let o=Vo.listado.find(r=>r.nombreplantilla===Bo);t.dom.textareadiagnostico.value=o.plantilla},value:Bo},Vo.listado.map(a=>m("option",a.nombreplantilla)))])]),m("tr",[m("td.tx-12",[m("textarea.form-control[id='textareadiagnostico']",{style:"min-height: 100px",rows:4,value:fa.diagnostico})])])]),m("table.table",[m("tr",[m("th.tx-12",[]),m("th.tx-12",{style:"float: right"},[m("button#btnguardarinforme.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){let a=[],o=[];if(je.muestrasAsociadas.filter(function(r){r.checked&&a.push(r.id)}),je.listadoCortes.filter(function(r){o.push(r)}),t.dom.textareainformacionclinica.value.length===0)je.error="El campo Informaci\xF3n Cl\xEDnica es Requerido",alert(je.error),t.dom.textareainformacionclinica.focus();else if(a.length===0)je.error="Debe asociar al menos una muestra.",alert(je.error);else if(t.dom.textareamacroscopico.value.length===0)je.error="El campo Macrosc\xF3pico es Requerido",alert(je.error),t.dom.textareamacroscopico.focus();else if(t.dom.textareadiagnostico.value.length===0)je.error="El campo Diagn\xF3stico es Requerido",alert(je.error),t.dom.textareadiagnostico.focus();else{this.disabled=!0;let r=je.datosPaciente.FECHA_PEDIDO.split("-"),i=new Date(parseInt(r[2]),parseInt(r[1]-1),parseInt(r[0]));r=t.dom.inputfechadocumento.value.split("-");let s=new Date(parseInt(r[2]),parseInt(r[1]-1),parseInt(r[0])),c={idmuestra:1,nopedidomv:parseInt(je.numeroPedido),nohistoriaclinicamv:parseInt(je.numeroHistoriaClinica),noatencionmv:parseInt(je.numeroAtencion),medicosolicitante:t.dom.inputmedicosolicitante.value,nombrepaciente:je.datosPaciente.NM_PACIENTE,cedulaidentidad:je.datosPaciente.CD_IDENTIFICADOR_PESSOA,servicio:je.datosPaciente.SERVICIO,plan:je.datosPaciente.NM_CONVENIO,instruccion:je.datosPaciente.SECTOR,ubicacion:je.datosPaciente.UBICACION,edad:je.datosPaciente.EDAD,fechapedido:i.toLocaleDateString("en-CA"),secuencial:je.consecutivo,year:moment().year(),idtipoinforme:1,idestadopedido:1,informacionclinica:t.dom.textareainformacionclinica.value,diagnostico:t.dom.textareadiagnostico.value,macroscopico:t.dom.textareamacroscopico.value,fechadocumento:s.toLocaleDateString("en-CA"),codigoinforme:t.dom.inputinformeid.value,muestrasenviadas:a,cortes:o};je.guardar(c),t.dom.btnfinalizarinforme.disabled=!1}}},[m("i.fas.mg-r-5")],"Guardar"),m("button#btnfinalizarinforme.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{disabled:!0,onclick:function(){je.finalizar(fa)}},[m("i.fas.mg-r-5")],"Finalizar")])])])])};let Nr=Oe;const mi={oninit:t=>{if(t.attrs.informeModelo!==void 0&&t.attrs.informeId!==void 0){let a=t.attrs.informeModelo.listado.filter(o=>o.id===parseInt(t.attrs.informeId));t.attrs.informeModelo.listado=a,Nr=t.attrs.informeModelo}},view:()=>[m("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[m(ua,[{path:"/",label:"metroplus"},{path:"/patologia",label:"patologia"},{path:"",label:"nuevo informe"}]),m("h1.df-title.mg-t-20.mg-b-10","Informaci\xF3n del Paciente"),m("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[m("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",m("small.pd-2.tx-20",m("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{window.location.reload()}}))),m("form#crear-informe",[m(Ud,{informeModelo:Nr})])])])]};let qo=Oe;const Rr={oninit:t=>{t.attrs.informe!==void 0&&(qo=t.attrs.informe)},view:t=>[qo.listado.map(function(a){return[m("tr#"+a.id,[m("th.tx-12.wd-10p",{scope:"row"},a.codigoinforme),m("th.tx-12.wd-55p",{scope:"row"},[a.muestrasAsociadas.map(function(o){return m("p",{style:{"margin-bottom":"0"}},o.id+"-"+o.descripcion)})]),m("th.tx-12.wd-10p",{scope:"row"},a.estadopedido.siglas),m("td.tx-12.wd-25p",{scope:"col"},[m("div.mg-0.mg-t-5.text-left.float-left",[m("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:()=>{m.mount(document.querySelector("#gestionpatologia"),{view:()=>m(mi,{informeId:a.id,informeModelo:qo})})}},[m("i.fas.fa-edit.mg-r-5")],"Editar")]),m("div.mg-0.mg-t-5.text-left.float-left",[m(m.route.Link,{href:"http://172.16.1.122:8080/jasperserver/flow.html?_flowId=viewReportFlow&_flowId=viewReportFlow&ParentFolderUri=%2Freports&reportUnit=%2Freports%2FInformeAnatomico&standAlone=true&decorate=no&j_username=jasperadmin&j_password=jasperadmin&InformeId="+a.id,class:"btn btn-xs btn-primary mg-l-2 tx-semibold",target:"_blank"},[m("i.fas.fa-print.mg-r-2"),"Imprimir"])])])])]})]};let Jo="",zo="",Me=Oe,Lr=Ue,Go=We;const pi={oninit:t=>{m.redraw(or),Me.generarSecuencial(moment().year(),1),m.route.param("numeroPedido")&&(Me.numeroPedido=m.route.param("numeroPedido"),Me.cargarMuestras(Me.numeroPedido),Me.cargarDatosPaciente(Me.numeroPedido)),m.route.param("numeroAtencion")&&(Me.numeroAtencion=m.route.param("numeroAtencion")),m.route.param("numeroHistoriaClinica")&&(Me.numeroHistoriaClinica=m.route.param("numeroHistoriaClinica")),m.route.param("medico")&&(Me.medico=m.route.param("medico")),C.isAuth(),Ue.cargarListado(W.user.user),Go.cargarListado(W.user.user)},view:t=>m("form#crear-informe",[m("table.table",[m("tr",[m("th.tx-12",{style:{width:"85%"}},[m("h3.mg-t-5.mg-b-10.tx-center",[m("span",{style:"margin: 0 30px 0 0"},"ANAT\xD3MICO")])]),m("th.tx-12",{style:{width:"15%"}},[m("button#btnnuevoanatomico.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{style:{width:"95%"},onclick:()=>{m.mount(document.querySelector("#crear-informe"),{view:()=>m(pi,{attrs:{numeroPedido:Me.numeroPedido,numeroAtencion:Me.numeroAtencion,numeroHistoriaClinica:Me.numeroHistoriaClinica,medico:Me.medico}})})}},[m("i.fas.fa-plus.mg-r-5")],"Nuevo")])])]),m("table.table",[m("tr",[m("th.tx-12","ID P-ANAT\xD3MICO: "),m("td.tx-12",[m("input.form-control[id='inputinformeid'][type='text']",{disabled:!0,value:Me.secuencialInforme})]),m("th.tx-12","NO. PEDIDO:"),m("td.tx-12",[m("input.form-control[id='inputnumeropedidomv'][type='text']",{value:Me.numeroPedido,disabled:!0})])]),m("tr",[m("th.tx-12","M\xC9DICO SOLICITANTE:"),m("td.tx-12",[m("input.form-control[id='inputmedicosolicitante'][type='text']",{value:Me.medico,disabled:!0})]),m("th.tx-12","FECHA DEL DOCUMENTO:"),m("td.tx-12",[m("input.form-control[id='inputfechadocumento'][type='text']",{value:moment().format("D-MM-YYYY"),disabled:!0})])])]),m("table.table",[m("tr",[m("th.tx-12","INFORMACI\xD3N CL\xCDNICA:"),m("th.tx-12","MUESTRAS ENVIADAS:")]),m("tr",[m("td.tx-12",{style:{width:"50%"}},[m("textarea.form-control[id='textareainformacionclinica']",{style:"min-height: 100px",rows:4})]),m("td.tx-12",{},[m("div[id='muestrasasociadas']",{style:{border:"1px solid #c0ccda",height:"100px",padding:"5px",overflow:"auto"}},[Me.muestras.map(function(a){return Me.muestrasAsociadas.map(o=>o.id).indexOf(a.id)===-1&&Me.muestrasAsociadas.push({id:a.id,checked:!1}),[m("div",[m("input[type='checkbox']",{style:{float:"left","margin-top":"2px"},class:"muestraenviada",id:a.id,onclick:function(){const o=Me.muestrasAsociadas.map(r=>r.id).indexOf(parseInt(this.id));o!=-1&&(Me.muestrasAsociadas[o].checked=this.checked)}}),m("label.tx-semibold.tx-12",{style:{margin:"0 10px",width:"90%"}},a.id+" - "+a.descripcion)])]})])])])]),m("table.table",[m("tr",[m("th.tx-12",[m("label.tx-12",{style:{width:"30%"}},"MACROSC\xD3PICO:"),m("label.tx-semibold.tx-12",{style:{width:"30%",color:"#0168fa"}},"AGREGAR TEXTO DEFINIDO PREVIAMENTE: "),m("select",{style:{width:"40%",height:"25px"},onchange:function(a){Jo=a.target.value;let o=Lr.listado.find(r=>r.nombreplantilla===Jo);t.dom.textareamacroscopico.value=o.plantilla},value:Jo},Lr.listado.map(a=>m("option",a.nombreplantilla)))])]),m("tr",[m("td.tx-12",[m("textarea.form-control[id='textareamacroscopico']",{style:"min-height: 100px",rows:4})])])]),m(or,{informeModelo:Me}),m("table.table",[m("tr",[m("th.tx-12",[m("label.tx-12",{style:{width:"30%"}},"DIAGN\xD3STICO:"),m("label.tx-semibold.tx-12",{style:{width:"30%",color:"#0168fa"}},"AGREGAR TEXTO DEFINIDO PREVIAMENTE: "),m("select",{style:{width:"40%",height:"25px"},onchange:function(a){zo=a.target.value;let o=Go.listado.find(r=>r.nombreplantilla===zo);t.dom.textareadiagnostico.value=o.plantilla},value:zo},Go.listado.map(a=>m("option",a.nombreplantilla)))])]),m("tr",[m("td.tx-12",[m("textarea.form-control[id='textareadiagnostico']",{style:"min-height: 100px",rows:4})])])]),m("table.table",[m("tr",[m("th.tx-12",[]),m("th.tx-12",{style:"float: right"},[m("button#btnguardarinforme.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){let a=[],o=[];if(Me.muestrasAsociadas.filter(function(r){r.checked&&a.push(r.id)}),Me.listadoCortes.filter(function(r){o.push(r)}),t.dom.textareainformacionclinica.value.length===0)Me.error="El campo Informaci\xF3n Cl\xEDnica es Requerido",alert(Me.error),t.dom.textareainformacionclinica.focus();else if(a.length===0)Me.error="Debe asociar al menos una muestra.",alert(Me.error);else if(t.dom.textareamacroscopico.value.length===0)Me.error="El campo Macrosc\xF3pico es Requerido",alert(Me.error),t.dom.textareamacroscopico.focus();else if(t.dom.textareadiagnostico.value.length===0)Me.error="El campo Diagn\xF3stico es Requerido",alert(Me.error),t.dom.textareadiagnostico.focus();else{this.disabled=!0;let r=Me.datosPaciente.FECHA_PEDIDO.split("-"),i=new Date(parseInt(r[2]),parseInt(r[1]-1),parseInt(r[0]));r=t.dom.inputfechadocumento.value.split("-");let s=new Date(parseInt(r[2]),parseInt(r[1]-1),parseInt(r[0])),c={idmuestra:1,nopedidomv:parseInt(Me.numeroPedido),nohistoriaclinicamv:parseInt(Me.numeroHistoriaClinica),noatencionmv:parseInt(Me.numeroAtencion),medicosolicitante:t.dom.inputmedicosolicitante.value,nombrepaciente:Me.datosPaciente.NM_PACIENTE,cedulaidentidad:Me.datosPaciente.CD_IDENTIFICADOR_PESSOA,servicio:Me.datosPaciente.SERVICIO,plan:Me.datosPaciente.NM_CONVENIO,instruccion:Me.datosPaciente.SECTOR,ubicacion:Me.datosPaciente.UBICACION,edad:Me.datosPaciente.EDAD,fechapedido:i.toLocaleDateString("en-CA"),secuencial:Me.consecutivo,year:moment().year(),idtipoinforme:1,idestadopedido:1,informacionclinica:t.dom.textareainformacionclinica.value,diagnostico:t.dom.textareadiagnostico.value,macroscopico:t.dom.textareamacroscopico.value,fechadocumento:s.toLocaleDateString("en-CA"),codigoinforme:t.dom.inputinformeid.value,muestrasenviadas:a,cortes:o};Me.guardar(c)}}},[m("i.fas.mg-r-5")],"Guardar")])])])])};let Xo=Oe;const fi={oninit:t=>{t.attrs.numeroPedido!==void 0&&(Xo.numeroPedido=t.attrs.numeroPedido),t.attrs.numeroAtencion!==void 0&&(Xo.numeroAtencion=t.attrs.numeroAtencion),t.attrs.numeroHistoriaClinica!==void 0&&(Xo.numeroHistoriaClinica=t.attrs.numeroHistoriaClinica),t.attrs.medico!==void 0&&(muestraModelo.medico=t.attrs.medico)},view:()=>[m("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[m(ua,[{path:"/",label:"metroplus"},{path:"/patologia",label:"patologia"},{path:"",label:"nuevo informe"}]),m("h1.df-title.mg-t-20.mg-b-10","Informaci\xF3n del Paciente"),m("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[m("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",m("small.pd-2.tx-20",m("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{window.location.reload()}}))),m("form#crear-informe",[m(pi)])])])]};let xt=Oe;const Ko={oninit:t=>{t.attrs.numeroPedido!==void 0&&(xt.numeroPedido=t.attrs.numeroPedido,xt.cargarListado(xt.numeroPedido)),t.attrs.numeroAtencion!==void 0&&(xt.numeroAtencion=t.attrs.numeroAtencion),t.attrs.numeroHistoriaClinica!==void 0&&(xt.numeroHistoriaClinica=t.attrs.numeroHistoriaClinica),t.attrs.medico!==void 0&&(xt.medico=t.attrs.medico)},oncreate:t=>{xt.listado.length==0?m.mount(document.querySelector("div#loader-informes"),ya):xt.listado.length>0&&(m.mount(document.querySelector("div#loader-informes"),null),m.mount(document.querySelector("table.table#listado-informes"),{view:a=>[m(Rr,{informe:xt})]}))},onupdate:t=>{document.querySelector("div#loader-informes")&&(xt.listado.length==0&&xt.loading?m.mount(document.querySelector("div#loader-informes"),ya):xt.listado.length>0&&!xt.loading?(m.mount(document.querySelector("div#loader-informes"),null),m.mount(document.querySelector("table.table#listado-informes"),{view:a=>[m(Rr,{informe:xt})]})):xt.listado.length==0&&!xt.loading&&m.mount(document.querySelector("div#loader-informes"),ho))},view:t=>[m("table.table",{style:{margin:"0"}},[m("tr",[m("th.tx-12",{scope:"col",style:{"vertical-align":"middle"}},"GENERAR NUEVO INFORME"),m("td",[m("div.float-right",[m("button#btnnuevoinforme.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:()=>{m.mount(document.querySelector("#gestionpatologia"),{view:()=>m(fi,{attrs:{numeroPedido:xt.numeroPedido,numeroAtencion:xt.numeroAtencion,numeroHistoriaClinica:xt.numeroHistoriaClinica,medico:xt.medico}})})}},[m("i.fas.mg-r-5")],"ANAT\xD3MICO")])])])]),m("table.table",{style:{margin:"0"}},[m("thead.thead-light",[m("tr",[m("th.tx-12",{scope:"col",style:{width:"10%"}},"ID Informe"),m("th.tx-12",{scope:"col",style:{width:"55%"}},"Muestras Asociadas"),m("th.tx-12",{scope:"col",style:{width:"10%"}},"Estado Informe"),m("th.tx-12",{scope:"col",style:{width:"25%"}},"")])])]),m("table.table#listado-informes"),m("div#loader-informes",{style:{"padding-left":"10px"}})]},Xe={secs:[],nombres:"",show:!1,view:()=>{let t="",a="",o="";return nt.num==0&&setTimeout(function(){nt.num=nt.data.length,nt.parseFetch(),e.redraw.sync()},2e3),Xe.secs.length==0?[e("div.pd-10.wd-100p",e("div.d-inline.tx-secondary.tx-12",{oncreate:r=>{r.dom.innerHTML="Procesando "+nt.data.length+" formulario(s) encontrado(s)..."}}),e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]:[Xe.secs.map(function(r,i,s){if(r.name=="prescripciones_texto"&&(a=r.answer),r.name=="evolucion_medica_texto"&&(t=r.answer),r.name=="cd_documento_clinico"&&(o="http://172.16.253.18/mvpep/api/clinical-documents/"+r.answer+".pdf?company=1&department=75"),r.name=="Logotipo_archivo")return[e("div.d-inline.tx-secondary.tx-12",{oncreate:c=>{c.dom.innerHTML=nt.data.length+" formulario(s) encontrado(s)."}}),e("table.table.table-bordered.wd-100p",{style:{zoom:nt.zoom}},[e("thead",[e("tr",e("th[colspan='12'][scope='col']",[e("i.tx-light.fas.fa-file-alt.mg-r-2."),e("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),e("tr",[e("th[colspan='10'][scope='col']",e("div.m-0.p-0",e("img",{width:"100rem",src:"data:image/png;base64,"+r.answer}))),e("th.tx-right[colspan='2'][scope='col']",e("a.tx-right.tx-semibold",{href:o,target:"_blank"},e("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),e("tbody",[e("tr",[e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ESTABLECIMIENTO")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NOMBRE")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","APELLIDO")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","SEXO (M-F)")),e("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NHCL.")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ADM."))]),e("tr",[e("th.text-center[colspan='3'][scope='row']",e("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",Xe.nombres)),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",Xe.apellidos_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Xe.sexo)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Xe.nhcl)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Xe.numero_admision))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","EDAD")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","UBICACION")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),e("tr",[e("td.text-center[colspan='1'][scope='row']",e("div.m-0.p-0.text-center",Xe.edad||Xe.edad_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Xe.identificacion)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Xe.fecha_admision)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Xe.fecha_admision)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",Xe.ubicacion)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",Xe.medico_tratante))]),e("tr",[e("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCI\xD3N")),e("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",e("br"),"CADA PRESCRIPCI\xD3N"]))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FECHA",e("br"),"d\xEDa/mes/a\xF1o"])),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","HORA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCI\xD3N")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",e("br"),"(PARA ENFERMER\xCDA Y OTRO PERSONAL)"])),e("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",e("br"),"F\xC1RMACOS INSUMOS"]))]),e("tr",[e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.tx-bold.text-justify",t!==null&&t.length!==0?e.trust(t.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.text-justify",a!==null&&a.length!==0?e.trust(a.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},nt={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:t=>(Object.keys(t.data).map(function(a,o,r){Xe.secs.push(t.data[a])}),Xe.secs.map(function(a,o,r){a.name=="nombres"&&(Xe.nombres=a.answer),a.name=="apellidos_paciente"&&(Xe.apellidos_paciente=a.answer),a.name=="sexo de paciente"&&(Xe.sexo=a.answer),a.name=="nhcl"&&(Xe.nhcl=a.answer),a.name=="numero_admision"&&(Xe.numero_admision=a.answer),a.name=="edad"&&(Xe.edad=a.answer),a.name=="edad_paciente"&&(Xe.edad_paciente=a.answer),a.name=="identificacion_paciente"&&(Xe.identificacion=a.answer),a.name=="fecha_admision"&&(Xe.fecha_admision=a.answer),a.name=="ubicacion_atencion"&&(Xe.ubicacion=a.answer),a.name=="fecha_alta"&&(Xe.fecha_alta=a.answer==null?"":a.answer),a.name=="medico_tratante"&&(Xe.medico_tratante=a.answer)})),parseFetch:()=>(Xe.secs=[],nt.data.map(function(t,a,o){nt.parseDoc(nt.data[a])})),fetch:()=>{nt.data=[],nt.error="",e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+nt.nhc+"&adm="+nt.adm,headers:{Authorization:localStorage.aesComplementarioessToken}}).then(function(t){t.length!==0?(nt.data=t,nt.num=0):nt.error="El documento solicitado no esta disponible."}).catch(function(t){setTimeout(function(){nt.fetch()},5e3)})},view:()=>nt.error?[e(".alert.alert-danger[role='alert']",nt.error)]:nt.data.length!==0?[e(Xe)]:[e("div.d-inline.tx-secondary.tx-12",{oncreate:t=>{t.dom.innerHTML="Buscando informaci\xF3n..."}}),e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},ea={data:[],detalle:[],error:"",showFor:"",fetch:()=>{ea.data=[],ea.error="",e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:ve.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(t){t.status?(ea.data=t.data,nt.adm=ea.data[0].ADM,nt.nhc=ea.data[0].NHCL,nt.fetch()):ea.error=t.message}).catch(function(t){setTimeout(function(){ea.fetch()},5e3)})},view:()=>ea.error?[e(".alert.alert-danger[role='alert']",ea.error)]:ea.data.length!==0?[e(nt)]:[e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},Bd={view:()=>{if(ve.examenes.length!==0)return ve.examenes.map(function(t,a,o){return[e(".tx-14.tx-semibold.d-inline",t.EXAMEN),e("br"),t.OBS_EXAMEN!==null?e(".d-inline","Observaciones:"):"",t.OBS_EXAMEN!==null?e("br"):"",t.OBS_EXAMEN!==null?e(".d-inline",t.OBS_EXAMEN):""]})}},ve={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",medico:"",oninit:t=>{t.attrs.numeroPedido!==void 0&&(document.title="Detalle de Pedido N\xB0: "+t.attrs.numeroPedido+" | "+C.title,(ve.data!==void 0&&ve.data.length==0||ve.numeroPedido!==t.attrs.numeroPedido)&&(ve.numeroPedido=t.attrs.numeroPedido,ve.numeroAtencion=t.attrs.numeroAtencion,ve.numeroHistoriaClinica=t.attrs.numeroHistoriaClinica,ve.medico=t.attrs.medico,ve.fetch()))},fetch:()=>{ve.data=[],ve.loader=!0,e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-patologia",body:{numeroPedido:ve.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status?(ve.loader=!1,ve.data=t.data,ve.examenes=t.examenes,ea.fetch()):ve.error=t.message}).catch(function(t){})},view:t=>[e(_,{oncreate:_.setPage("patologia")}),e(ut,{oncreate:ut.setPage(26)}),e("div.content.content-components",e("div#gestionpatologia.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e(ua,[{path:"/",label:"metroplus"},{path:"/patologia",label:"patologia"},{path:"",label:"pedidos ingresados"}]),e("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N\xB0: "+ve.numeroPedido),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",{oncreate:a=>{ve.loader?a.dom.hidden=!1:a.dom.hidden=!0},onupdate:a=>{ve.loader?a.dom.hidden=!1:a.dom.hidden=!0}},[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])]),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:a=>{ve.loader?a.dom.hidden=!0:a.dom.hidden=!1},onupdate:a=>{ve.loader?a.dom.hidden=!0:a.dom.hidden=!1}},[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{N.idFiltro!==void 0&&N.idFiltro>1?e.route.set("/patologia/pedidos/",{idFiltro:N.idFiltro,fechaDesde:N.fechaDesde,fechaHasta:N.fechaHasta}):e.route.set("/patologia/pedidos/",{idFiltro:1})}}))),e("div.table-responsive",[e("table.table.table-bordered.table-sm.tx-12",[e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS DEL PEDIDO:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 Pedido Patolog\xEDa:"),e("td",{style:{"background-color":"#eaeff5"}},ve.data.CD_PRE_MED),e("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},ve.data.FECHA_PEDIDO+" "+ve.data.HORA_PEDIDO),e("th",{style:{"background-color":"#a8bed6"}},"Origen:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},ve.data.SECTOR)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"M\xE9dico Solicitante:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},ve.medico),e("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},ve.data.ESPECIALIDAD)])]),e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},ve.data.NM_PACIENTE),e("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),e("td",{style:{"background-color":"#eaeff5"}},ve.data.EDAD),e("th",{style:{"background-color":"#a8bed6"}},"NHC:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},ve.data.CD_PACIENTE)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 Atenci\xF3n:"),e("td",{style:{"background-color":"#eaeff5"}},ve.data.AT_MV),e("th",{style:{"background-color":"#a8bed6"}},"Peso:"),e("td",{style:{"background-color":"#eaeff5"}},ve.data.PESO),e("th",{style:{"background-color":"#a8bed6"}},"Altura:"),e("td",{style:{"background-color":"#eaeff5"}},ve.data.ALTURA),e("th",{style:{"background-color":"#a8bed6"}},"Ubicaci\xF3n:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},ve.data.SECTOR+" "+ve.data.UBICACION)]),e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","EX\xC1MENES Y OBSERVACIONES:")]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Ex\xE1menes:"),e("td[colspan='8']",{style:{"background-color":"#eaeff5"}},e(Bd))]),e("tr.d-print-none.bg-litecoin.op-9.tx-white.",[e("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),e("tr.d-print-none",[e("td[colspan='9']",{style:{"background-color":"#eaeff5"}},e("ul.nav.nav-tabs[id='myTab'][role='tablist']",[e("li.nav-item",e("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},e("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005")),e("li.nav-item",e("a.nav-link[id='recepcionmuestra-tab'][data-toggle='tab'][href='#recepcionmuestra'][role='tab'][aria-controls='recepcionmuestra'][aria-selected='true']",{style:{color:"#476ba3"}},e("i.fas.fa-microscope.pd-1.mg-r-2")," MUESTRAS")),e("li.nav-item",e("a.nav-link[id='informes-tab'][data-toggle='tab'][href='#informes'][role='tab'][aria-controls='seguimiento'][aria-selected='true']",{style:{color:"#476ba3"},onclick:()=>{Ko.oninit({attrs:{numeroPedido:ve.numeroPedido}}),e.redraw(Ko)}},e("i.fas.fa-book.pd-1.mg-r-2")," INFORMES"))]))]),e("tr.d-print-none",[e("td[colspan='9']",{style:{padding:"0"}},e(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[e(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[e(ea)]),e(".tab-pane.fade[id='recepcionmuestra'][role='tabpanel'][aria-labelledby='recepcionmuestra-tab']",[e("div.mg-0.mg-t-10.mg-b-10.text-left",[e("button#btnnuevamuestra.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:()=>{e.mount(document.querySelector("#gestion-muestras"),$d),e.mount(document.querySelector("#cerrar-gestion-muestras"),ar)}},[e("i.fas.mg-r-5")],"Nueva Muestra"),e("div#cerrar-gestion-muestras",{style:{width:"50%",float:"right"}})]),e("div#gestion-muestras"),e(Hd,{numeroPedido:ve.numeroPedido,numeroAtencion:ve.numeroAtencion,numeroHistoriaClinica:ve.numeroHistoriaClinica,medico:ve.medico})]),e(".tab-pane.fade[id='informes'][role='tabpanel'][aria-labelledby='informes-tab']",[e(Ko,{numeroPedido:ve.numeroPedido,numeroAtencion:ve.numeroAtencion,numeroHistoriaClinica:ve.numeroHistoriaClinica,medico:ve.medico})])]))]),e("tr.d-print-none",[])])])])])])])])]))]};function Vd(){return{interval:null,seconds:100,isPaused:!1}}const za={showFilter:!0,showSearch:!0,show:!1,increment(t){t.seconds--,t.seconds==0&&window.location.reload(),e.redraw()},start(t){t.interval=setInterval(za.increment,1e3,t)},stop(t){t.interval=clearInterval(t.interval)},reset(t){t.seconds=100},toggle(t){t.isPaused?za.start(t):za.stop(t),t.isPaused=!t.isPaused}};function qd(){const t=Vd();return za.start(t),{view(){return[e("div.mg-b-0",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualizaci\xF3n en:")]),e("div.d-flex.justify-content-between.mg-b-5",[e("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),e("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-15",t.isPaused?[e("i.fas.fa-play.pd-2",{title:"Start",onclick(){za.toggle(t)},style:{cursor:"pointer"}})]:[e("i.fas.fa-pause.pd-2",{title:"Pause",onclick(){za.toggle(t)},style:{cursor:"pointer"}})]))]),e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:a=>{a.dom.style.width="100%"},onupdate:a=>{a.dom.style.width=t.seconds+"%"}}))])]},onremove(){za.stop(t)}}}const Jd={oncreate:()=>{if(pe.loadEtiquetas(),pe.searchField.length!==0){var t=$("#table-etiquetas").DataTable();t.search(pe.searchField).draw()}},view:()=>e("div.row.animated.fadeInUp",{},[e("div.col-12",[e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[e("h5.mg-b-0","Admisiones:")]),e("div.col-sm-12.filemgr-content-header",{class:pe.idFiltro==1?"mg-t-35":"mg-t-40"},[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(t){pe.searchField=t.target.value},value:pe.searchField}))]),e("table.table.table-sm.tx-11[id='table-etiquetas'][width='100%']")])])])},pe={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",loaderImprimir:!1,oninit:t=>{kt.page="",pe.pedidos.length==0&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),pe.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),pe.fechaHasta=moment().format("DD-MM-YYYY"),pe.loader=!0,pe.pedidos=[],pe.fetchEtiquetas())},loadEtiquetas:()=>{$.fn.dataTable.ext.errMode="none";var t=$("#table-etiquetas").DataTable({data:pe.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"N\xB0:"},{title:"Paciente:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!0},{mRender:function(a,o,r){return r.NM_PACIENTE},visible:!0,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[2],orderable:!1}],fnRowCallback:function(a,o,r,i){e.mount(a,{view:()=>[e("td",{class:o.TP_ATENDIMENTO=="I"?"bg-primary":"bg-danger"},[o.TP_ATENDIMENTO=="I"?e("span.badge.badge-pill.badge-primary.wd-100p.mg-b-1","Internaci\xF3n"):e("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1","Emergencia")]),e("td.wd-40p",{style:{}},o.NM_PACIENTE),e("td.tx-center.tx-semibold",{onclick:()=>{pe.loaderImprimir?alert("Tienes un proceso de Impresi\xF3n pendiente."):pe.generarImpresion(o.CD_ATENDIMENTO)},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Imprimir ")]})},drawCallback:function(a){pe.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){t.search($("#searchField").val()).draw()}),t},fetchEtiquetas:()=>{let t="";pe.idFiltro==1?t="?type=ingresadas&idFiltro="+pe.idFiltro:t="?type=ingresadas&idFiltro="+pe.idFiltro+"&fechaDesde="+pe.fechaDesde+"&fechaHasta="+pe.fechaHasta,e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/ptes-etiquetas"+t,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(a){pe.loader=!1,pe.pedidos=a.data}).catch(function(a){setTimeout(function(){pe.fetchEtiquetas()},2e3)})},reloadData:()=>{var t=$("#table-etiquetas").DataTable();t.clear(),t.rows.add(pe.pedidos).draw()},generarImpresion:t=>{pe.loaderImprimir=!0,e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/as-print-etiquetas",body:{numAtencion:t},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(a){a.status?pe.imprimirEtiquetas(a.data,12):(pe.loaderImprimir=!1,alert("Proceso no se completo con \xE9xito, puedes reintetar una vez m\xE1s. Si el inconveniente persiste, comun\xEDquese con nuestra Mesa de Ayuda Ext: 2020."))}).catch(function(a){pe.loaderImprimir=!1,alert(a)})},imprimirEtiquetas:(t,a)=>{e.request({method:"POST",url:"https://eti.hospitalmetropolitano.org/imprimir",body:{file:t,printer:"ETIQUETAS_MPLUS_EME",pages:a,ancho:670,alto:120},headers:{"Content-Type":"application/json; charset=utf-8"},extract:function(o){return{status:o.status,body:o.responseText}}}).then(function(o){o.status==201?(pe.loaderImprimir=!1,alert("Proceso realizado con \xE9xito.")):(pe.loaderImprimir=!1,alert(o.body.mensaje))}).catch(function(o){pe.loaderImprimir=!1,alert(o)})},view:t=>pe.loader?[e(kt,{oncreate:kt.setPage(27)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/admisiones"},[" Admsiones "])),e("li.breadcrumb-item.active[aria-current='page']","Impresi\xF3n de Etiquetas")]),e("h1.df-title.mg-t-20.mg-b-10","Impresi\xF3n de Etiquetas:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:pe.error.length!==0?[e(kt,{oncreate:kt.setPage(27)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/admisiones"},[" Admsiones "])),e("li.breadcrumb-item.active[aria-current='page']"," Impresi\xF3n de Etiquetas ")]),e("h1.df-title.mg-t-20.mg-b-10","Impresi\xF3n de Etiquetas:"),e("div.row.animated.fadeInUp",[e("p","No existe informaci\xF3n.")])]))]:!pe.loader&&pe.pedidos.length!==0?[e(kt,{oncreate:kt.setPage(27)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/admisiones"},[" Admsiones "])),e("li.breadcrumb-item.active[aria-current='page']"," Impresi\xF3n de Etiquetas ")]),e("h1.df-title.mg-t-20.mg-b-10","Impresi\xF3n de Etiquetas:"),e(Jd)])),e("div.section-nav",[e("label.nav-label"," Impresi\xF3n de Etiquetas "),e("div.mg-t-10.bg-white",e("div.pd-20",e(qd)))])]:!pe.loader&&pe.pedidos.length==0?[e(kt,{oncreate:kt.setPage(27)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/admisiones"},[" Admsiones "])),e("li.breadcrumb-item.active[aria-current='page']"," Impresi\xF3n de Etiquetas ")]),e("h1.df-title.mg-t-20.mg-b-10","Impresi\xF3n de Etiquetas:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e(".alert.alert-danger[role='alert']","No existe informaci\xF3n disponible.")])])]))]:[e(kt,{oncreate:kt.setPage(27)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/admisiones"},[" Admsiones "])),e("li.breadcrumb-item.active[aria-current='page']"," Impresi\xF3n de Etiquetas ")]),e("h1.df-title.mg-t-20.mg-b-10","Impresi\xF3n de Etiquetas:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("p"," Error interno.")])])]))]};function zd(){return{interval:null,seconds:100,isPaused:!1}}const Ga={showFilter:!0,showSearch:!0,show:!1,increment(t){t.seconds--,t.seconds==0&&window.location.reload(),e.redraw()},start(t){t.interval=setInterval(Ga.increment,1e3,t)},stop(t){t.interval=clearInterval(t.interval)},reset(t){t.seconds=100},toggle(t){t.isPaused?Ga.start(t):Ga.stop(t),t.isPaused=!t.isPaused}};function Gd(){const t=zd();return Ga.start(t),{view(){return[e("div.mg-b-0",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualizaci\xF3n en:")]),e("div.d-flex.justify-content-between.mg-b-5",[e("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),e("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-15",t.isPaused?[e("i.fas.fa-play.pd-2",{title:"Start",onclick(){Ga.toggle(t)},style:{cursor:"pointer"}})]:[e("i.fas.fa-pause.pd-2",{title:"Pause",onclick(){Ga.toggle(t)},style:{cursor:"pointer"}})]))]),e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:a=>{a.dom.style.width="100%"},onupdate:a=>{a.dom.style.width=t.seconds+"%"}}))])]},onremove(){Ga.stop(t)}}}const Xd={oncreate:()=>{if(I.loadRecetas(),I.searchField.length!==0){var t=$("#table-recetas").DataTable();t.search(I.searchField).draw()}},view:()=>e("div.row.animated.fadeInUp",{},[e("div.col-12",[e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[e("h5.mg-b-0","Farmacia:",e("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:t=>{I.idFiltro==1&&(t.dom.innerHTML="Recetas de Hoy"),I.idFiltro==2&&(t.dom.innerHTML="Recetas entre Fechas"),I.idFiltro==3&&(t.dom.innerHTML="Recetas de Emergencia"),I.idFiltro==4&&(t.dom.innerHTML="Recetas de Hospitalizaci\xF3n"),I.idFiltro==5&&(t.dom.innerHTML="Recetas de PB"),I.idFiltro==6&&(t.dom.innerHTML="Recetas de H1"),I.idFiltro==7&&(t.dom.innerHTML="Recetas de H2"),I.idFiltro==8&&(t.dom.innerHTML="Recetas de C2")},onupdate:t=>{I.idFiltro==1&&(t.dom.innerHTML="Recetas de Hoy"),I.idFiltro==2&&(t.dom.innerHTML="Recetas entre Fechas"),I.idFiltro==3&&(t.dom.innerHTML="Recetas de Emergencia"),I.idFiltro==4&&(t.dom.innerHTML="Recetas de Hospitalizaci\xF3n"),I.idFiltro==5&&(t.dom.innerHTML="Recetas de PB"),I.idFiltro==6&&(t.dom.innerHTML="Recetas de H1"),I.idFiltro==7&&(t.dom.innerHTML="Recetas de H2"),I.idFiltro==8&&(t.dom.innerHTML="Recetas de C2")}})),e("div.d-flex.tx-14",[e(".",{class:I.idFiltro==1?"d-none":"d-flex"},[e("div.link-03",{title:"Desde"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),e("div.link-03",{style:{cursor:"pointer"},title:"Desde"},e("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:t=>{t.dom.value=I.idFiltro!==1?moment(moment(I.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{I.fechaDesde=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),I.loader=!0,I.pedidos=[],I.fetch(),e.route.set("/farmacia/recetas/?idFiltro="+I.idFiltro+"&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta)},style:{border:"transparent"}})),e("div.link-03",{title:"Hasta"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),e("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},e("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:t=>{t.dom.value=I.idFiltro!==1?moment(moment(I.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{I.fechaHasta=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),I.loader=!0,I.pedidos=[],I.fetch(),e.route.set("/farmacia/recetas/?idFiltro="+I.idFiltro+"&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta)},style:{border:"transparent"}}))]),e("div.dropdown.dropleft",[e("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},e("i.fas.fa-filter.tx-18.pd-5.tx-primary")),e(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[e("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),e(e.route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=1"},["Recetas de Hoy"]),e(e.route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=2&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Recetas entre Fechas"]),e(e.route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=3&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Recetas de Emergencia"]),e(e.route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=4&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Recetas de Hospitalizaci\xF3n"]),e(e.route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=5&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Recetas de PB"]),e(e.route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=6&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Recetas de H1"]),e(e.route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=7&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Recetas de H2"]),e(e.route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=8&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Recetas de C2"])])])])]),e("div.col-sm-12.filemgr-content-header",{class:I.idFiltro==1?"mg-t-35":"mg-t-40"},[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(t){I.searchField=t.target.value},value:I.searchField}))]),e("table.table.table-sm.tx-11[id='table-recetas'][width='100%']")])])])},I={notificaciones:[],pedidos:[],pendientes:0,despachos:0,showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:t=>{Nt.page="",I.pedidos.length==0&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),I.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),I.fechaHasta=moment().format("DD-MM-YYYY"),I.loader=!0,I.pedidos=[],I.fetch())},oncreate:t=>{vt.suscribirCanal("MetroPlus-Farmacia")},loadRecetas:()=>{$.fn.dataTable.ext.errMode="none";var t=$("#table-recetas").DataTable({data:I.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:[{title:"Fecha Receta:"},{title:"Paciente:"},{title:"Status Despacho:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(a,o,r){return r.FECHA_RECETA},visible:!0,aTargets:[0],orderable:!1},{mRender:function(a,o,r){return r.CD_PACIENTE},visible:!0,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.NM_PACIENTE},visible:!0,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return"OPCIONES"},visible:!0,aTargets:[3],orderable:!1}],fnRowCallback:function(a,o,r,i){e.mount(a,{view:()=>[e("td.tx-14",{style:{}},o.FECHA_RECETA),e("td.wd-60p",{style:{}},[e(".d-inline.tx-semibold.tx-14","NHC: "),e(".d-inline.tx-14",o.CD_PACIENTE),e("br"),e(".d-inline.tx-semibold.tx-14","PTE: "),e(".d-inline.tx-14",o.NM_PACIENTE),e("br"),e(".d-inline.tx-semibold.tx-14","N\xB0 ATENCI\xD3N: "),e(".d-inline.tx-14",o.CD_ATENDIMENTO),e(".d-inline.tx-semibold.tx-14"," UBICACI\xD3N: "),e(".d-inline.tx-14",o.UBICACION+" - "+o.DS_UNID_INT)]),e("td.tx-center.wd-10p.tx-white.tx-semibold",{style:{"background-color":o.STATUS_DESPACHO==0?"#fd7e14":"#0d9448"}},o.STATUS_DESPACHO==0?"Pendiente":"Despachado"),e("td.tx-center.wd-10p.tx-semibold",{onclick:()=>{e.route.set("/farmacia/receta/",{numeroHistoriaClinica:o.CD_PACIENTE,numeroAtencion:o.CD_ATENDIMENTO,numeroReceta:o.id,track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver ",e("br")," Receta ")]})},drawCallback:function(a){I.loader=!1,I.despachos=0,I.pendientes=0,a.aoData.map(function(o,r){o._aData.STATUS_DESPACHO==1?I.despachos++:I.pendientes++})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){t.search($("#searchField").val()).draw()}),t},fetch:()=>{let t="";I.idFiltro==1?t="?idFiltro="+I.idFiltro:t="?idFiltro="+I.idFiltro+"&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta,e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/recetas"+t,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(a){console.log(a),I.loader=!1,I.pedidos=a.data}).catch(function(a){setTimeout(function(){I.fetch()},2e3)})},reproesarMensajeXML:(t,a)=>{I.loader=!0,e.request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido?sc="+t+"&idTimeRecord="+a,extract:function(o){return{status:o.status,body:o.responseText}},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(o){o.status==200?(alert("Preceso realizado con \xE9xito."),setTimeout(function(){window.location.reload()},300)):alert("Error en env\xEDo de este mensaje. Reintente nuevamente.")}).catch(function(o){alert("Error en env\xEDo de este mensaje. Reintente nuevamente.")})},reloadData:()=>{var t=$("#table-recetas").DataTable();t.clear(),t.rows.add(I.pedidos).draw()},view:t=>I.loader?[e(Nt,{oncreate:Nt.setPage(5)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/farmacia"},[" Farmacia "])),e("li.breadcrumb-item.active[aria-current='page']","Recetas de Alta")]),e("h1.df-title.mg-t-20.mg-b-10","Recetas de Alta:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:I.error.length!==0?[e(Nt,{oncreate:Nt.setPage(5)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/farnacia"},[" Farmacia "])),e("li.breadcrumb-item.active[aria-current='page']","Recetas de Alta")]),e("h1.df-title.mg-t-20.mg-b-10","Recetas de Alta:"),e("div.row.animated.fadeInUp",[e("p","No existe informaci\xF3n.")])]))]:!I.loader&&I.pedidos.length!==0?[e(Nt,{oncreate:Nt.setPage(5)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/farmacia"},[" Farmacia "])),e("li.breadcrumb-item.active[aria-current='page']","Recetas de Alta")]),e("h1.df-title.mg-t-20.mg-b-10","Recetas de Alta:"),e(Xd)])),e("div.section-nav",[e("label.nav-label","Recetas de Alta"),e("div.mg-t-10.bg-white",{},e("div.mg-t-10.bg-white",e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","Recetas de Alta:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",I.pedidos.length),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Receta(s)")])])]),e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","Pendientes:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",I.pendientes),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Receta(s)")])])]),e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","Despachadas:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",I.despachos),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Receta(s)")])])])),e("div.pd-20",e(Gd)))])]:!I.loader&&I.pedidos.length==0?[e(Nt,{oncreate:Nt.setPage(5)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/farmacia"},[" Farmacia "])),e("li.breadcrumb-item.active[aria-current='page']","Recetas de Alta")]),e("h1.df-title.mg-t-20.mg-b-10","Recetas de Alta:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e(".alert.alert-danger[role='alert']","No existe informaci\xF3n disponible.")])])]))]:[e(Nt,{oncreate:Nt.setPage(5)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("p"," Error interno.")])])]))]},oa={observaciones:"",data:[],obs:"",show:!1,loadObservaciones:()=>{moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-observaciones").DataTable({data:oa.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){a.aoData.map(function(o,r){e.mount(o.anCells[0],{view:function(){return e("div.demo-static-toast",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[e("div.toast-header.bg-primary",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto","Observaci\xF3n:"),e("small.tx-white",moment.unix(o._aData.timestamp).format("DD-MM-YYYY HH:mm"))]),e("div.toast-body.small",o._aData.message)]))}})})}});return t},reloadObservaciones:()=>{var t=$("#table-observaciones").DataTable();t.clear(),t.rows.add(oa.data).draw()},fetch:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/obs-farmacia/"+Pe.numeroReceta}).then(function(t){oa.data=t.data,oa.loadObservaciones()}).catch(function(t){})},sendObs:()=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/obs-farmacia/"+Pe.numeroReceta,body:{message:oa.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(oa.observaciones="",oa.fetch(),alert("Observaci\xF3n registrada con \xE9xito."))}).catch(function(t){})}},Kd={view:()=>{if(Pe.medicamentos.length!==0)return[e("thead",e("tr",[e("th","MEDICACI\xD3N"),e("th","CANT:"),e("th","DESP:")])),e("tbody",[Pe.medicamentos.map(function(t,a,o){return t.DESP.includes("SI")?[e("tr",[e("td.tx-semibold.tx-normal",[t.MEDICACION,e("br"),t.OBS!==null?e(".d-inline","Observaciones:"):"",t.OBS!==null?e("br"):"",t.OBS!==null?e(".d-inline",t.OBS):""]),e("td.tx-semibold.tx-normal",t.CANT),e("td.tx-semibold.tx-normal.bg-danger.tx-white",t.DESP)])]:[e("tr",[e("td.tx-semibold.tx-normal",[t.MEDICACION,e("br"),t.OBS!==null?e(".d-inline","Observaciones:"):"",t.OBS!==null?e("br"):"",t.OBS!==null?e(".d-inline",t.OBS):""]),e("td.tx-color-03.tx-normal",t.CANT),e("td.tx-color-03.tx-normal",t.DESP)])]})])]}},Pe={data:[],medicamentos:[],despacho:!1,error:"",numeroReceta:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:t=>{t.attrs.numeroReceta!==void 0&&(document.title="Detalle de Receta N\xB0: "+t.attrs.numeroReceta+" | "+C.title,(Pe.data!==void 0&&Pe.data.length==0||Pe.numeroReceta!==t.attrs.numeroReceta)&&(Pe.numeroReceta=t.attrs.numeroReceta,Pe.numeroAtencion=t.attrs.numeroAtencion,Pe.numeroHistoriaClinica=t.attrs.numeroHistoriaClinica,Pe.fetch()))},fetch:()=>{Pe.data=[],Pe.loader=!0,e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-receta",body:{numeroReceta:Pe.numeroReceta},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status?(t.data=t.data[0],Pe.loader=!1,Pe.data=t.data,Pe.despacho=Pe.data.STATUS_DESPACHO==1,Pe.medicamentos=t.data.DATA,oa.fetch()):Pe.error=t.message}).catch(function(t){})},checkDespacho:()=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/check-receta",body:{numeroReceta:Pe.numeroReceta,status:Pe.despacho},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){Pe.data.FECHA_DESPACHO=t.FECHA_DESPACHO}).catch(function(t){})},view:t=>[e(_,{oncreate:_.setPage("farmacia")}),e(Nt,{oncreate:Nt.setPage(5)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/farmacia"},["Farmacia"])),e("li.breadcrumb-item.active[aria-current='page']","DETALLE DE RECETA")]),e("h1.df-title.mg-t-20.mg-b-10","Detalle de Receta N\xB0: "+Pe.numeroReceta),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",{oncreate:a=>{Pe.loader?a.dom.hidden=!1:a.dom.hidden=!0},onupdate:a=>{Pe.loader?a.dom.hidden=!1:a.dom.hidden=!0}},[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])]),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:a=>{Pe.loader?a.dom.hidden=!0:a.dom.hidden=!1},onupdate:a=>{Pe.loader?a.dom.hidden=!0:a.dom.hidden=!1}},[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[Pe.despacho?[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-success mg-b-2 mg-r-2"},[],"Despachado")]:[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-light mg-b-2 mg-r-2"},[],"Pendiente")],e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{I.idFiltro!==void 0&&I.idFiltro>1?(I.pedidos=[],e.route.set("/farmacia/recetas/",{idFiltro:I.idFiltro,fechaDesde:I.fechaDesde,fechaHasta:I.fechaHasta})):(I.pedidos=[],e.route.set("/farmacia/recetas/",{idFiltro:1}))}}))),e("div.table-responsive",[e("table.table.table-bordered.table-sm.tx-12",[e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS RECETA:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 de Receta:"),e("td",{style:{"background-color":"#eaeff5"}},Pe.data.CD_DOCUMENTO_CLINICO),e("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Pe.data.DT_ATENDIMENTO),e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 de Atenci\xF3n:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Pe.data.CD_ATENDIMENTO)])]),e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Pe.data.NM_PACIENTE),e("th",{style:{"background-color":"#a8bed6"}},"NHC:"),e("td",{style:{"background-color":"#eaeff5"}},Pe.data.CD_PACIENTE),e("th",{style:{"background-color":"#a8bed6"}},"Ubicaci\xF3n:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Pe.data.UBICACION)]),e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","MEDICAMENTOS Y OBSERVACIONES:")]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Medicamentos:"),e("td.pd-0[colspan='8']",{style:{"background-color":"#eaeff5"}},e(Kd))]),e("tr.d-print-none.bg-litecoin.op-9.tx-white.",[e("th[scope='col'][colspan='9']","DESPACHO Y PRESCRIPCIONES:")]),e("tr.d-print-none",[e("td[colspan='9']",{style:{"background-color":"#eaeff5"}},e("ul.nav.nav-tabs[id='myTab'][role='tablist']",[e("li.nav-item",e("a.nav-link[target='_target'][href='"+Pe.data.URL+"']",{style:{color:"#476ba3"}},e("i.fas.fa-file-alt.pd-1.mg-r-2")," Ver Receta ")),e("li.nav-item",e("a.nav-link[id='home-comment'][data-toggle='tab'][href='#comment'][role='tab'][aria-controls='comment']",{style:{color:"#476ba3"}},e("i.fas.fa-inbox.pd-1.mg-r-2")," Despacho "))]))]),e("tr.d-print-none",[e("td[colspan='9']",{},e(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[e(".tab-pane.fade[id='comment'][role='tabpanel'][aria-labelledby='home-comment']",[e("p.mg-5",[e("span.badge.badge-light.wd-100p.tx-14","Despacho Farmacia"),e("tr",[e("td.tx-18.tx-medium.text-left","\xBFConfirmar despacho?:"),e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.custom-control-input.tx-16[type='checkbox'][id='check_despacho']",{checked:Pe.despacho,onclick:function(a){a.preventDefault(),this.checked?(this.checked=!0,Pe.despacho=!0,Pe.checkDespacho()):(this.checked=!1,Pe.despacho=!1,Pe.checkDespacho())}}),e("label.custom-control-label.tx-16[for='check_despacho']",Pe.despacho?["SI a las: "+Pe.data.FECHA_DESPACHO]:["SI"])]))])]),e("p.mg-5",[e("span.badge.badge-light.wd-100p.tx-14","Observaciones"),e("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(a){oa.observaciones=a.target.value},value:oa.observaciones}),e("div.mg-0.mg-t-5.text-right",[e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){oa.observaciones.length!==0?oa.sendObs():alert("Observaciones es obligatorio.")}},[e("i.fas.fa-save.mg-r-5")],"Guardar")]),e("hr.wd-100p.mg-t-5.mg-b-5")]),e("p.mg-5",[e("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),e("table.table.table-sm[id='table-observaciones'][width='100%']")])])]))]),e("tr.d-print-none",[])])])])])])])])]))]};let la={listado:[],loading:!1,cargarListado:()=>{la.listado=[],la.loading=!0,m.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/medicos-patologia",body:{searchField:" "},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(t){t.status?(la.listado=t.data,la.loading=!1):(la.loading=!1,la.error=t.message)}).catch(function(t){la.loading=!1,la.error=t,alert(la.error)})}},Fr=la;const Or={oninit:t=>{t.attrs.firma!==void 0&&(Fr=t.attrs.firma)},view:t=>[Fr.listado.map(function(a){return[m("tr#"+a.CD_PRESTADOR,[m("th.tx-12.cedulamedico",{style:{width:"20%"}},a.CD_PRESTADOR),m("td.tx-12.nombremedico",{style:{width:"60%"}},a.NM_PRESTADOR),m("td.tx-12.firmamedico",{style:{width:"20%"}},m("img",{src:"/assets/dashforge/img/firmas/firma1.jpg",width:"100",height:"40"}))])]})]};let da=la;const Wd={oninit:t=>{da.cargarListado()},oncreate:t=>{da.listado.length==0?m.mount(document.querySelector("div#loader"),ya):da.listado.length>0&&(m.mount(document.querySelector("div#loader"),null),m.mount(document.querySelector("table.table#listado-firmas"),{view:a=>[m(Or,{firma:da})]}))},onupdate:t=>{da.listado.length==0&&da.loading?m.mount(document.querySelector("div#loader"),ya):da.listado.length>0&&!da.loading?(m.mount(document.querySelector("div#loader"),null),m.mount(document.querySelector("table.table#listado-firmas"),{view:a=>[m(Or,{firma:da})]})):da.listado.length==0&&!da.loading&&m.mount(document.querySelector("div#loader"),ho)},view:t=>[m(_,{oncreate:_.setPage("patologia")}),m(ut,{oncreate:ut.setPage(29)}),m("div.content.content-components",m("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[m(ua,[{path:"/",label:"metroplus"},{path:"/patologia",label:"patologia"},{path:"",label:"listado firmas"}]),m("h1.df-title.mg-t-20.mg-b-10","Firma del Pat\xF3logo para Informes"),m("table.table",{style:{width:"100%"}},[m("tr",[m("th.tx-12.thead-light",{scope:"col",style:{width:"20%"}},"CI M\xE9dico"),m("th.tx-12.thead-light",{scope:"col",style:{width:"60%"}},"Nombre M\xE9dico"),m("th.tx-12.thead-light",{scope:"col",style:{width:"20%"}},"Firma M\xE9dico")])]),m("table.table#listado-firmas"),m("div#loader")]))]},Ao={view:()=>[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",{style:{width:"50%",float:"right"}},e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{e.mount(document.querySelector("#gestion-formulario"),null),e.mount(document.querySelector("#cerrar-formulario"),null)}})))]};let Ca=We;const Zd={oninit:()=>{C.isAuth()},view:t=>e("form#crear-plantilladiagnostico",[e("table.table",[e("tr.nombreplantilla",[e("th.tx-12","Nombre de la Plantilla"),e("td.tx-12",[e("input.form-control[id='inputnombreplantilla'][type='text'][placeholder='Nombre de la Plantilla'][title='Nombre de la Plantilla']")])]),e("tr.plantilla",[e("th.tx-12","Plantilla"),e("td.tx-12",[e("textarea.form-control[id='inputplantilla'][placeholder='Plantilla'][title='Plantilla']",{style:"min-height: 100px",rows:4})])]),e("tr",[e("td.tx-12"),e("td.tx-12",[e("div#plantilla"),e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){if(t.dom.inputnombreplantilla.value.length===0)Ca.error="El campo Nombre de la Plantilla es requerido",alert(Ca.error),t.dom.inputnombreplantilla.focus();else if(t.dom.inputplantilla.value.length===0)Ca.error="El campo Plantilla es requerido",alert(Ca.error),t.dom.inputplantilla.focus();else{let a={nombreplantilla:t.dom.inputnombreplantilla.value,nombreusuario:W.user.user,plantilla:t.dom.inputplantilla.value};Ca.guardar(a),e.mount(document.querySelector("#gestion-formulario"),null),e.mount(document.querySelector("#cerrar-formulario"),null),Ca.listado=[],Ca.loading=!0}},style:{margin:"6px 0"}},[e("i.fas.fa-save.mg-r-5")],"Guardar")])])])])};let Ia=We,Po=null;const Qd={oninit:t=>{t.attrs.diagnostico!==void 0&&(Po=t.attrs.diagnostico),C.isAuth()},view:t=>e("form#editar-plantilladiagnostico",[e("table.table",[e("tr.nombreplantilla",[e("th.tx-12","Nombre de la Plantilla"),e("td.tx-12",[e("input.form-control[id='inputnombreplantilla'][type='text'][placeholder='Nombre de la Plantilla'][title='Nombre de la Plantilla']",{value:Po.nombreplantilla})])]),e("tr.plantilla",[e("th.tx-12","Plantilla"),e("td.tx-12",[e("textarea.form-control[id='inputplantilla'][placeholder='Plantilla'][title='Plantilla']",{style:"min-height: 100px",rows:4,value:Po.plantilla})])]),e("tr",[e("td.tx-12"),e("td.tx-12",[e("div#plantilla"),e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){if(t.dom.inputnombreplantilla.value.length===0)Ia.error="El campo Nombre de la Plantilla es requerido",alert(Ia.error),t.dom.inputnombreplantilla.focus();else if(t.dom.inputplantilla.value.length===0)Ia.error="El campo Plantilla es requerido",alert(Ia.error),t.dom.inputplantilla.focus();else{let a={id:Po.id,nombreplantilla:t.dom.inputnombreplantilla.value,nombreusuario:W.user.user,plantilla:t.dom.inputplantilla.value};Ia.actualizar(a),e.mount(document.querySelector("#gestion-formulario"),null),e.mount(document.querySelector("#cerrar-formulario"),null),Ia.listado=[],Ia.loading=!0}},style:{margin:"6px 0"}},[e("i.fas.fa-save.mg-r-5")],"Guardar")])])])])};let lo=We;const Hr={oninit:t=>{t.attrs.diagnostico!==void 0&&(lo=t.attrs.diagnostico)},view:t=>[lo.listado.map(function(a){return[e("tr#"+a.id,[e("td.tx-12.nombreplantilla",{style:{width:"20%"}},a.nombreplantilla),e("td.tx-12.plantilla",{style:{width:"50%"}},a.plantilla),e("td.tx-12",{style:{width:"20%"}},[e("div.mg-0.mg-t-5.text-left",[e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){e.mount(document.querySelector("#gestion-formulario"),{view:()=>e(Qd,{diagnostico:a})}),e.mount(document.querySelector("#cerrar-formulario"),Ao)}},[e("i.fas.fa-pen.mg-r-5")],"Editar"),e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){window.confirm("Est\xE1 seguro que desea borrar el elemento?")&&(lo.eliminar(a),lo.listado=[],lo.loading=!0)}},[e("i.fas.fa-link.mg-r-5")],"Eliminar")])])])]})]};let ba=We;const el={oninit:t=>{C.isAuth(),We.cargarListado(W.user.user)},oncreate:t=>{ba.listado.length==0?e.mount(document.querySelector("div#loader"),ya):ba.listado.length>0&&(e.mount(document.querySelector("div#loader"),null),e.mount(document.querySelector("table.table#listado-diagnostico"),{view:a=>[e(Hr,{diagnostico:ba})]}))},onupdate:t=>{ba.listado.length==0&&ba.loading?e.mount(document.querySelector("div#loader"),ya):ba.listado.length>0&&!ba.loading?(e.mount(document.querySelector("div#loader"),null),e.mount(document.querySelector("table.table#listado-diagnostico"),{view:a=>[e(Hr,{diagnostico:ba})]})):ba.listado.length==0&&!ba.loading&&e.mount(document.querySelector("div#loader"),ho)},view:t=>[e(_,{oncreate:_.setPage("patologia")}),e(ut,{oncreate:ut.setPage(28)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e(ua,[{path:"/",label:"metroplus"},{path:"/patologia",label:"patologia"},{path:"",label:"listado plantillas diagn\xF3stico"}]),e("h1.df-title.mg-t-20.mg-b-10","Listado de Plantillas para diagn\xF3stico"),e("div.mg-0.mg-t-10.mg-b-10.text-left",[e("button#btnnuevaplantilla.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:()=>{e.mount(document.querySelector("#gestion-formulario"),Zd),e.mount(document.querySelector("#cerrar-formulario"),Ao)}},[e("i.fas.mg-r-5")],"Nueva Plantilla diagn\xF3stico"),e("div#cerrar-formulario",{style:{width:"50%",float:"right"}})]),e("div#gestion-formulario"),e("table.table",{style:{width:"100%"}},[e("tr",[e("th.tx-12.thead-light",{scope:"col",style:{width:"20%"}},"Nombre Plantilla"),e("th.tx-12.thead-light",{scope:"col",style:{width:"50%"}},"Plantilla"),e("th.tx-12.thead-light",{scope:"col",style:{width:"20%"}},"")])]),e("table.table#listado-diagnostico"),e("div#loader")]))]};let Na=Ue;const tl={oninit:()=>{C.isAuth()},view:t=>m("form#crear-plantillamacroscopico",[m("table.table",[m("tr.nombreplantilla",[m("th.tx-12","Nombre de la Plantilla"),m("td.tx-12",[m("input.form-control[id='inputnombreplantilla'][type='text'][placeholder='Nombre de la Plantilla'][title='Nombre de la Plantilla']")])]),m("tr.plantilla",[m("th.tx-12","Plantilla"),m("td.tx-12",[m("textarea.form-control[id='inputplantilla'][placeholder='Plantilla'][title='Plantilla']",{style:"min-height: 100px",rows:4})])]),m("tr",[m("td.tx-12"),m("td.tx-12",[m("div#plantilla"),m("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){if(t.dom.inputnombreplantilla.value.length===0)Na.error="El campo Nombre de la Plantilla es requerido",alert(Na.error),t.dom.inputnombreplantilla.focus();else if(t.dom.inputplantilla.value.length===0)Na.error="El campo Plantilla es requerido",alert(Na.error),t.dom.inputplantilla.focus();else{let a={nombreplantilla:t.dom.inputnombreplantilla.value,nombreusuario:W.user.user,plantilla:t.dom.inputplantilla.value};Na.guardar(a),m.mount(document.querySelector("#gestion-formulario"),null),m.mount(document.querySelector("#cerrar-formulario"),null),Na.listado=[],Na.loading=!0}},style:{margin:"6px 0"}},[m("i.fas.fa-save.mg-r-5")],"Guardar")])])])])};let Ra=Ue,Eo=null;const al={oninit:t=>{t.attrs.macroscopico!==void 0&&(Eo=t.attrs.macroscopico),C.isAuth()},view:t=>m("form#editar-plantillamacroscopico",[m("table.table",[m("tr.nombreplantilla",[m("th.tx-12","Nombre de la Plantilla"),m("td.tx-12",[m("input.form-control[id='inputnombreplantilla'][type='text'][placeholder='Nombre de la Plantilla'][title='Nombre de la Plantilla']",{value:Eo.nombreplantilla})])]),m("tr.plantilla",[m("th.tx-12","Plantilla"),m("td.tx-12",[m("textarea.form-control[id='inputplantilla'][placeholder='Plantilla'][title='Plantilla']",{style:"min-height: 100px",rows:4,value:Eo.plantilla})])]),m("tr",[m("td.tx-12"),m("td.tx-12",[m("div#plantilla"),m("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){if(t.dom.inputnombreplantilla.value.length===0)Ra.error="El campo Nombre de la Plantilla es requerido",alert(Ra.error),t.dom.inputnombreplantilla.focus();else if(t.dom.inputplantilla.value.length===0)Ra.error="El campo Plantilla es requerido",alert(Ra.error),t.dom.inputplantilla.focus();else{let a={id:Eo.id,nombreplantilla:t.dom.inputnombreplantilla.value,nombreusuario:W.user.user,plantilla:t.dom.inputplantilla.value};Ra.actualizar(a),m.mount(document.querySelector("#gestion-formulario"),null),m.mount(document.querySelector("#cerrar-formulario"),null),Ra.listado=[],Ra.loading=!0}},style:{margin:"6px 0"}},[m("i.fas.fa-save.mg-r-5")],"Guardar")])])])])};let co=Ue;const $r={oninit:t=>{t.attrs.macroscopico!==void 0&&(co=t.attrs.macroscopico)},view:t=>[co.listado.map(function(a){return[m("tr#"+a.id,[m("td.tx-12.nombreplantilla",{style:{width:"20%"}},a.nombreplantilla),m("td.tx-12.plantilla",{style:{width:"50%"}},a.plantilla),m("td.tx-12",{style:{width:"20%"}},[m("div.mg-0.mg-t-5.text-left",[m("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){m.mount(document.querySelector("#gestion-formulario"),{view:()=>m(al,{macroscopico:a})}),m.mount(document.querySelector("#cerrar-formulario"),Ao)}},[m("i.fas.fa-pen.mg-r-5")],"Editar"),m("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){window.confirm("Est\xE1 seguro que desea borrar el elemento?")&&(co.eliminar(a),co.listado=[],co.loading=!0)}},[m("i.fas.fa-link.mg-r-5")],"Eliminar")])])])]})]};let ha=Ue;const ol={oninit:t=>{C.isAuth(),Ue.cargarListado(W.user.user)},oncreate:t=>{ha.listado.length==0?e.mount(document.querySelector("div#loader"),ya):ha.listado.length>0&&(e.mount(document.querySelector("div#loader"),null),e.mount(document.querySelector("table.table#listado-macroscopico"),{view:a=>[e($r,{macroscopico:ha})]}))},onupdate:t=>{ha.listado.length==0&&ha.loading?e.mount(document.querySelector("div#loader"),ya):ha.listado.length>0&&!ha.loading?(e.mount(document.querySelector("div#loader"),null),e.mount(document.querySelector("table.table#listado-macroscopico"),{view:a=>[e($r,{macroscopico:ha})]})):ha.listado.length==0&&!ha.loading&&e.mount(document.querySelector("div#loader"),ho)},view:t=>[e(_,{oncreate:_.setPage("patologia")}),e(ut,{oncreate:ut.setPage(27)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e(ua,[{path:"/",label:"metroplus"},{path:"/patologia",label:"patologia"},{path:"",label:"listado plantillas macrosc\xF3pico"}]),e("h1.df-title.mg-t-20.mg-b-10","Listado de Plantillas para Macrosc\xF3pico"),e("div.mg-0.mg-t-10.mg-b-10.text-left",[e("button#btnnuevaplantilla.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:()=>{e.mount(document.querySelector("#gestion-formulario"),tl),e.mount(document.querySelector("#cerrar-formulario"),Ao)}},[e("i.fas.mg-r-5")],"Nueva Plantilla Macrosc\xF3pico"),e("div#cerrar-formulario",{style:{width:"50%",float:"right"}})]),e("div#gestion-formulario"),e("table.table",{style:{width:"100%"}},[e("tr",[e("th.tx-12.thead-light",{scope:"col",style:{width:"20%"}},"Nombre Plantilla"),e("th.tx-12.thead-light",{scope:"col",style:{width:"50%"}},"Plantilla"),e("th.tx-12.thead-light",{scope:"col",style:{width:"20%"}},"")])]),e("table.table#listado-macroscopico"),e("div#loader")]))]},rl={"/":C,"/subscribir/notificaciones":mo,"/redir/mv/:idAtencion":sn,"/inicio":is,"/laboratorio":jn,"/laboratorio/lisa/pedidos/ingresados":{oninit:t=>{if(C.isAuth("laboratorio",16),document.title="Recepci\xF3n de Pedidos | "+C.title,t.attrs.idFiltro==null&&t.attrs.fechaDesde==null)return e.route.set("/laboratorio/lisa/pedidos/ingresados/",{idFiltro:1});V.idFiltro=t.attrs.idFiltro},onupdate:t=>{t.attrs.idFiltro!==V.idFiltro&&V.idFiltro!==1&&V.fechaDesde!==void 0?(V.idFiltro=t.attrs.idFiltro,V.fechaDesde=t.attrs.fechaDesde,V.fechaHasta=t.attrs.fechaHasta,V.loader=!0,V.pedidos=[],V.fetchPedidosIngresados()):t.attrs.idFiltro==1&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),V.idFiltro=t.attrs.idFiltro,V.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),V.fechaHasta=moment().format("DD-MM-YYYY"),V.pedidos.length==0?(V.loader=!0,V.pedidos=[],V.fetchPedidosIngresados()):V.loader=!1)},view:t=>[e(_,{oncreate:_.setPage("laboratorio")}),e(V)]},"/laboratorio/lisa/pedido/":{onmatch:t=>t.numeroPedido!==void 0&&t.idTimeRecord!==void 0?ne:e.route.SKIP},"/laboratorio/notificaciones":uo,"/laboratorio/notificaciones/filtros":ht,"/laboratorio/notificaciones/enviadas":ie,"/laboratorio/notificaciones/pendientes":wt,"/laboratorio/notificaciones/error":st,"/laboratorio/flebotomista":{oninit:t=>{if(C.isAuth("laboratorio",16),document.title="Recepci\xF3n de Pedidos | "+C.title,t.attrs.idFiltro==null&&t.attrs.fechaDesde==null)return e.route.set("/laboratorio/flebotomista/",{idFiltro:1});K.idFiltro=t.attrs.idFiltro},onupdate:t=>{t.attrs.idFiltro!==K.idFiltro&&K.idFiltro!==1&&K.fechaDesde!==void 0?(K.idFiltro=t.attrs.idFiltro,K.fechaDesde=t.attrs.fechaDesde,K.fechaHasta=t.attrs.fechaHasta,K.loader=!0,K.pedidos=[],K.fetchPedidos()):t.attrs.idFiltro==1&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),K.idFiltro=t.attrs.idFiltro,K.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),K.fechaHasta=moment().format("DD-MM-YYYY"),K.pedidos.length==0?(K.loader=!0,K.pedidos=[],K.fetchPedidos()):K.loader=!1)},view:t=>[e(_,{oncreate:_.setPage("laboratorio")}),e(K)]},"/laboratorio/flebotomista/pedido/":{onmatch:t=>t.numeroPedido!==void 0&&t.idTimeRecord!==void 0?ce:e.route.SKIP},"/laboratorio/formularios":Wn,"/emergencia":ls,"/emergencia/auxiliar/pedidos/laboratorio":us,"/emergencia/auxiliar/pedido/:idPedido":Pt,"/emergencia/enfermeria/pedidos/laboratorio":hs,"/emergencia/enfermeria/pedido/:idPedido":Et,"/farmacia":Ds,"/farmacia/recetas":{oninit:t=>{if(C.isAuth("farmacia",5),document.title="Recetas de Alta | "+C.title,t.attrs.idFiltro==null&&t.attrs.fechaDesde==null)return e.route.set("/farmacia/recetas/",{idFiltro:1});I.idFiltro=t.attrs.idFiltro},onupdate:t=>{t.attrs.idFiltro!==I.idFiltro&&I.idFiltro!==1&&I.fechaDesde!==void 0?(I.idFiltro=t.attrs.idFiltro,I.fechaDesde=t.attrs.fechaDesde,I.fechaHasta=t.attrs.fechaHasta,I.loader=!0,I.pedidos=[],I.fetch()):t.attrs.idFiltro==1&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),I.idFiltro=t.attrs.idFiltro,I.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),I.fechaHasta=moment().format("DD-MM-YYYY"),I.pedidos.length==0?(I.loader=!0,I.pedidos=[],I.fetch()):I.loader=!1)},view:t=>[e(_,{oncreate:_.setPage("laboratorio")}),e(I)]},"/farmacia/receta/":{onmatch:t=>t.numeroReceta!==void 0?Pe:e.route.SKIP},"/admisiones":ks,"/admisiones/pre":Ut,"/admisiones/etiquetas":{oninit:t=>{if(C.isAuth("admisiones",7),document.title="Impresi\xF3n de Etiquetas | "+C.title,t.attrs.idFiltro==null&&t.attrs.fechaDesde==null)return e.route.set("/admisiones/etiquetas/",{idFiltro:1});pe.idFiltro=t.attrs.idFiltro},onupdate:t=>{t.attrs.idFiltro!==pe.idFiltro&&pe.idFiltro!==1&&pe.fechaDesde!==void 0?(pe.idFiltro=t.attrs.idFiltro,pe.fechaDesde=t.attrs.fechaDesde,pe.fechaHasta=t.attrs.fechaHasta,pe.loader=!0,pe.pedidos=[],pe.fetchEtiquetas()):t.attrs.idFiltro==1&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),pe.idFiltro=t.attrs.idFiltro,pe.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),pe.fechaHasta=moment().format("DD-MM-YYYY"),pe.pedidos.length==0?(pe.loader=!0,pe.pedidos=[],pe.fetchEtiquetas()):pe.loader=!1)},view:t=>[e(_,{oncreate:_.setPage("admisiones")}),e(pe)]},"/mantenimiento":Os,"/mantenimiento/higienizacion":Pa,"/hospitalizacion":Us,"/hospitalizacion/pasaportes":po,"/hospitalizacion/control-camas":_e,"/terapia-respiratoria/pedidos":{oninit:t=>{if(C.isAuth("terapia-respiratoria",18),document.title="Recepci\xF3n de Pedidos | "+C.title,t.attrs.idFiltro==null&&t.attrs.fechaDesde==null)return e.route.set("/terapia-respiratoria/pedidos/",{idFiltro:1});J.idFiltro=t.attrs.idFiltro},onupdate:t=>{t.attrs.idFiltro!==J.idFiltro&&J.idFiltro!==1&&J.fechaDesde!==void 0?(J.idFiltro=t.attrs.idFiltro,J.fechaDesde=t.attrs.fechaDesde,J.fechaHasta=t.attrs.fechaHasta,J.loader=!0,J.pedidos=[],J.fetchPedidos()):t.attrs.idFiltro==1&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),J.idFiltro=t.attrs.idFiltro,J.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),J.fechaHasta=moment().format("DD-MM-YYYY"),J.pedidos.length==0?(J.loader=!0,J.pedidos=[],J.fetchPedidos()):J.loader=!1)},view:t=>[e(_,{oncreate:_.setPage("terapia-respiratoria")}),e(J)]},"/bco-sangre/pedidos":_t,"/neurofisiologia":gd,"/neurofisiologia/pedidos":{oninit:t=>{if(C.isAuth("neurofisiologia",20),document.title="Recepci\xF3n de Pedidos | "+C.title,t.attrs.idFiltro==null&&t.attrs.fechaDesde==null)return e.route.set("/neurofisiologia/pedidos/",{idFiltro:1});z.idFiltro=t.attrs.idFiltro},onupdate:t=>{t.attrs.idFiltro!==z.idFiltro&&z.idFiltro!==1&&z.fechaDesde!==void 0?(z.idFiltro=t.attrs.idFiltro,z.fechaDesde=t.attrs.fechaDesde,z.fechaHasta=t.attrs.fechaHasta,z.loader=!0,z.pedidos=[],z.fetchPedidos()):t.attrs.idFiltro==1&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),z.idFiltro=t.attrs.idFiltro,z.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),z.fechaHasta=moment().format("DD-MM-YYYY"),z.pedidos.length==0?(z.loader=!0,z.pedidos=[],z.fetchPedidos()):z.loader=!1)},view:t=>[e(_,{oncreate:_.setPage("neurofisiologia")}),e(z)]},"/neurofisiologia/pedido/":{onmatch:t=>t.numeroPedido!==void 0?ke:e.route.SKIP},"/terapia-respiratoria":yd,"/terapia-respiratoria/pedido/":{onmatch:t=>t.numeroPedido!==void 0?Se:e.route.SKIP},"/imagen":bd,"/imagen/pedidos":{oninit:t=>{if(C.isAuth("laboratorio",16),document.title="Recepci\xF3n de Pedidos | "+C.title,t.attrs.idFiltro==null&&t.attrs.fechaDesde==null)return e.route.set("/imagen/pedidos/",{idFiltro:1});G.idFiltro=t.attrs.idFiltro},onupdate:t=>{t.attrs.idFiltro!==G.idFiltro&&G.idFiltro!==1&&G.fechaDesde!==void 0?(G.idFiltro=t.attrs.idFiltro,G.fechaDesde=t.attrs.fechaDesde,G.fechaHasta=t.attrs.fechaHasta,G.loader=!0,G.pedidos=[],G.fetchPedidos()):t.attrs.idFiltro==1&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),G.idFiltro=t.attrs.idFiltro,G.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),G.fechaHasta=moment().format("DD-MM-YYYY"),G.pedidos.length==0?(G.loader=!0,G.pedidos=[],G.fetchPedidos()):G.loader=!1)},view:t=>[e(_,{oncreate:_.setPage("imagen")}),e(G)]},"/imagen/pedido/":{onmatch:t=>t.numeroPedido!==void 0?Ae:e.route.SKIP},"/endoscopia":Ed,"/endoscopia/pedidos":{oninit:t=>{if(C.isAuth("endoscopia",25),document.title="Recepci\xF3n de Pedidos | "+C.title,t.attrs.idFiltro==null&&t.attrs.fechaDesde==null)return e.route.set("/endoscopia/pedidos/",{idFiltro:1});X.idFiltro=t.attrs.idFiltro},onupdate:t=>{t.attrs.idFiltro!==X.idFiltro&&X.idFiltro!==1&&X.fechaDesde!==void 0?(X.idFiltro=t.attrs.idFiltro,X.fechaDesde=t.attrs.fechaDesde,X.fechaHasta=t.attrs.fechaHasta,X.loader=!0,X.pedidos=[],X.fetchPedidos()):t.attrs.idFiltro==1&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),X.idFiltro=t.attrs.idFiltro,X.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),X.fechaHasta=moment().format("DD-MM-YYYY"),X.pedidos.length==0?(X.loader=!0,X.pedidos=[],X.fetchPedidos()):X.loader=!1)},view:t=>[e(_,{oncreate:_.setPage("endoscopia")}),e(X)]},"/endoscopia/pedido/":{onmatch:t=>t.numeroPedido!==void 0?Ie:e.route.SKIP},"/patologia":Id,"/patologia/pedidos":{oninit:t=>{if(C.isAuth("patologia",26),document.title="Recepci\xF3n de Pedidos | "+C.title,t.attrs.idFiltro==null&&t.attrs.fechaDesde==null)return e.route.set("/patologia/pedidos/",{idFiltro:1});N.idFiltro=t.attrs.idFiltro},onupdate:t=>{t.attrs.idFiltro!==N.idFiltro&&N.idFiltro!==1&&N.fechaDesde!==void 0?(N.idFiltro=t.attrs.idFiltro,N.fechaDesde=t.attrs.fechaDesde,N.fechaHasta=t.attrs.fechaHasta,N.loader=!0,N.pedidos=[],N.fetchPedidos()):t.attrs.idFiltro==1&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),N.idFiltro=t.attrs.idFiltro,N.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),N.fechaHasta=moment().format("DD-MM-YYYY"),N.pedidos.length==0?(N.loader=!0,N.pedidos=[],N.fetchPedidos()):N.loader=!1)},view:t=>[e(_,{oncreate:_.setPage("patologia")}),e(N)]},"/patologia/pedidos/nuevoinforme":{view:t=>t.attrs.numeroPedido!==void 0&&t.attrs.numeroAtencion!==void 0&&t.attrs.numeroHistoriaClinica!==void 0?e(fi,{numeroPedido:t.attrs.numeroPedido,numeroAtencion:t.attrs.numeroAtencion,numeroHistoriaClinica:t.attrs.numeroHistoriaClinica}):e.route.SKIP},"/patologia/pedidos/editarinforme":{view:t=>e(mi,{informeId:t.attrs.informeId,informeModelo:t.attrs.informeId})},"/patologia/gestionPlantillaMacroscopico":{view:t=>[e(_,{oncreate:_.setPage("patologia")}),e(ol)]},"/patologia/gestionPlantillaDiagnostico":{view:t=>[e(_,{oncreate:_.setPage("patologia")}),e(el)]},"/patologia/gestionFirmas":{view:t=>[e(_,{oncreate:_.setPage("patologia")}),e(Wd)]},"/patologia/pedido/":{onmatch:t=>t.numeroPedido!==void 0?ve:e.route.SKIP},"/auth":un,"/mi-perfil":ts,"/salir":dn,"/notificaciones":bo,"/:404...":as},il="/";e.route.prefix="";e.route(document.body.querySelector("#app"),il,rl);
